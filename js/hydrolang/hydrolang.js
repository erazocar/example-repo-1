import*as __WEBPACK_EXTERNAL_MODULE_https_unpkg_com_geotiff_2_1_3_dist_browser_geotiff_js_8d5cb1a3__ from"https://unpkg.com/geotiff@2.1.3/dist-browser/geotiff.js";import*as __WEBPACK_EXTERNAL_MODULE_https_cdn_jsdelivr_net_npm_zarrita_esm_c0c7102f__ from"https://cdn.jsdelivr.net/npm/zarrita/+esm";import*as __WEBPACK_EXTERNAL_MODULE_https_cdn_jsdelivr_net_npm_fzstd_esm_79a353d4__ from"https://cdn.jsdelivr.net/npm/fzstd/+esm";import*as __WEBPACK_EXTERNAL_MODULE_https_cdn_skypack_dev_pako_4fe3d734__ from"https://cdn.skypack.dev/pako";import*as __WEBPACK_EXTERNAL_MODULE_https_esm_sh_proj4_e6b7dd70__ from"https://esm.sh/proj4";import*as __WEBPACK_EXTERNAL_MODULE_https_cdn_jsdelivr_net_npm_numcodecs_esm_d51afd52__ from"https://cdn.jsdelivr.net/npm/numcodecs/+esm";var __webpack_modules__={84:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE_https_unpkg_com_geotiff_2_1_3_dist_browser_geotiff_js_8d5cb1a3__},91:(e,t,a)=>{a.d(t,{Ay:()=>c,Bu:()=>d,IN:()=>l,Xg:()=>s,mv:()=>i});const r={new:"https://prism.oregonstate.edu/fetchData.php",legacy:"https://prism.oregonstate.edu/fetchData.php"},o={"prism-current":{baseUrl:r.new,description:"PRISM Current Data - CONUS, Alaska, Hawaii, Puerto Rico (New Format)",format:"new",spatial:{us:{latitude:{min:24,max:50},longitude:{min:-125,max:-66}},ak:{latitude:{min:51,max:72},longitude:{min:-180,max:-129}},hi:{latitude:{min:18,max:23},longitude:{min:-161,max:-154}},pr:{latitude:{min:17,max:19},longitude:{min:-68,max:-65}}},temporal:{start:"1895-01-01T00:00:00Z",end:(new Date).toISOString(),resolution:"1D",normals:{period:"1991-2020",available:!0}},resolutions:{"15s":{description:"400m resolution",meters:400},"30s":{description:"800m resolution",meters:800},"25m":{description:"4km resolution",meters:4e3}},regions:["us","ak","hi","pr"],fileFormat:"tif"},"prism-legacy":{baseUrl:r.legacy,description:"PRISM Legacy Data - CONUS (Legacy Format, deprecated Sept 2025)",format:"legacy",spatial:{us:{latitude:{min:24,max:50},longitude:{min:-125,max:-66}}},temporal:{start:"1895-01-01T00:00:00Z",end:"2025-09-30T00:00:00Z",resolution:"1D",normals:{period:"1981-2010",available:!0}},resolutions:{"800mM2":{description:"800m resolution monthly",meters:800},"4kmM2":{description:"4km resolution monthly",meters:4e3},"4kmD1":{description:"4km resolution daily",meters:4e3}},regions:["us"],fileFormat:"bil"}},n={ppt:{longName:"Total Precipitation",units:"mm",description:"Daily/monthly total precipitation",availability:["normals","monthly","daily"],scaleFactor:1,fillValue:-9999},tmin:{longName:"Minimum Temperature",units:"°C",description:"Daily/monthly minimum temperature",availability:["normals","monthly","daily"],scaleFactor:1,fillValue:-9999},tmean:{longName:"Mean Temperature",units:"°C",description:"Daily/monthly mean temperature",availability:["normals","monthly","daily"],scaleFactor:1,fillValue:-9999},tmax:{longName:"Maximum Temperature",units:"°C",description:"Daily/monthly maximum temperature",availability:["normals","monthly","daily"],scaleFactor:1,fillValue:-9999},tdmean:{longName:"Mean Dewpoint Temperature",units:"°C",description:"Daily/monthly mean dewpoint temperature",availability:["normals","monthly","daily"],scaleFactor:1,fillValue:-9999},vpdmin:{longName:"Minimum Vapor Pressure Deficit",units:"hPa",description:"Daily/monthly minimum vapor pressure deficit",availability:["normals","monthly","daily"],scaleFactor:1,fillValue:-9999},vpdmax:{longName:"Maximum Vapor Pressure Deficit",units:"hPa",description:"Daily/monthly maximum vapor pressure deficit",availability:["normals","monthly","daily"],scaleFactor:1,fillValue:-9999},solclear:{longName:"Clear Sky Solar Radiation",units:"MJ/m²/day",description:"Clear sky solar radiation",availability:["normals"],scaleFactor:1,fillValue:-9999},soltotal:{longName:"Total Solar Radiation",units:"MJ/m²/day",description:"Total solar radiation",availability:["normals"],scaleFactor:1,fillValue:-9999},solslope:{longName:"Sloped Surface Solar Radiation",units:"MJ/m²/day",description:"Sloped surface solar radiation",availability:["normals"],scaleFactor:1,fillValue:-9999},soltrans:{longName:"Cloud Transmittance",units:"dimensionless",description:"Cloud transmittance for solar radiation",availability:["normals"],scaleFactor:1,fillValue:-9999}};function i(e,t,a,o,n="new",i="stable"){let s;return s="new"===n?`prism_${e}_${t}_${a}_${o}.zip`:`PRISM_${e}_${i}_${a}_${o}_bil.zip`,`${"new"===n?r.new:r.legacy}?file=${s}`}function s(e){const[t,a,r,o]=e;return t>=-180&&r<=-129&&a>=51&&o<=72?"ak":t>=-161&&r<=-154&&a>=18&&o<=23?"hi":t>=-68&&r<=-65&&a>=17&&o<=19?"pr":"us"}function l(e,t){const a=n[e];return!!a&&a.availability.includes(t)}function d(e,t,a="new"){return"new"===a?"hi"===e||"pr"===e?"15s":"25m":"daily"===t?"4kmD1":"4kmM2"}const c={datasets:o,variables:n,stability:{early:"Preliminary data, available within 1-2 days",provisional:"Quality-controlled data, available within 1-2 weeks",stable:"Final quality-controlled data, available within 1-2 months","30yr_normal":"30-year climatological normals"},baseUrls:r,generateURL:i,formatTimePeriod:function(e,t){const a=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");switch(t){case"daily":return`${a}${r}${o}`;case"monthly":return`${a}${r}`;case"annual":return`${a}`;case"normals":return r;default:throw new Error(`Unknown PRISM data type: ${t}`)}},determineRegion:s,validateVariable:l,getRecommendedResolution:d}},139:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE_https_cdn_jsdelivr_net_npm_zarrita_esm_c0c7102f__},196:(e,t,a)=>{a.d(t,{Ay:()=>d,vC:()=>r}),e=a.hmd(e);class r{static tables={"0.0":{0:"Meteorological Products (see Table 4.1)",1:"Hydrological Products (see Table 4.1)",2:"Land Surface Products (see Table 4.1)",3:"Satellite Remote Sensing Products (formerly Space Products) (see Table 4.1)",4:"Space Weather Products (see Table 4.1)",10:"Oceanographic Products (see Table 4.1)",209:"Multi-Radar Multi-Sensor (MRMS)",255:"Missing"},"1.0":{0:"Experimental",1:"Version Implemented on 7 November 2001",2:"Version Implemented on 4 November 2003",24:"Version Implemented on 06 November 2019",255:"Missing"},1.1:{0:"Local tables not used.  Only table entries and templates from the current master table are valid.",255:"Missing"},1.2:{0:"Analysis",1:"Start of Forecast",2:"Verifying Time of Forecast",3:"Observation Time",255:"Missing"},1.3:{0:"Operational Products",1:"Operational Test Products",2:"Research Products",3:"Re-Analysis Products",4:"THORPEX Interactive Grand Global Ensemble (TIGGE)",5:"THORPEX Interactive Grand Global Ensemble (TIGGE) test",6:"S2S Operational Products",7:"S2S Test Products",8:"Uncertainties in ensembles of regional reanalysis project (UERRA)",9:"Uncertainties in ensembles of regional reanalysis project (UERRA) Test",255:"Missing"},1.4:{0:"Analysis Products",1:"Forecast Products",2:"Analysis and Forecast Products",3:"Control Forecast Products",4:"Perturbed Forecast Products",5:"Control and Perturbed Forecast Products",6:"Processed Satellite Observations",7:"Processed Radar Observations",8:"Event Probability",192:"Experimental Products",255:"Missing"},1.5:{0:"Calendar Definition",1:"Paleontological Offset",2:"Calendar Definition and Paleontological Offset",65535:"Missing"},1.6:{0:"Gregorian",1:"360-day",2:"365-day (see Note 1)",3:"Proleptic Gregorian (see Note 2)",255:"Missing"},"3.0":{0:"Specified in Code Table 3.1",1:"Predetermined Grid Definition - Defined by Originating Center",255:"A grid definition does not apply to this product."},3.1:{0:"Latitude/Longitude (See Template 3.0)    Also called Equidistant Cylindrical or Plate Caree",1:"Rotated Latitude/Longitude (See Template 3.1)",2:"Stretched Latitude/Longitude (See Template 3.2)",3:"Rotated and Stretched Latitude/Longitude (See Template 3.3)",4:"Variable Resolution Latitude/longitude (See Template 3.4)",5:"Variable Resolution Rotated Latitude/longitude (See Template 3.5)",10:"Mercator (See Template 3.10)",11:"Reserved",12:"Transverse Mercator (See Template 3.12)",13:"Mercator with modelling subdomains definition (See Template 3.13)",20:"Polar Stereographic Projection (Can be North or South) (See Template 3.20)",23:"Polar Stereographic with modelling subdomains definition (See Template 3.23)",30:"Lambert Conformal (Can be Secant, Tangent, Conical, or Bipolar) (See Template 3.30)",31:"Albers Equal Area (See Template 3.31)",32:"Reserved",33:"Lambert conformal with modelling subdomains definition (See Template 3.33)",40:"Gaussian Latitude/Longitude (See Template 3.40)",41:"Rotated Gaussian Latitude/Longitude (See Template 3.41)",42:"Stretched Gaussian Latitude/Longitude (See Template 3.42)",43:"Rotated and Stretched Gaussian Latitude/Longitude (See Template 3.43)",50:"Spherical Harmonic Coefficients (See Template 3.50)",51:"Rotated Spherical Harmonic Coefficients (See Template 3.51)",52:"Stretched Spherical Harmonic Coefficients (See Template 3.52)",53:"Rotated and Stretched Spherical Harmonic Coefficients (See Template 3.53)",60:"Cubed-Sphere Gnomonic (See Template 3.60) Validation",61:"Spectral Mercator with modelling subdomains definition (See Template 3.61)",62:"Spectral Polar Stereographic with modelling subdomains definition (See Template 3.62)",63:"Spectral Lambert conformal with modelling subdomains definition (See Template 3.63)",90:"Space View Perspective or Orthographic (See Template 3.90)",100:"Triangular Grid Based on an Icosahedron (See Template 3.100)",101:"General Unstructured Grid (see Template 3.101)",110:"Equatorial Azimuthal Equidistant Projection (See Template 3.110)",120:"Azimuth-Range Projection (See Template 3.120)",140:"Lambert Azimuthal Equal Area Projection (See Template 3.140)",204:"Curvilinear Orthogonal Grids (See Template 3.204)",1e3:"Cross Section Grid with Points Equally Spaced on the Horizontal (See Template 3.1000)",1100:"Hovmoller Diagram with Points Equally Spaced on the Horizontal (See Template 3.1100)",1200:"Time Section Grid (See Template 3.1200)",32768:"Rotated Latitude/Longitude (Arakawa Staggered E-Grid) (See Template 3.32768)",32769:"Rotated Latitude/Longitude (Arakawa Non-E Staggered Grid) (See Template 3.32769)",65535:"Missing"},3.2:{0:"Earth assumed spherical with radius = 6,367,470.0 m",1:"Earth assumed spherical with radius specified (in m) by data producer",2:"Earth assumed oblate spheriod with size as determined by IAU in 1965 (major axis = 6,378,160.0 m, minor axis = 6,356,775.0 m, f = 1/297.0)",3:"Earth assumed oblate spheriod with major and minor axes specified (in km) by data producer",4:"Earth assumed oblate spheriod as defined in IAG-GRS80 model (major axis = 6,378,137.0 m, minor axis = 6,356,752.314 m, f = 1/298.257222101)",5:"Earth assumed represented by WGS84 (as used by ICAO since 1998) (Uses IAG-GRS80 as a basis)",6:"Earth assumed spherical with radius = 6,371,229.0 m",7:"Earth assumed oblate spheroid with major and minor axes specified (in m) by data producer",8:"Earth model assumed spherical with radius 6,371,200 m, but the horizontal datum of the resulting Latitude/Longitude field is the WGS84 reference frame",9:"Earth represented by the OSGB 1936 Datum, using the Airy_1830 Spheroid, the Greenwich meridian as 0 Longitude, the Newlyn datum as mean sea level, 0 height.",255:"Missing"},3.3:{1:["Reserved","Reserved"],2:["Reserved","Reserved"],3:["0: i direction increments not given","1: i direction increments given"],4:["0: j direction increments not given","1: j direction increments given"],5:["0: Resolved u and v components of vector quantities relative to easterly and northerly directions","1: Resolved u and v components of vector quantities relative to the defined grid in the direction of increasing x and y(or i and j) coordinates, respectively."],6:["Reserved - set to zero"],7:["Reserved - set to zero"],8:["Reserved - set to zero"]},3.4:{1:["0: Points in the first row or column scan in the +i (+x) direction","1: Points in the first row or column scan in the -i (-x) direction"],2:["0: Points in the first row or column scan in the -j (-y) direction","1: Points in the first row or column scan in the +j (+y) direction"],3:["0: Adjacent points in the i (x) direction are consecutive","1: Adjacent points in the j (y) direction are consecutive"],4:["0: All rows scan in the same direction","1: Adjacent rows scan in the opposite direction"],5:["0: Points within odd rows are not offset in i(x) direction","1: Points within odd rows are offset by Di/2 in i(x) direction"],6:["0: Points within even rows are not offset in i(x) direction","1: Points within even rows are offset by Di/2 in i(x) direction"],7:["0: Points are not offset in j(y) direction","1: Points are offset by Dj/2 in j(y) direction"],8:["0: Rows have Ni grid points and columns have Nj grid points","1: Rows have Ni grid points if points are not offset in i direction. Rows have Ni-1 grid points if points are offset by Di/2 in i direction. Columns have Nj grid points if points are not offset in j direction. Columns have Nj-1 grid points if points are offset by Dj/2 in j direction"]},3.5:{1:["0: North Pole is on the projection plane","1: South Pole is on the projection plane"],2:["0: Only one projection center is used","1: Projection is bi-polar and symmetric"]},3.6:{1:"Legendre Functions",2:"Bi-Fourier representation"},3.7:{1:"Mathematical formula. Check online: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table3-7.shtml"},3.8:{0:"Grid points at triangle vertices",1:"Grid points at centers of triangles",2:"Grid points at midpoints of triangle sides",255:"Missing"},3.9:{1:["0: Clockwise orientation","1: Counter-clockwise orientation"]},"3.10":{1:["0: Points  scan in the +i direction, i.e. from pole to Equator","1: Points scan in the -i direction, i.e. from Equator to pole"],2:["0: Points scan in the +j direction, i.e. from west to east","1: Points scan in the -j direction, i.e. from east to west"],3:["0: Adjacent points in the i (x) direction are consecutive","1: Adjacent points in the j (y) direction are consecutive"]},3.11:{0:"There is no appended list",1:"Numbers define number of points corresponding to full coordinate circles (i.e. parallels).  Coordinate values on each circle are multiple of the circle mesh, and extreme coordinate values given in grid definition may not be reached in all rows.",2:"Numbers define number of points corresponding to coordinate lines delimited by extreme coordinate values given in grid definition which are present in each row.",3:"Numbers define the actual latitudes for each row in the grid. The list of numbers are integer values of the valid latitudes in microdegrees (scale by 106) or in unit equal to the ratio of the basic angle and the subdivisions number for each row, in the same order as specified in the 'scanning mode flag' (bit no. 2) (see note 2)",255:"Missing"},3.15:{20:"Temperature",100:"Pressure",101:"Pressure deviation from mean sea level",102:"Altitude above mean sea level",103:"Height above ground (see note 1)",104:"Sigma coordinate",105:"Hybrid coordinate",106:"Depth below land surface",107:"Potential temperature (theta)",108:"Pressure deviation from ground to level",109:"Potential vorticity",110:"Geometric height",111:"Eta coordinate (see note 2)",112:"Geopotential height",113:"Logarithmic hybrid coordinate",160:"Depth below sea level",255:"Missing"},"3.20":{0:"Rhumb",1:"Great Circle",255:"Missing"},3.21:{0:"Explicit coordinate value set",1:"Linear Cooordinates\nf(1) = C1\nf(n) = f(n-1) + C2\n",11:"Geometric Coordinates\nf(1) = C1\nf(n) = C2 x f(n-1)\n",255:"Missing"},"4.0":{0:"Analysis or forecast at a horizontal level or in a horizontal layer at a point in time.  (see Template 4.0)",1:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer at a point in time.  (see Template 4.1)",2:"Derived forecasts based on all ensemble members at a horizontal level or in a horizontal layer at a point in time.  (see Template 4.2)",3:"Derived forecasts based on a cluster of ensemble members over a rectangular area at a horizontal level or in a horizontal layer at a point in time.  (see Template 4.3)",4:"Derived forecasts based on a cluster of ensemble members over a circular area at a horizontal level or in a horizontal layer at a point in time.  (see Template 4.4)",5:"Probability forecasts at a horizontal level or in a horizontal layer at a point in time.  (see Template 4.5)",6:"Percentile forecasts at a horizontal level or in a horizontal layer at a point in time.  (see Template 4.6)",7:"Analysis or forecast error at a horizontal level or in a horizontal layer at a point in time.  (see Template 4.7)",8:"Average, accumulation, extreme values or other statistically processed values at a horizontal level or in a horizontal layer in a continuous or non-continuous time interval.  (see Template 4.8)",9:"Probability forecasts at a horizontal level or in a horizontal layer in a continuous or non-continuous time interval.  (see Template 4.9)",10:"Percentile forecasts at a horizontal level or in a horizontal layer in a continuous or non-continuous time interval.  (see Template 4.10)",11:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer, in a continuous or non-continuous time interval.  (see Template 4.11)",12:"Derived forecasts based on all ensemble members at a horizontal level or in a horizontal layer, in a continuous or non-continuous time interval.  (see Template 4.12)",13:"Derived forecasts based on a cluster of ensemble members over a rectangular area at a horizontal level or in a horizontal layer, in a continuous or non-continuous time interval.  (see Template 4.13)",14:"Derived forecasts based on a cluster of ensemble members over a circular area at a horizontal level or in a horizontal layer, in a continuous or non-continuous time interval.  (see Template 4.14)",15:"Average, accumulation, extreme values or other statistically-processed values over a spatial area at a horizontal level or in a horizontal layer at a point in time.  (see Template 4.15)",20:"Radar product  (see Template 4.20)",30:"Satellite product  (see Template 4.30)NOTE: This template is deprecated. Template 4.31 should be used instead.",31:"Satellite product  (see Template 4.31)",32:"Analysis or forecast at a horizontal level or in a horizontal layer at a point in time for simulate (synthetic) satellite data (see Template 4.32)",33:"Individual Ensemble Forecast, control and perturbed, at a horizontal level or in a horizontal layer at a point in time for simulated (synthetic) satellite data (see Template 4.33)",34:"Individual Ensemble Forecast, control and perturbed, at a horizontal level or in a horizontal layer, in a continuous or non-continuous interval for simulated (synthetic) satellite data(see Template 4.34)",35:"Satellite product with or without associated quality values (see Template 4.35)",40:"Analysis or forecast at a horizontal level or in a horizontal layer at a point in time for atmospheric chemical constituents.  (see Template 4.40)",41:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer at a point in time for atmospheric chemical constituents.  (see Template 4.41)",42:"Average, accumulation, and/or extreme values or other statistically processed values at a horizontal level or in a horizontal layer in a continuous or non-continuous time interval for atmospheric chemical constituents.  (see Template 4.42)",43:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer, in a continuous or non-continuous time interval for atmospheric chemical constituents.  (see Template 4.43)",44:"Analysis or forecast at a horizontal level or in a horizontal layer at a point in time for aerosol.  (see Template 4.44)",45:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer, in a continuous or non-continuous time interval for aerosol.  (see Template 4.45)",46:"Average, accumulation, and/or extreme values or other statistically processed values at a horizontal level or in a horizontal layer in a continuous or non-continuous time interval for aerosol.  (see Template 4.46)",47:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer, in a continuous or non-continuous time interval for aerosol.  (see Template 4.47)",48:"Analysis or forecast at a horizontal level or in a horizontal layer at a point in time for aerosol.  (see Template 4.48)",49:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer at a point in time for optical properties of aerosol. (see Template 4.49)",50:"Reserved",51:"Categorical forecast at a horizontal level or in a horizontal layer at a point in time.  (see Template 4.51)",52:"Reserved",53:"Partitioned parameters at a horizontal level or horizontal layer at a point in time.  (see Template 4.53)",54:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer at a point in time for partitioned parameters.   (see Template 4.54)",55:"Spatio-temporal changing tiles at a horizontal level or horizontal layer at a point in time (see Template 4.55)",56:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer at a point in time for spatio-temporal changing tile parameters.   (see Template 4.56)",57:"Analysis or forecast at a horizontal level or in a horizontal layer at a point in time for atmospheric chemical constituents based on a distribution function (see Template 4.57)",58:"Individual Ensemble Forecast, Control and Perturbed, at a horizontal level or in a horizontal layer at a point in time interval for Atmospheric Chemical Constituents based on a distribution function (see Template 4.58)",59:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer at a point in time for spatio-temporal changing tile parameters (corrected version of template 4.56 - See Template 4.59)",60:"Individual Ensemble Reforecast, control and perturbed, at a horizontal level or in a horizontal layer at a point in time. (see Template 4.60)",61:"Individual Ensemble Reforecast, control and perturbed, at a horizontal level or in a horizontal layer, in a continuous or non-continuous time interval (see Template 4.61)",62:"Average, Accumulation and/or Extreme values or other Statistically-processed values at a horizontal level or in a horizontal layer in a continuous or non-continuous time interval for spatio-temporal changing tiles at a horizontal level or horizontal layer at a point in time (see Template 4.62)",63:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer in a continuous or non-continuous time interval for spatio-temporal changing tiles (see Template 4.63)",67:"Average, accumulation and/or extreme values or other statistically processed values at a horizontal level or in a horizontal layer in a continuous or non-continuous time interval for atmospheric chemical constituents based on a distribution function (see Template 4.67)",68:"Individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer in a continuous or non-continuous time interval for atmospheric chemical constituents based on a distribution function. (see Template 4.68)",69:"Reserved",70:"Post-processing analysis or forecast at a horizontal level or in a horizontal layer at a point in time. (see Template 4.70)",71:"Post-processing individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer at a point in time. (see Template 4.71)",72:"Post-processing average, accumulation, extreme values or other statistically processed values at a horizontal level or in a horizontal layer in a continuous or non-continuous time interval. (see Template 4.72)",73:"Post-processing individual ensemble forecast, control and perturbed, at a horizontal level or in a horizontal layer, in a continuous or non-continuous time interval. (see Template 4.73)",91:"Categorical forecast at a horizontal level or in a horizontal layer in a continuous or non-continuous time interval.  (see Template 4.91)",254:"CCITT IA5 character string  (see Template 4.254)",1e3:"Cross-section of analysis and forecast at a point in time.  (see Template 4.1000)",1001:"Cross-section of averaged or otherwise statistically processed analysis or forecast over a range of time.  (see Template 4.1001)",1002:"Cross-section of analysis and forecast, averaged or otherwise statistically-processed over latitude or longitude.  (see Template 4.1002)",1100:"Hovmoller-type grid with no averaging or other statistical processing  (see Template 4.1100)",1101:"Hovmoller-type grid with averaging or other statistical processing  (see Template 4.1101)",65535:"Missing"},4.1:{0:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",1:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",2:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",3:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",4:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",5:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",6:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",7:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",8:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",9:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",10:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",11:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",12:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",13:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",14:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",15:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",16:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",17:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",18:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",19:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",20:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-1.shtml",255:"Missing"},4.2:{0:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",1:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",2:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",3:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",4:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",5:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",6:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",7:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",8:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",9:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",10:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",11:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",12:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",13:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",14:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",15:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",16:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",17:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",18:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",19:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",20:"Depends of category (Octet 7 of Section 0). Check in: https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-2.shtml",255:"Missing"},4.3:{0:"Analysis",1:"Initialization",2:"Forecast",3:"Bias Corrected Forecast",4:"Ensemble Forecast",5:"Probability Forecast",6:"Forecast Error",7:"Analysis Error",8:"Observation",9:"Climatological",10:"Probability-Weighted Forecast",11:"Bias-Corrected Ensemble Forecast",12:"Post-processed Analysis (See Note)",13:"Post-processed Forecast (See Note)",14:"Nowcast",15:"Hindcast",16:"Physical Retrieval",17:"Regression Analysis",18:"Difference Between Two Forecasts",192:"Forecast Confidence Indicator",193:"Probability-matched Mean",194:"Neighborhood Probability",195:"Bias-Corrected and Downscaled Ensemble Forecast",196:"Perturbed Analysis for Ensemble Initialization",197:"Ensemble Agreement Scale Probability",198:"Post-Processed Deterministic-Expert-Weighted Forecast",199:"Ensemble Forecast Based on Counting",200:"Local Probability-matched Mean",255:"Missing"},4.4:{0:"Minute",1:"Hour",2:"Day",3:"Month",4:"Year",5:"Decade (10 Years)",6:"Normal (30 Years)",7:"Century (100 Years)",8:"Reserved",9:"Reserved",10:"3 Hours",11:"6 Hours",12:"12 Hours",13:"Second",255:"Missing"},4.5:{0:"Reserved",1:"Ground or Water Surface",2:"Cloud Base Level",3:"Level of Cloud Tops",4:"Level of 0o C Isotherm",5:"Level of Adiabatic Condensation Lifted from the Surface",6:"Maximum Wind Level",7:"Tropopause",8:"Nominal Top of the Atmosphere",9:"Sea Bottom",10:"Entire Atmosphere",11:"Cumulonimbus Base (CB)",12:"Cumulonimbus Top (CT)",13:"Lowest level where vertically integrated cloud cover exceeds the specified percentage(cloud base for a given percentage cloud cover)",14:"Level of free convection (LFC)",15:"Convection condensation level (CCL)",16:"Level of neutral buoyancy or equilibrium (LNB)",20:"Isothermal Level",21:"Lowest level where mass density exceeds the specified value(base for a given threshold of mass density)",22:"Highest level where mass density exceeds the specifiedvalue (top for a given threshold of mass density)",23:"Lowest level where air concentration exceeds the specifiedvalue (base for a given threshold of air concentration",24:"Highest level where air concentration exceeds the specifiedvalue (top for a given threshold of air concentration)",25:"Highest level where radar reflectivity exceeds the specifiedvalue (echo top for a given threshold of reflectivity)",100:"Isobaric Surface",101:"Mean Sea Level",102:"Specific Altitude Above Mean Sea Level",103:"Specified Height Level Above Ground",104:"Sigma Level",105:"Hybrid Level",106:"Depth Below Land Surface",107:"Isentropic (theta) Level",108:"Level at Specified Pressure Difference from Ground to Level",109:"Potential Vorticity Surface",110:"Reserved",111:"Eta Level",112:"Reserved",113:"Logarithmic Hybrid Level",114:"Snow Level",115:"Sigma height level (see Note 4)",116:"Reserved",117:"Mixed Layer Depth",118:"Hybrid Height Level",119:"Hybrid Pressure Level",150:"Generalized Vertical Height Coordinate (see Note 4)",151:"Soil level (See Note 5)",160:"Depth Below Sea Level",161:"Depth Below Water Surface",162:"Lake or River Bottom",163:"Bottom Of Sediment Layer",164:"Bottom Of Thermally Active Sediment Layer",165:"Bottom Of Sediment Layer Penetrated By Thermal Wave",166:"Mixing Layer",167:"Bottom of Root Zone",168:"Ocean Model Level",169:"Ocean level defined by water density (sigma-theta)difference from near-surface to level (see Note 7)",170:"Ocean level defined by water potential temperaturedifference from near-surface to level (see Note 7)",174:"Top Surface of Ice on Sea, Lake or River",175:"Top Surface of Ice, under Snow, on Sea, Lake or River",176:"Bottom Surface (underside) Ice on Sea, Lake or River",177:"Deep Soil (of indefinite depth)",178:"Reserved",179:"Top Surface of Glacier Ice and Inland Ice",180:"Deep Inland or Glacier Ice (of indefinite depth)",181:"Grid Tile Land Fraction as a Model Surface",182:"Grid Tile Water Fraction as a Model Surface",183:"Grid Tile Ice Fraction on Sea, Lake or River as a Model Surface",184:"Grid Tile Glacier Ice and Inland Ice Fraction as a Model Surface",200:"Entire atmosphere (considered as a single layer)",201:"Entire ocean (considered as a single layer)",204:"Highest tropospheric freezing level",206:"Grid scale cloud bottom level",207:"Grid scale cloud top level",209:"Boundary layer cloud bottom level",210:"Boundary layer cloud top level",211:"Boundary layer cloud layer",212:"Low cloud bottom level",213:"Low cloud top level",214:"Low cloud layer",215:"Cloud ceiling",216:"Effective Layer Top Level",217:"Effective Layer Bottom Level",218:"Effective Layer",220:"Planetary Boundary Layer",221:"Layer Between Two Hybrid Levels",222:"Middle cloud bottom level",223:"Middle cloud top level",224:"Middle cloud layer",232:"High cloud bottom level",233:"High cloud top level",234:"High cloud layer",235:"Ocean Isotherm Level (1/10 ° C)",236:"Layer between two depths below ocean surface",237:"Bottom of Ocean Mixed Layer (m)",238:"Bottom of Ocean Isothermal Layer (m)",239:"Layer Ocean Surface and 26C Ocean Isothermal Level",240:"Ocean Mixed Layer",241:"Ordered Sequence of Data",242:"Convective cloud bottom level",243:"Convective cloud top level",244:"Convective cloud layer",245:"Lowest level of the wet bulb zero",246:"Maximum equivalent potential temperature level",247:"Equilibrium level",248:"Shallow convective cloud bottom level",249:"Shallow convective cloud top level",251:"Deep convective cloud bottom level",252:"Deep convective cloud top level",253:"Lowest bottom level of supercooled liquid water layer",254:"Highest top level of supercooled liquid water layer",255:"Missing"},4.6:{0:"Unperturbed High-Resolution Control Forecast",1:"Unperturbed Low-Resolution Control Forecast",2:"Negatively Perturbed Forecast",3:"Positively Perturbed Forecast",4:"Multi-Model Forecast",192:"Perturbed Ensemble Member",255:"Missing"},4.7:{0:"Unweighted Mean of All Members",1:"Weighted Mean of All Members",2:"Standard Deviation with respect to Cluster Mean",3:"Standard Deviation with respect to Cluster Mean, Normalized",4:"Spread of All Members",5:"Large Anomaly Index of All Members (see Note 1)",6:"Unweighted Mean of the Cluster Members",7:"Interquartile Range (Range between the 25th and 75th quantile)",8:"Minimum Of All Ensemble Members (see Note 2)",9:"Maximum Of All Ensemble Members (see Note 2)",192:"Unweighted Mode of All Members",193:"Percentile value (10%) of All Members",194:"Percentile value (50%) of All Members",195:"Percentile value (90%) of All Members",196:"Statistically decided weights for each ensemble member",197:"Climate Percentile (percentile values from climate distribution)",198:"Deviation of Ensemble Mean from Daily Climatology",199:"Extreme Forecast Index",200:"Equally Weighted Mean",201:"Percentile value (5%) of All Members",202:"Percentile value (25%) of All Members",203:"Percentile value (75%) of All Members",204:"Percentile value (95%) of All Members",255:"Missing"},4.8:{0:"Anomoly Correlation",1:"Root Mean Square",255:"Missing"},4.9:{0:"Probability of event below lower limit",1:"Probability of event above upper limit",2:"Probability of event between upper and lower limits (the range includes lower limit but no the upper limit)",3:"Probability of event above lower limit",4:"Probability of event below upper limit",5:"Probability of event equal to lower limit",6:"Probability of event in above normal category (see Notes 1 and 2)",7:"Probability of event in near normal category (see Notes 1 and 2)",8:"Probability of event in below normal category (see Notes 1 and 2)",255:"Missing"},"4.10":{0:"Average",1:"Accumulation (see Note 1)",2:"Maximum",3:"Minimum",4:"Difference (value at the end of the time range minus value at the beginning)",5:"Root Mean Square",6:"Standard Deviation",7:"Covariance (temporal variance) (see Note 2)",8:"Difference ( value at the beginning of the time range minus value at the end)",9:"Ratio (see Note 3)",10:"Standardized Anomaly",11:"Summation",12:"Confidence Index (see Note 4)     Validation",13:"Quality Indicator (see Note 5)       Validation",192:"Climatological Mean Value: multiple year averages of quantities which are themselves means over some period of time (P2) less than a year. The reference time (R) indicates the date and time of the start of a period of time, given by R to R + P2, over which a mean is formed; N indicates the number of such period-means that are averaged together to form the climatological value, assuming that the N period-mean fields are separated by one year. The reference time indicates the start of the N-year climatology. N is given in octets 22-23 of the PDS.\nIf P1 = 0 then the data averaged in the basic interval P2 are assumed to be continuous, i.e., all available data are simply averaged together.\n\nIf P1 = 1 (the units of time - octet 18, code table 4 - are not relevant here) then the data averaged together in the basic interval P2 are valid only at the time (hour, minute) given in the reference time, for all the days included in the P2 period. The units of P2 are given by the contents of octet 18 and Table 4.",193:"Average of N forecasts (or initialized analyses); each product has forecast period of P1 (P1=0 for initialized analyses); products have reference times at intervals of P2, beginning at the given reference time.",194:"Average of N uninitialized analyses, starting at reference time, at intervals of P2.",195:"Average of forecast accumulations. P1 = start of accumulation period. P2 = end of accumulation period. Reference time is the start time of the first forecast, other forecasts at 24-hour intervals. Number in Ave = number of forecasts used.",196:"Average of successive forecast accumulations. P1 = start of accumulation period. P2 = end of accumulation period. Reference time is the start time of the first forecast, other forecasts at (P2 - P1) intervals. Number in Ave = number of forecasts used",197:"Average of forecast averages. P1 = start of averaging period. P2 = end of averaging period. Reference time is the start time of the first forecast, other forecasts at 24-hour intervals. Number in Ave = number of forecast used",198:"Average of successive forecast averages. P1 = start of averaging period. P2 = end of averaging period. Reference time is the start time of the first forecast, other forecasts at (P2 - P1) intervals. Number in Ave = number of forecasts used",199:"Climatological Average of N analyses, each a year apart, starting from initial time R and for the period from R+P1 to R+P2.",200:"Climatological Average of N forecasts, each a year apart, starting from initial time R and for the period from R+P1 to R+P2.",201:"Climatological Root Mean Square difference between N forecasts and their verifying analyses, each a year apart, starting with initial time R and for the period from R+P1 to R+P2.",202:"Climatological Standard Deviation of N forecasts from the mean of the same N forecasts, for forecasts one year apart. The first forecast starts wtih initial time R and is for the period from R+P1 to R+P2.",203:"Climatological Standard Deviation of N analyses from the mean of the same N analyses, for analyses one year apart. The first analyses is valid for  period R+P1 to R+P2.",204:"Average of forecast accumulations. P1 = start of accumulation period. P2 = end of accumulation period. Reference time is the start time of the first forecast, other forecasts at 6-hour intervals. Number in Ave = number of forecast used",205:"Average of forecast averages. P1 = start of averaging period. P2 = end of averaging period. Reference time is the start time of the first forecast, other forecasts at 6-hour intervals. Number in Ave = number of forecast used",206:"Average of forecast accumulations. P1 = start of accumulation period. P2 = end of accumulation period. Reference time is the start time of the first forecast, other forecasts at 12-hour intervals. Number in Ave = number of forecast used",207:"Average of forecast averages. P1 = start of averaging period. P2 = end of averaging period. Reference time is the start time of the first forecast, other forecasts at 12-hour intervals. Number in Ave = number of forecast used",208:"Variance",209:"Confficient",255:"Missing"},4.11:{0:"Reserved",1:"Successive times processed have same forecast time, start time of forecast is incremented.",2:"Successive times processed have same start time of forecast, forecast time is incremented.",3:"Successive times processed have start time of forecast incremented and forecast time decremented so that valid time remains constant.",4:"Successive times processed have start time of forecast decremented and forecast time incremented so that valid time remains constant.",5:"Floating subinterval of time between forecast time and end of overall time interval.(see Note 1)",255:"Missing"},"4.2-0-0":{0:{parameter:"Temperature",units:"K",abbreviation:"TMP"},1:{parameter:"Virtual Temperature",units:"K",abbreviation:"VTMP"},2:{parameter:"Potential Temperature",units:"K",abbreviation:"POT"},3:{parameter:"Pseudo-Adiabatic Potential Temperature(or Equivalent Potential Temperature)",units:"K",abbreviation:"EPOT"},4:{parameter:"Maximum Temperature*",units:"K",abbreviation:"TMAX"},5:{parameter:"Minimum Temperature*",units:"K",abbreviation:"TMIN"},6:{parameter:"Dew Point Temperature",units:"K",abbreviation:"DPT"},7:{parameter:"Dew Point Depression (or Deficit)",units:"K",abbreviation:"DEPR"},8:{parameter:"Lapse Rate",units:"K m-1",abbreviation:"LAPR"},9:{parameter:"Temperature Anomaly",units:"K",abbreviation:"TMPA"},10:{parameter:"Latent Heat Net Flux",units:"W/m²",abbreviation:"LHTFL"},11:{parameter:"Sensible Heat Net Flux",units:"W/m²",abbreviation:"SHTFL"},12:{parameter:"Heat Index",units:"K",abbreviation:"HEATX"},13:{parameter:"Wind Chill Factor",units:"K",abbreviation:"WCF"},14:{parameter:"Minimum Dew Point Depression*",units:"K",abbreviation:"MINDPD"},15:{parameter:"Virtual Potential Temperature",units:"K",abbreviation:"VPTMP"},16:{parameter:"Snow Phase Change Heat Flux",units:"W/m²",abbreviation:"SNOHF"},17:{parameter:"Skin Temperature",units:"K",abbreviation:"SKINT"},18:{parameter:"Snow Temperature (top of snow)",units:"K",abbreviation:"SNOT"},19:{parameter:"Turbulent Transfer Coefficient for Heat",units:"Numeric",abbreviation:"TTCHT"},20:{parameter:"Turbulent Diffusion Coefficient for Heat",units:"m²1/s",abbreviation:"TDCHT"},21:{parameter:"Apparent Temperature **",units:"K",abbreviation:"APTMP"},22:{parameter:"Temperature Tendency due to Short-Wave Radiation",units:"K/s",abbreviation:"TTSWR"},23:{parameter:"Temperature Tendency due to Long-Wave Radiation",units:"K/s",abbreviation:"TTLWR"},24:{parameter:"Temperature Tendency due to Short-Wave Radiation, Clear Sky",units:"K/s",abbreviation:"TTSWRCS"},25:{parameter:"Temperature Tendency due to Long-Wave Radiation, Clear Sky",units:"K/s",abbreviation:"TTLWRCS"},26:{parameter:"Temperature Tendency due to parameterizations",units:"K/s",abbreviation:"TTPARM"},27:{parameter:"Wet Bulb Temperature",units:"K",abbreviation:"WETBT"},28:{parameter:"Unbalanced Component of Temperature",units:"K",abbreviation:"UCTMP"},29:{parameter:"Temperature Advection",units:"K/s",abbreviation:"TMPADV"},30:{parameter:"Latent Heat Net Flux Due to Evaporation",units:"W/m²",abbreviation:"LHFLXE"},31:{parameter:"Latent Heat Net Flux Due to Sublimation",units:"W/m²",abbreviation:"LHFLXS"},32:{parameter:"Wet-Bulb Potential Temperature",units:"K",abbreviation:"WETBPT"},192:{parameter:"Snow Phase Change Heat Flux",units:"W/m²",abbreviation:"SNOHF"},193:{parameter:"Temperature Tendency by All Radiation",units:"K/s",abbreviation:"TTRAD"},194:{parameter:"Relative Error Variance",units:"",abbreviation:"REV"},195:{parameter:"Large Scale Condensate Heating Rate",units:"K/s",abbreviation:"LRGHR"},196:{parameter:"Deep Convective Heating Rate",units:"K/s",abbreviation:"CNVHR"},197:{parameter:"Total Downward Heat Flux at Surface",units:"W/m²",abbreviation:"THFLX"},198:{parameter:"Temperature Tendency by All Physics",units:"K/s",abbreviation:"TTDIA"},199:{parameter:"Temperature Tendency by Non-radiation Physics",units:"K/s",abbreviation:"TTPHY"},200:{parameter:"Standard Dev. of IR Temp. over 1x1 deg. area",units:"K",abbreviation:"TSD1D"},201:{parameter:"Shallow Convective Heating Rate",units:"K/s",abbreviation:"SHAHR"},202:{parameter:"Vertical Diffusion Heating rate",units:"K/s",abbreviation:"VDFHR"},203:{parameter:"Potential Temperature at Top of Viscous Sublayer",units:"K",abbreviation:"THZ0"},204:{parameter:"Tropical Cyclone Heat Potential",units:"Jm-2K",abbreviation:"TCHP"},205:{parameter:"Effective Layer (EL) Temperature",units:"C",abbreviation:"ELMELT"},206:{parameter:"Wet Bulb Globe Temperature",units:"K",abbreviation:"WETGLBT"},255:{parameter:"Missing",units:"",abbreviation:""}},"4.2-0-2":{0:{parameter:"Wind Direction (from which blowing)",units:"°",abbreviation:"WDIR"},1:{parameter:"Wind Speed",units:"m/s",abbreviation:"WIND"},2:{parameter:"U-Component of Wind",units:"m/s",abbreviation:"UGRD"},3:{parameter:"V-Component of Wind",units:"m/s",abbreviation:"VGRD"},4:{parameter:"Stream Function",units:"m²/s",abbreviation:"STRM"},5:{parameter:"Velocity Potential",units:"m²/s",abbreviation:"VPOT"},6:{parameter:"Montgomery Stream Function",units:"m²/s²",abbreviation:"MNTSF"},7:{parameter:"Sigma Coordinate Vertical Velocity",units:"1/s",abbreviation:"SGCVV"},8:{parameter:"Vertical Velocity (Pressure)",units:"Pa/s",abbreviation:"VVEL"},9:{parameter:"Vertical Velocity (Geometric)",units:"m/s",abbreviation:"DZDT"},10:{parameter:"Absolute Vorticity",units:"1/s",abbreviation:"ABSV"},11:{parameter:"Absolute Divergence",units:"1/s",abbreviation:"ABSD"},12:{parameter:"Relative Vorticity",units:"1/s",abbreviation:"RELV"},13:{parameter:"Relative Divergence",units:"1/s",abbreviation:"RELD"},14:{parameter:"Potential Vorticity",units:"K m² kg-1/s",abbreviation:"PVORT"},15:{parameter:"Vertical U-Component Shear",units:"1/s",abbreviation:"VUCSH"},16:{parameter:"Vertical V-Component Shear",units:"1/s",abbreviation:"VVCSH"},17:{parameter:"Momentum Flux, U-Component",units:"N/m²",abbreviation:"UFLX"},18:{parameter:"Momentum Flux, V-Component",units:"N/m²",abbreviation:"VFLX"},19:{parameter:"Wind Mixing Energy",units:"J",abbreviation:"WMIXE"},20:{parameter:"Boundary Layer Dissipation",units:"W/m²",abbreviation:"BLYDP"},21:{parameter:"Maximum Wind Speed *",units:"m/s",abbreviation:"MAXGUST"},22:{parameter:"Wind Speed (Gust)",units:"m/s",abbreviation:"GUST"},23:{parameter:"U-Component of Wind (Gust)",units:"m/s",abbreviation:"UGUST"},24:{parameter:"V-Component of Wind (Gust)",units:"m/s",abbreviation:"VGUST"},25:{parameter:"Vertical Speed Shear",units:"1/s",abbreviation:"VWSH"},26:{parameter:"Horizontal Momentum Flux",units:"N/m²",abbreviation:"MFLX"},27:{parameter:"U-Component Storm Motion",units:"m/s",abbreviation:"USTM"},28:{parameter:"V-Component Storm Motion",units:"m/s",abbreviation:"VSTM"},29:{parameter:"Drag Coefficient",units:"Numeric",abbreviation:"CD"},30:{parameter:"Frictional Velocity",units:"m/s",abbreviation:"FRICV"},31:{parameter:"Turbulent Diffusion Coefficient for Momentum",units:"m²/s",abbreviation:"TDCMOM"},32:{parameter:"Eta Coordinate Vertical Velocity",units:"1/s",abbreviation:"ETACVV"},33:{parameter:"Wind Fetch",units:"m",abbreviation:"WINDF"},34:{parameter:"Normal Wind Component **",units:"m/s",abbreviation:"NWIND"},35:{parameter:"Tangential Wind Component **",units:"m/s",abbreviation:"TWIND"},36:{parameter:"Amplitude Function for Rossby Wave Envelope for Meridional Wind ***",units:"m/s",abbreviation:"AFRWE"},37:{parameter:"Northward Turbulent Surface Stress ****",units:"N/m² s",abbreviation:"NTSS"},38:{parameter:"Eastward Turbulent Surface Stress ****",units:"N/m² s",abbreviation:"ETSS"},39:{parameter:"Eastward Wind Tendency Due to Parameterizations",units:"m/s²",abbreviation:"EWTPARM"},40:{parameter:"Northward Wind Tendency Due to Parameterizations",units:"m/s²",abbreviation:"NWTPARM"},41:{parameter:"U-Component of Geostrophic Wind",units:"m/s",abbreviation:"UGWIND"},42:{parameter:"V-Component of Geostrophic Wind",units:"m/s",abbreviation:"VGWIND"},43:{parameter:"Geostrophic Wind Direction",units:"°",abbreviation:"GEOWD"},44:{parameter:"Geostrophic Wind Speed",units:"m/s",abbreviation:"GEOWS"},45:{parameter:"Unbalanced Component of Divergence",units:"1/s",abbreviation:"UNDIV"},46:{parameter:"Vorticity Advection",units:"s-2",abbreviation:"VORTADV"},47:{parameter:"Surface roughness for heat,(see Note 5)",units:"m",abbreviation:"SFRHEAT"},48:{parameter:"Surface roughness for moisture,(see Note 6)",units:"m",abbreviation:"SFRMOIST"},192:{parameter:"Vertical Speed Shear",units:"1/s",abbreviation:"VWSH"},193:{parameter:"Horizontal Momentum Flux",units:"N/m²",abbreviation:"MFLX"},194:{parameter:"U-Component Storm Motion",units:"m/s",abbreviation:"USTM"},195:{parameter:"V-Component Storm Motion",units:"m/s",abbreviation:"VSTM"},196:{parameter:"Drag Coefficient",units:"non-dim",abbreviation:"CD"},197:{parameter:"Frictional Velocity",units:"m/s",abbreviation:"FRICV"},198:{parameter:"Latitude of U Wind Component of Velocity",units:"deg",abbreviation:"LAUV"},199:{parameter:"Longitude of U Wind Component of Velocity",units:"deg",abbreviation:"LOUV"},200:{parameter:"Latitude of V Wind Component of Velocity",units:"deg",abbreviation:"LAVV"},201:{parameter:"Longitude of V Wind Component of Velocity",units:"deg",abbreviation:"LOVV"},202:{parameter:"Latitude of Presure Point",units:"deg",abbreviation:"LAPP"},203:{parameter:"Longitude of Presure Point",units:"deg",abbreviation:"LOPP"},204:{parameter:"Vertical Eddy Diffusivity Heat exchange",units:"m²/s",abbreviation:"VEDH"},205:{parameter:"Covariance between Meridional and ZonalComponents of the wind.",units:"m²/s²",abbreviation:"COVMZ"},206:{parameter:"Covariance between Temperature and ZonalComponents of the wind.",units:"K*m/s",abbreviation:"COVTZ"},207:{parameter:"Covariance between Temperature and MeridionalComponents of the wind.",units:"K*m/s",abbreviation:"COVTM"},208:{parameter:"Vertical Diffusion Zonal Acceleration",units:"m/s²",abbreviation:"VDFUA"},209:{parameter:"Vertical Diffusion Meridional Acceleration",units:"m/s²",abbreviation:"VDFVA"},210:{parameter:"Gravity wave drag zonal acceleration",units:"m/s²",abbreviation:"GWDU"},211:{parameter:"Gravity wave drag meridional acceleration",units:"m/s²",abbreviation:"GWDV"},212:{parameter:"Convective zonal momentum mixing acceleration",units:"m/s²",abbreviation:"CNVU"},213:{parameter:"Convective meridional momentum mixing acceleration",units:"m/s²",abbreviation:"CNVV"},214:{parameter:"Tendency of vertical velocity",units:"m/s²",abbreviation:"WTEND"},215:{parameter:"Omega (Dp/Dt) divide by density",units:"K",abbreviation:"OMGALF"},216:{parameter:"Convective Gravity wave drag zonal acceleration",units:"m/s²",abbreviation:"CNGWDU"},217:{parameter:"Convective Gravity wave drag meridional acceleration",units:"m/s²",abbreviation:"CNGWDV"},218:{parameter:"Velocity Point Model Surface",units:"",abbreviation:"LMV"},219:{parameter:"Potential Vorticity (Mass-Weighted)",units:"1/s/m",abbreviation:"PVMWW"},220:{parameter:"Hourly Maximum of Upward Vertical Velocity",units:"m/s",abbreviation:"MAXUVV"},221:{parameter:"Hourly Maximum of Downward Vertical Velocity",units:"m/s",abbreviation:"MAXDVV"},222:{parameter:"U Component of Hourly Maximum 10m Wind Speed",units:"m/s",abbreviation:"MAXUW"},223:{parameter:"V Component of Hourly Maximum 10m Wind Speed",units:"m/s",abbreviation:"MAXVW"},224:{parameter:"Ventilation Rate",units:"m²/s",abbreviation:"VRATE"},225:{parameter:"Transport Wind Speed",units:"m/s",abbreviation:"TRWSPD"},226:{parameter:"Transport Wind Direction",units:"Deg",abbreviation:"TRWDIR"},227:{parameter:"Earliest Reasonable Arrival Time (10% exceedance)",units:"s",abbreviation:"TOA10"},228:{parameter:"Most Likely Arrival Time (50% exceedance)",units:"s",abbreviation:"TOA50"},229:{parameter:"Most Likely Departure Time (50% exceedance)",units:"s",abbreviation:"TOD50"},230:{parameter:"Latest Reasonable Departure Time (90% exceedance)",units:"s",abbreviation:"TOD90"},231:{parameter:"Tropical Wind Direction",units:"°",abbreviation:"TPWDIR"},232:{parameter:"Tropical Wind Speed",units:"m/s",abbreviation:"TPWSPD"},233:{parameter:"Inflow Based (ESFC) to 50% EL Shear Magnitude",units:"kt",abbreviation:"ESHR"},234:{parameter:"U Component Inflow Based to 50% EL Shear Vector",units:"kt",abbreviation:"UESH"},235:{parameter:"V Component Inflow Based to 50% EL Shear Vector",units:"kt",abbreviation:"VESH"},236:{parameter:"U Component Bunkers Effective Right Motion",units:"kt",abbreviation:"UEID"},237:{parameter:"V Component Bunkers Effective Right Motion",units:"kt",abbreviation:"VEID"},255:{parameter:"Missing",units:"",abbreviation:""}},"4.2-10-1":{0:{parameter:"Current Direction",units:"degree True",abbreviation:"DIRC"},1:{parameter:"Current Speed",units:"m/s",abbreviation:"SPC"},2:{parameter:"U-Component of Current",units:"m/s",abbreviation:"UOGRD"},3:{parameter:"V-Component of Current",units:"m/s",abbreviation:"VOGRD"},4:{parameter:"Rip Current Occurrence Probability",units:"%",abbreviation:"RIPCOP"},192:{parameter:"Ocean Mixed Layer U Velocity",units:"m/s",abbreviation:"OMLU"},193:{parameter:"Ocean Mixed Layer V Velocity",units:"m/s",abbreviation:"OMLV"},194:{parameter:"Barotropic U velocity",units:"m/s",abbreviation:"UBARO"},195:{parameter:"Barotropic V velocity",units:"m/s",abbreviation:"VBARO"},255:{parameter:"Missing",units:"",abbreviation:""}},"4.2-10-2":{0:{parameter:"Ice Cover",units:"Proportion",abbreviation:"ICEC"},1:{parameter:"Ice Thickness",units:"m",abbreviation:"ICETK"},2:{parameter:"Direction of Ice Drift",units:"degree True",abbreviation:"DICED"},3:{parameter:"Speed of Ice Drift",units:"m/s",abbreviation:"SICED"},4:{parameter:"U-Component of Ice Drift",units:"m/s",abbreviation:"UICE"},5:{parameter:"V-Component of Ice Drift",units:"m/s",abbreviation:"VICE"},6:{parameter:"Ice Growth Rate",units:"m/s",abbreviation:"ICEG"},7:{parameter:"Ice Divergence",units:"1/s",abbreviation:"ICED"},8:{parameter:"Ice Temperature",units:"K",abbreviation:"ICETMP"},9:{parameter:"Module of Ice Internal Pressure",units:"Pa m",abbreviation:"ICEPRS"},10:{parameter:"Zonal Vector Component of Vertically Integrated Ice Internal Pressure",units:"Pa m",abbreviation:"ZVCICEP"},11:{parameter:"Meridional Vector Component of Vertically Integrated Ice Internal Pressure",units:"Pa m",abbreviation:"MVCICEP"},12:{parameter:"Compressive Ice Strength",units:"N m-1",abbreviation:"CICES"},13:{parameter:"Snow Temperature (over sea ice)",units:"K",abbreviation:"SNOWTSI"},14:{parameter:"Albedo",units:"Numeric",abbreviation:"ALBICE"},255:{parameter:"Missing",units:"",abbreviation:""}},"4.2-209-0":{0:{parameter:"Precipitation Rate",units:"mm/hr",abbreviation:"PrecipRate"},1:{parameter:"Radar Reflectivity",units:"dBZ",abbreviation:"REFC"},2:{parameter:"Lightning Density",units:"flashes/km^2/min",abbreviation:"LGT"},3:{parameter:"Echo Top",units:"km",abbreviation:"RETOP"},4:{parameter:"Vertically Integrated Liquid",units:"kg/m^2",abbreviation:"VIL"},6:{parameter:"Composite Reflectivity",units:"dBZ",abbreviation:"CREF"},255:{parameter:"Missing",units:"",abbreviation:""}},"4.2-209-null":{0:{parameter:"Precipitation Rate",units:"mm/hr",abbreviation:"PrecipRate"},1:{parameter:"Radar Reflectivity",units:"dBZ",abbreviation:"REFC"},2:{parameter:"Lightning Density",units:"flashes/km^2/min",abbreviation:"LGT"},3:{parameter:"Echo Top",units:"km",abbreviation:"RETOP"},4:{parameter:"Vertically Integrated Liquid",units:"kg/m^2",abbreviation:"VIL"},6:{parameter:"Composite Reflectivity",units:"dBZ",abbreviation:"CREF"},255:{parameter:"Missing",units:"",abbreviation:""}},"4.2-209-6":{0:{parameter:"Radar Reflectivity",units:"dBZ",abbreviation:"REFC"},1:{parameter:"Precipitation Rate",units:"mm/hr",abbreviation:"PrecipRate"},2:{parameter:"Lightning Density",units:"flashes/km^2/min",abbreviation:"LGT"},3:{parameter:"Echo Top",units:"km",abbreviation:"RETOP"},4:{parameter:"Vertically Integrated Liquid",units:"kg/m^2",abbreviation:"VIL"},6:{parameter:"Composite Reflectivity",units:"dBZ",abbreviation:"CREF"},255:{parameter:"Missing",units:"",abbreviation:""}},"5.0":{0:"Grid Point Data - Simple Packing (see Template 5.0)",1:"Matrix Value at Grid Point - Simple Packing (see Template 5.1)",2:"Grid Point Data - Complex Packing (see Template 5.2)",3:"Grid Point Data - Complex Packing and Spatial Differencing (see Template 5.3)",4:"Grid Point Data - IEEE Floating Point Data (see Template 5.4)",40:"Grid Point Data - JPEG2000 Compression (see Template 5.40)",41:"Grid Point Data - PNG Compression (see Template 5.41)",50:"Spectral Data - Simple Packing (see Template 5.50)",51:"Spectral Data - Complex Packing (see Template 5.51)",61:"Grid Point Data - Simple Packing With Logarithm Pre-processing (see Template 5.61)",200:"Run Length Packing With Level Values (see Template 5.200)",65535:"Missing"},5.1:{0:"Floating Point",1:"Integer",255:"Missing"},5.2:{0:"Explicit Coordinate Values Set",1:"Linear Coordinates\nf(1) = C1\nf(n) = f(n-1) + C2\n",11:"Geometric Coordinates\nf(1) = C1\nf(n) = C2 x f(n-1)\n",255:"Missing"},5.3:{0:"Reserved",1:"Direction Degrees True",2:"Frequency (s^-1)",3:"Radial Number (2pi/lamda) (m^-1)",255:"Missing"},5.4:{0:"Row by Row Splitting",1:"General Group Splitting",255:"Missing"},5.5:{0:"No explicit missing values included within the data values",1:"Primary missing values included within the data values",2:"Primary and secondary missing values included within the data values",255:"Missing"},5.6:{0:"Reserved",1:"First-Order Spatial Differencing",2:"Second-Order Spatial Differencing",255:"Missing"},5.7:{0:"Reserved",1:"IEEE 32-bit (I=4 in Section 7)",2:"IEEE 64-bit (I=8 in Section 7)",3:"IEEE 128-bit (I=16 in Section 7)",255:"Missing"},"5.40":{0:"Lossless",1:"Lossy",255:"Missing"},"6.0":{0:"A bit map applies to this product and is specified in this section.",254:"A bit map previously defined in the same GRIB2 message applies to this product.",255:"A bit map does not apply to this product."},"7.0":{0:"Grid Point Data - Simple Packing (see Template 7.0)",1:"Matrix Value at Grid Point - Simple Packing (see Template 7.1)",2:"Grid Point Data - Complex Packing (see Template 7.2)",3:"Grid Point Data - Complex Packing and Spatial Differencing (see Template 7.3)",4:"Grid Point Data - IEEE Floating Point Data (see Template 7.4)",40:"Grid Point Data - JPEG2000 Compression (see Template 7.40)",41:"Grid Point Data - Portable Network Graphics (PNG) format (see Template 7.41)",50:"Spectral Data - Simple Packing (see Template 7.50)",51:"Spectral Data - Complex Packing (see Template 7.51)",65535:"Missing"},"ON388 Table A":{2:"Ultra Violet Index Model",3:"NCEP/ARL Transport and Dispersion Model",4:"NCEP/ARL Smoke Model",5:"Satellite Derived Precipitation and temperatures, from IR (See PDS Octet 41 ... for specific satellite ID)",6:"NCEP/ARL Dust Model",10:"Global Wind-Wave Forecast Model",11:"Global Multi-Grid Wave Model (Static Grids)",12:"Probabilistic Storm Surge (P-Surge)",13:"Hurricane Multi-Grid Wave Model",14:"Extra-tropical Storm Surge Atlantic Domain",15:"Nearshore Wave Prediction System (NWPS)",16:"Extra-Tropical Storm Surge (ETSS)",17:"Extra-tropical Storm Surge Pacific Domain",18:"Probabilistic Extra-Tropical Storm Surge (P-ETSS)",19:"Limited-area Fine Mesh (LFM) analysis",20:"Extra-tropical Storm Surge Micronesia Domain",25:"Snow Cover Analysis",30:"Forecaster generated field",31:"Value added post processed field",42:"Global Optimum Interpolation Analysis (GOI) from GFS model",43:"Global Optimum Interpolation Analysis (GOI) from 'Final' run ",44:"Sea Surface Temperature Analysis",45:"Coastal Ocean Circulation Model",46:"HYCOM - Global",47:"HYCOM - North Pacific basin",48:"HYCOM - North Atlantic basin",49:"Ozone Analysis from TIROS Observations ",52:"Ozone Analysis from Nimbus 7 Observations ",53:"LFM-Fourth Order Forecast Model",64:"Regional Optimum Interpolation Analysis (ROI)",68:"80 wave triangular, 18-layer Spectral model from GFS model",69:"80 wave triangular, 18 layer Spectral model from 'Medium Range Forecast' run",70:"Quasi-Lagrangian Hurricane Model (QLM)",71:"Hurricane Weather Research and Forecasting (HWRF) Model",72:"Hurricane Non-Hydrostatic Multiscale Model on the B Grid (HNMMB)",73:"Fog Forecast model - Ocean Prod. Center",74:"Gulf of Mexico Wind/Wave",75:"Gulf of Alaska Wind/Wave",76:"Bias corrected Medium Range Forecast",77:"126 wave triangular, 28 layer Spectral model from GFS model",78:"126 wave triangular, 28 layer Spectral model from 'Medium Range Forecast' run",79:"Backup from the previous run",80:"62 wave triangular, 28 layer Spectral model from 'Medium Range Forecast' run",81:"Analysis from GFS (Global Forecast System)",82:"Analysis from GDAS (Global Data Assimilation System)",83:"High Resolution Rapid Refresh (HRRR)",84:"MESO NAM Model (currently 12 km)",85:"Real Time Ocean Forecast System (RTOFS)",86:"Early Hurricane Wind Speed Probability Model",87:"CAC Ensemble Forecasts from Spectral (ENSMB)",88:"NOAA Wave Watch III (NWW3) Ocean Wave Model",89:"Non-hydrostatic Meso Model (NMM) (Currently 8 km)",90:"62 wave triangular, 28 layer spectral model extension of the 'Medium Range Forecast' run",91:"62 wave triangular, 28 layer spectral model extension of the GFS model",92:"62 wave triangular, 28 layer spectral model run from the 'Medium Range Forecast' final analysis",93:"62 wave triangular, 28 layer spectral model run from the T62 GDAS analysis of the 'Medium Range Forecast' run",94:"T170/L42 Global Spectral Model from MRF run",95:"T126/L42 Global Spectral Model from MRF run",96:"Global Forecast System ModelT1534 - Forecast hours 00-384\nT574 - Forecast hours 00-192\nT190 - Forecast hours 204-384\n",97:"Reserved",98:"Climate Forecast System Model -- Atmospheric model (GFS) coupled to a multi level ocean model .   Currently GFS spectral model at T62, 64 levels coupled to 40 level MOM3 ocean model.",99:"Miscellaneous Test ID",100:"Miscellaneous Test ID",101:"Conventional Observation Re-Analysis (CORE)",104:"National Blend GRIB",105:"Rapid Refresh (RAP)",106:"Reserved",107:"Global Ensemble Forecast System (GEFS)",108:"LAMP",109:"RTMA (Real Time Mesoscale Analysis)",110:"NAM Model - 15km version",111:"NAM model, generic resolution (Used in SREF processing)",112:"WRF-NMM model, generic resolution (Used in various runs) NMM=Nondydrostatic Mesoscale Model (NCEP)",113:"Products from NCEP SREF processing",114:"NAEFS Products from joined NCEP, CMC global ensembles",115:"Downscaled GFS from NAM eXtension",116:"WRF-EM model, generic resolution (Used in various runs) EM - Eulerian Mass-core (NCAR - aka Advanced Research WRF)",117:"NEMS GFS Aerosol Component",118:"URMA (UnRestricted Mesoscale Analysis)",119:"WAM (Whole Atmosphere Model)",120:"Ice Concentration Analysis",121:"Western North Atlantic Regional Wave Model",122:"Alaska Waters Regional Wave Model",123:"North Atlantic Hurricane Wave Model",124:"Eastern North Pacific Regional Wave Model",125:"North Pacific Hurricane Wave Model",126:"Sea Ice Forecast Model",127:"Lake Ice Forecast Model",128:"Global Ocean Forecast Model",129:"Global Ocean Data Analysis System (GODAS)",130:"Merge of fields from the RUC, NAM, and Spectral Model ",131:"Great Lakes Wave Model",132:"High Resolution Ensemble Forecast (HREF)",133:"Great Lakes Short Range Wave Model",134:"Rapid Refresh Forecast System (RRFS)",135:"Hurricane Analysis and Forecast System (HAFS)",140:"North American Regional Reanalysis (NARR)",141:"Land Data Assimilation and Forecast System",150:"NWS River Forecast System (NWSRFS)",151:"NWS Flash Flood Guidance System (NWSFFGS)",152:"WSR-88D Stage II Precipitation Analysis",153:"WSR-88D Stage III Precipitation Analysis",180:"Quantitative Precipitation Forecast generated by NCEP",181:"River Forecast Center Quantitative Precipitation Forecast mosaic generated by NCEP",182:"River Forecast Center Quantitative Precipitation estimate mosaic generated by NCEP",183:"NDFD product generated by NCEP/HPC",184:"Climatological Calibrated Precipitation Analysis - CCPA",190:"National Convective Weather Diagnostic generated by NCEP/AWC",191:"Current Icing Potential automated product genterated by NCEP/AWC",192:"Analysis product from NCEP/AWC",193:"Forecast product from NCEP/AWC",194:"Reserved",195:"Climate Data Assimilation System 2 (CDAS2)",196:"Climate Data Assimilation System 2 (CDAS2) - used for regeneration runs",197:"Climate Data Assimilation System (CDAS)",198:"Climate Data Assimilation System (CDAS) - used for regeneration runs",199:"Climate Forecast System Reanalysis (CFSR) -- Atmospheric model (GFS) coupled to a multi level ocean, land and seaice model.   Currently GFS spectral model at T382, 64 levels coupled to 40 level MOM4 ocean model.",200:"CPC Manual Forecast Product",201:"CPC Automated Product",210:"EPA Air Quality Forecast - Currently North East US domain",211:"EPA Air Quality Forecast - Currently Eastern US domain",215:"SPC Manual Forecast Product",220:"NCEP/OPC automated product",255:"Missing"}};static templates={"3.0":[{startIndex:15,size:1,content:null,table:"3.2",type:"uint8",info:"Shape of the Earth (See Code Table 3.2)"},{startIndex:16,size:1,content:null,type:"uint8",info:"Scale Factor of radius of spherical Earth"},{startIndex:17,size:4,content:null,type:"uint32",info:"Scale value of radius of spherical Earth"},{startIndex:21,size:1,content:null,type:"uint8",info:"Scale factor of major axis of oblate spheroid Earth"},{startIndex:22,size:4,content:null,type:"uint32",info:"Scaled value of major axis of oblate spheroid Earth"},{startIndex:26,size:1,content:null,type:"uint8",info:"Scale factor of minor axis of oblate spheroid Earth"},{startIndex:27,size:4,content:null,type:"uint32",info:"Scaled value of minor axis of oblate spheroid Earth"},{startIndex:31,size:4,content:null,type:"uint32",info:"Ni — number of points along a parallel"},{startIndex:35,size:4,content:null,type:"uint32",info:"Nj — number of points along a meridian"},{startIndex:39,size:4,content:null,type:"uint32",info:"Basic angle of the initial production domain (see Note 1)"},{startIndex:43,size:4,content:null,type:"uint32",info:"Subdivisions of basic angle used to define extreme longitudes and latitudes, and direction increments (see Note 1)"},{startIndex:47,size:4,content:null,type:"uint32",regulation:"92.1.5",info:"La1 — latitude of first grid point (see Note 1)"},{startIndex:51,size:4,content:null,type:"uint32",regulation:"92.1.5",info:"Lo1 — longitude of first grid point (see Note 1)"},{startIndex:55,size:1,content:null,flagTable:"3.3",type:"uint8",info:"Resolution and component flags (see Flag Table 3.3)"},{startIndex:56,size:4,content:null,type:"uint32",regulation:"92.1.5",info:"La2 — latitude of last grid point (see Note 1)"},{startIndex:60,size:4,content:null,type:"uint32",regulation:"92.1.5",info:"Lo2 — longitude of last grid point (see Note 1)"},{startIndex:64,size:4,content:null,type:"uint32",info:"Di — i direction increment (see Notes 1 and 5)"},{startIndex:68,size:4,content:null,type:"uint32",info:"Dj — j direction increment (see Note 1 and 5)"},{startIndex:72,size:1,content:null,flagTable:"3.4",type:"uint8",info:"Scanning mode (flags — see Flag Table 3.4 and Note 6)"},{startIndex:73,size:"end",content:null,type:"uint8",info:"List of number of points along each meridian or parallel (These octets are only present for quasi-regular grids as described in notes 2 and 3)"}],3.1:[{startIndex:15,size:1,content:null,table:"3.2",type:"uint8",info:"Shape of the Earth (See Code Table 3.2)"},{startIndex:16,size:1,content:null,type:"uint8",info:"Scale Factor of radius of spherical Earth"},{startIndex:17,size:4,content:null,type:"uint32",info:"Scale value of radius of spherical Earth"},{startIndex:21,size:1,content:null,type:"uint8",info:"Scale factor of major axis of oblate spheroid Earth"},{startIndex:22,size:4,content:null,type:"uint32",info:"Scaled value of major axis of oblate spheroid Earth"},{startIndex:26,size:1,content:null,type:"uint8",info:"Scale factor of minor axis of oblate spheroid Earth"},{startIndex:27,size:4,content:null,type:"uint32",info:"Scaled value of minor axis of oblate spheroid Earth"},{startIndex:31,size:4,content:null,type:"uint32",info:"Ni — number of points along a parallel"},{startIndex:35,size:4,content:null,type:"uint32",info:"Nj — number of points along a meridian"},{startIndex:39,size:4,content:null,type:"uint32",info:"Basic angle of the initial production domain (see Note 1)"},{startIndex:43,size:4,content:null,type:"uint32",info:"Subdivisions of basic angle used to define extreme longitudes and latitudes, and direction increments (see Note 1)"},{startIndex:47,size:4,content:null,type:"uint32",info:"La1 — latitude of first grid point (see Note 1)"},{startIndex:51,size:4,content:null,type:"uint32",info:"Lo1 — longitude of first grid point (see Note 1)"},{startIndex:55,size:1,content:null,flagTable:"3.3",type:"uint8",info:"Resolution and component flags (see Flag Table 3.3)"},{startIndex:56,size:4,content:null,type:"uint32",info:"La2 — latitude of last grid point (see Note 1)"},{startIndex:60,size:4,content:null,type:"uint32",info:"Lo2 — longitude of last grid point (see Note 1)"},{startIndex:64,size:4,content:null,type:"uint32",info:"Di — i direction increment (see Notes 1 and 4)"},{startIndex:68,size:4,content:null,type:"uint32",info:"Dj — j direction increment (see Note 1 and 4)"},{startIndex:72,size:1,content:null,flagTable:"3.4",type:"uint8",info:"Scanning mode (flags — see Flag Table 3.4 and Note 6)"},{startIndex:73,size:4,content:null,type:"uint32",info:"Latitude of the southern pole of projection"},{startIndex:77,size:4,content:null,type:"uint32",info:"Latitude of the southern pole of projection"},{startIndex:81,size:4,content:null,type:"uint32",info:"Angle of rotation of projection"},{startIndex:85,size:"end",content:null,type:"uint32",info:"List of number of points along each meridian or parallel (These octets are only present for quasi-regular grids as described in note 3)"}],3.2:[{startIndex:15,size:1,content:null,table:"3.2",type:"uint8",info:"Shape of the Earth (See Code Table 3.2)"},{startIndex:16,size:1,content:null,type:"uint8",info:"Scale Factor of radius of spherical Earth"},{startIndex:17,size:4,content:null,type:"uint32",info:"Scale value of radius of spherical Earth"},{startIndex:21,size:1,content:null,type:"uint8",info:"Scale factor of major axis of oblate spheroid Earth"},{startIndex:22,size:4,content:null,type:"uint32",info:"Scaled value of major axis of oblate spheroid Earth"},{startIndex:26,size:1,content:null,type:"uint8",info:"Scale factor of minor axis of oblate spheroid Earth"},{startIndex:27,size:4,content:null,type:"uint32",info:"Scaled value of minor axis of oblate spheroid Earth"},{startIndex:31,size:4,content:null,type:"uint32",info:"Ni — number of points along a parallel"},{startIndex:35,size:4,content:null,type:"uint32",info:"Nj — number of points along a meridian"},{startIndex:39,size:4,content:null,type:"uint32",info:"Basic angle of the initial production domain (see Note 1)"},{startIndex:43,size:4,content:null,type:"uint32",info:"Subdivisions of basic angle used to define extreme longitudes and latitudes, and direction increments (see Note 1)"},{startIndex:47,size:4,content:null,type:"uint32",info:"La1 — latitude of first grid point (see Note 1)"},{startIndex:51,size:4,content:null,type:"uint32",info:"Lo1 — longitude of first grid point (see Note 1)"},{startIndex:55,size:1,content:null,flagTable:"3.3",type:"uint8",info:"Resolution and component flags (see Flag Table 3.3)"},{startIndex:56,size:4,content:null,type:"uint32",info:"La2 — latitude of last grid point (see Note 1)"},{startIndex:60,size:4,content:null,type:"uint32",info:"Lo2 — longitude of last grid point (see Note 1)"},{startIndex:64,size:4,content:null,type:"uint32",info:"Di — i direction increment (see Notes 1 and 4)"},{startIndex:68,size:4,content:null,type:"uint32",info:"Dj — j direction increment (see Note 1 and 4)"},{startIndex:72,size:1,content:null,flagTable:"3.4",type:"uint8",info:"Scanning mode (flags — see Flag Table 3.4)"},{startIndex:73,size:4,content:null,type:"uint32",info:"Latitude of the southern pole of projection"},{startIndex:77,size:4,content:null,type:"uint32",info:"Latitude of the southern pole of projection"},{startIndex:81,size:4,content:null,type:"uint32",info:"Angle of rotation of projection"},{startIndex:85,size:"end",content:null,type:"uint32",info:"List of number of points along each meridian or parallel (These octets are only present for quasi-regular grids as described in note 3)"}],3.3:[{startIndex:15,size:1,content:null,table:"3.2",type:"uint8",info:"Shape of the Earth (See Code Table 3.2)"},{startIndex:16,size:1,content:null,type:"uint8",info:"Scale Factor of radius of spherical Earth"},{startIndex:17,size:4,content:null,type:"uint32",info:"Scale value of radius of spherical Earth"},{startIndex:21,size:1,content:null,type:"uint8",info:"Scale factor of major axis of oblate spheroid Earth"},{startIndex:22,size:4,content:null,type:"uint32",info:"Scaled value of major axis of oblate spheroid Earth"},{startIndex:26,size:1,content:null,type:"uint8",info:"Scale factor of minor axis of oblate spheroid Earth"},{startIndex:27,size:4,content:null,type:"uint32",info:"Scaled value of minor axis of oblate spheroid Earth"},{startIndex:31,size:4,content:null,type:"uint32",info:"Ni — number of points along a parallel"},{startIndex:35,size:4,content:null,type:"uint32",info:"Nj — number of points along a meridian"},{startIndex:39,size:4,content:null,type:"uint32",info:"Basic angle of the initial production domain (see Note 1)"},{startIndex:43,size:4,content:null,type:"uint32",info:"Subdivisions of basic angle used to define extreme longitudes and latitudes, and direction increments (see Note 1)"},{startIndex:47,size:4,content:null,type:"uint32",info:"La1 — latitude of first grid point (see Note 1)"},{startIndex:51,size:4,content:null,type:"uint32",info:"Lo1 — longitude of first grid point (see Note 1)"},{startIndex:55,size:1,content:null,flagTable:"3.3",type:"uint8",info:"Resolution and component flags (see Flag Table 3.3)"},{startIndex:56,size:4,content:null,type:"uint32",info:"La2 — latitude of last grid point (see Note 1)"},{startIndex:60,size:4,content:null,type:"uint32",info:"Lo2 — longitude of last grid point (see Note 1)"},{startIndex:64,size:4,content:null,type:"uint32",info:"Di — i direction increment (see Notes 1 and 4)"},{startIndex:68,size:4,content:null,type:"uint32",info:"Dj — j direction increment (see Note 1 and 4)"},{startIndex:72,size:1,content:null,flagTable:"3.4",type:"uint8",info:"Scanning mode (flags — see Flag Table 3.4)"},{startIndex:73,size:4,content:null,type:"uint32",info:"Latitude of the southern pole of projection"},{startIndex:77,size:4,content:null,type:"uint32",info:"Latitude of the southern pole of projection"},{startIndex:81,size:4,content:null,type:"uint32",info:"Angle of rotation of projection"},{startIndex:85,size:4,content:null,type:"uint32",info:"Latitude of the pole of stretching"},{startIndex:89,size:4,content:null,type:"uint32",info:"Longitude of the pole stretching"},{startIndex:93,size:4,content:null,type:"uint32",info:"Stretching factor"},{startIndex:97,size:"end",content:null,type:"uint32",info:"List of number of points along each meridian or parallel (These octets are only present for quasi-regular grids as described in note 3)"}],3.4:[{startIndex:15,size:1,content:null,table:"3.2",type:"uint8",info:"Shape of the Earth (See Code Table 3.2)"},{startIndex:16,size:1,content:null,type:"uint8",info:"Scale Factor of radius of spherical Earth"},{startIndex:17,size:4,content:null,type:"uint32",info:"Scale value of radius of spherical Earth"},{startIndex:21,size:1,content:null,type:"uint8",info:"Scale factor of major axis of oblate spheroid Earth"},{startIndex:22,size:4,content:null,type:"uint32",info:"Scaled value of major axis of oblate spheroid Earth"},{startIndex:26,size:1,content:null,type:"uint8",info:"Scale factor of minor axis of oblate spheroid Earth"},{startIndex:27,size:4,content:null,type:"uint32",info:"Scaled value of minor axis of oblate spheroid Earth"},{startIndex:31,size:4,content:null,type:"uint32",info:"Ni — number of points along a parallel"},{startIndex:35,size:4,content:null,type:"uint32",info:"Nj — number of points along a meridian"},{startIndex:39,size:4,content:null,type:"uint32",info:"Basic angle of the initial production domain (see Note 1)"},{startIndex:43,size:4,content:null,type:"uint32",info:"Subdivisions of basic angle used to define extreme longitudes and latitudes, and direction increments (see Note 1)"},{startIndex:47,size:1,content:null,flagTable:"3.3",type:"uint8",info:"Resolution and component flags (see Flag Table 3.3)"},{startIndex:48,size:1,content:null,flagTable:"3.4",type:"uint8",info:"Scanning mode (flags — see Flag Table 3.4)"},{startIndex:49,size:"calc",sizeRef:{index:31,calc:e=>4*e},content:null,type:"uint32",info:"List of Longitudes (see Notes 1 and 3)"},{startIndex:"nextAvailable",size:"end",content:null,type:"uint32",info:"List of Latitudes (see Notes 1 and 3)"}],3.5:[{startIndex:15,size:1,content:null,table:"3.2",type:"uint8",info:"Shape of the Earth (See Code Table 3.2)"},{startIndex:16,size:1,content:null,type:"uint8",info:"Scale Factor of radius of spherical Earth"},{startIndex:17,size:4,content:null,type:"uint32",info:"Scale value of radius of spherical Earth"},{startIndex:21,size:1,content:null,type:"uint8",info:"Scale factor of major axis of oblate spheroid Earth"},{startIndex:22,size:4,content:null,type:"uint32",info:"Scaled value of major axis of oblate spheroid Earth"},{startIndex:26,size:1,content:null,type:"uint8",info:"Scale factor of minor axis of oblate spheroid Earth"},{startIndex:27,size:4,content:null,type:"uint32",info:"Scaled value of minor axis of oblate spheroid Earth"},{startIndex:31,size:4,content:null,type:"uint32",info:"Ni — number of points along a parallel"},{startIndex:35,size:4,content:null,type:"uint32",info:"Nj — number of points along a meridian"},{startIndex:39,size:4,content:null,type:"uint32",info:"Basic angle of the initial production domain (see Note 1)"},{startIndex:43,size:4,content:null,type:"uint32",info:"Subdivisions of basic angle used to define extreme longitudes and latitudes, and direction increments (see Note 1)"},{startIndex:47,size:1,content:null,flagTable:"3.3",type:"uint8",info:"Resolution and component flags (see Flag Table 3.3)"},{startIndex:48,size:1,content:null,flagTable:"3.4",type:"uint8",info:"Scanning mode (flags — see Flag Table 3.4)"},{startIndex:49,size:4,content:null,type:"uint32",info:"Latitude of the southern pole of projection"},{startIndex:53,size:4,content:null,type:"uint32",info:"Latitude of the southern pole of projection"},{startIndex:57,size:4,content:null,type:"uint32",info:"Angle of rotation of projection"},{startIndex:61,size:"calc",sizeRef:{index:31,calc:e=>4*e},content:null,type:"uint32",info:"List of Longitudes (see Notes 1 and 3)"},{startIndex:"nextAvailable",size:"end",content:null,type:"uint32",info:"List of Latitudes (see Notes 1 and 3)"}],"3.10":[{startIndex:15,size:1,content:null,table:"3.2",type:"uint8",info:"Shape of the Earth (See Code Table 3.2)"},{startIndex:16,size:1,content:null,type:"uint8",info:"Scale Factor of radius of spherical Earth"},{startIndex:17,size:4,content:null,type:"uint32",info:"Scale value of radius of spherical Earth"},{startIndex:21,size:1,content:null,type:"uint8",info:"Scale factor of major axis of oblate spheroid Earth"},{startIndex:22,size:4,content:null,type:"uint32",info:"Scaled value of major axis of oblate spheroid Earth"},{startIndex:26,size:1,content:null,type:"uint8",info:"Scale factor of minor axis of oblate spheroid Earth"},{startIndex:27,size:4,content:null,type:"uint32",info:"Scaled value of minor axis of oblate spheroid Earth"},{startIndex:31,size:4,content:null,type:"uint32",info:"Ni — number of points along a parallel"},{startIndex:35,size:4,content:null,type:"uint32",info:"Nj — number of points along a meridian"},{startIndex:39,size:4,content:null,type:"uint32",info:"La1 ― latitude of first grid point"},{startIndex:43,size:4,content:null,type:"uint32",info:"Lo1 ― longitude of first grid point"},{startIndex:47,size:1,content:null,flagTable:"3.3",type:"uint8",info:"Resolution and component flags (see Flag Table 3.3)"},{startIndex:48,size:4,content:null,type:"uint32",info:"LaD — latitude(s) at which the Mercator projection intersects the Earth (Latitude(s) where Di and Dj are specified)  "},{startIndex:52,size:4,content:null,type:"uint32",info:"La2 ― latitude of last grid point"},{startIndex:56,size:4,content:null,type:"uint32",info:"Lo2 — longitude of last grid point"},{startIndex:60,size:1,content:null,flagTable:"3.4",type:"uint8",info:"Scanning mode (flags — see Flag Table 3.4)"},{startIndex:61,size:4,content:null,type:"uint32",info:"Orientation of the grid, angle between i direction on the map and the Equator (see Note1)"},{startIndex:65,size:4,content:null,type:"uint32",info:"Dj — longitudinal direction grid length (see Note 2)"},{startIndex:69,size:4,content:null,type:"uint32",info:"Dj ― latitudinal direction grid length  (see Note 2)"},{startIndex:73,size:"end",content:null,type:"uint32",info:"List of number of points along each meridian or parallel (These octets are only present for quasi-regular grids as described in notes 2 and 3 of GDT 3.1)"}],3.12:[],3.13:[],"3.20":[],3.23:[],"3.30":[],3.31:[],"4.0":[{startIndex:10,size:1,content:null,table:"4.1",type:"uint8",info:"Parameter category (see Code table 4.1)"},{startIndex:11,size:1,content:null,table:"4.1",type:"uint8",info:"Parameter number (see Code table 4.2)"},{startIndex:12,size:1,content:null,table:"4.3",type:"uint8",info:"Type of generating process (see Code table 4.3)"},{startIndex:13,size:1,content:null,table:"4.1",type:"uint8",info:"Background generating process identifier (defined by originating centre)"},{startIndex:14,size:1,content:null,table:"ON388 Table A",type:"uint8",info:"Analysis or forecast generating process identified (see Code ON388 Table A)"},{startIndex:15,size:2,content:null,type:"uint16",info:"Hours of observational data cutoff after reference time (see Note)"},{startIndex:17,size:1,content:null,type:"uint8",info:"Minutes of observational data cutoff after reference time (see Note)"},{startIndex:18,size:1,content:null,table:"4.4",type:"uint8",info:"Indicator of unit of time range (see Code table 4.4)"},{startIndex:19,size:4,content:null,type:"uint32",info:"Forecast time in units defined by octet 18"},{startIndex:23,size:1,content:null,table:"4.5",type:"uint8",info:"Type of first fixed surface (see Code table 4.5)"},{startIndex:24,size:1,content:null,type:"uint8",info:"Scale factor of first fixed surface"},{startIndex:25,size:4,content:null,type:"uint32",info:"Scaled value of first fixed surface"},{startIndex:29,size:1,content:null,table:"4.5",type:"uint8",info:"Type of second fixed surfaced (see Code table 4.5)"},{startIndex:30,size:1,content:null,type:"uint8",info:"Scale factor of second fixed surface"},{startIndex:31,size:4,content:null,info:"Parameter category (see Code Table 4.1)",startIndex:10,table:"4.1",size:1,type:"uint8",content:null},{info:"Parameter number (see Code Table 4.2)",startIndex:11,table:"4.2",size:1,type:"uint8",content:null},{info:"Type of generating process (see Code Table 4.3)",startIndex:12,table:"4.3",size:1,type:"uint8",content:null},{info:"Background generating process identifier (defined by originating centre)",startIndex:13,size:1,type:"uint8",content:null},{info:"Analysis or forecast generating process identified (see Code ON388 Table A)",startIndex:14,table:"ON388 Table A",size:1,type:"uint8",content:null},{info:"Hours after reference time data cutoff (see Note 1)",startIndex:15,size:2,type:"uint16",content:null},{info:"Minutes after reference time data cutoff",startIndex:17,size:1,type:"uint8",content:null},{info:"Indicator of unit of time range (see Code Table 4.4)",startIndex:18,table:"4.4",size:1,type:"uint8",content:null},{info:"Forecast time in units defined by octet 18 (see Note 2)",startIndex:19,size:4,type:"uint32",content:null},{info:"Type of first fixed surface (see Code Table 4.5)",startIndex:23,table:"4.5",size:1,type:"uint8",content:null},{info:"Scale factor of first fixed surface",startIndex:24,size:1,type:"uint8",content:null},{info:"Scaled value of first fixed surface",startIndex:25,size:4,type:"uint32",content:null},{info:"Type of second fixed surfaced (see Code Table 4.5)",startIndex:29,table:"4.5",size:1,type:"uint8",content:null},{info:"Scale factor of second fixed surface",startIndex:30,size:1,type:"uint8",content:null},{info:"Scaled value of second fixed surfaces",startIndex:31,size:4,type:"uint32",content:null}],4.1:[],4.2:[],4.3:[],4.4:[],4.5:[],4.6:[],4.7:[],4.8:[{info:"Parameter category (see Code Table 4.1)",startIndex:10,table:"4.1",size:1,type:"uint8",content:null},{info:"Parameter number (see Code Table 4.2)",startIndex:11,table:"4.2",size:1,type:"uint8",content:null},{info:"Type of generating process (see Code Table 4.3)",startIndex:12,table:"4.3",size:1,type:"uint8",content:null},{info:"Background generating process identifier (defined by originating centre)",startIndex:13,size:1,type:"uint8",content:null},{info:"Analysis or forecast generating process identified (see Code ON388 Table A)",startIndex:14,table:"ON388 Table A",size:1,type:"uint8",content:null},{info:"Hours after reference time data cutoff (see Note 1)",startIndex:15,size:2,type:"uint16",content:null},{info:"Minutes after reference time data cutoff",startIndex:17,size:1,type:"uint8",content:null},{info:"Indicator of unit of time range (see Code Table 4.4)",startIndex:18,table:"4.4",size:1,type:"uint8",content:null},{info:"Forecast time in units defined by octet 18 (see Note 2)",startIndex:19,size:4,type:"uint32",content:null},{info:"Type of first fixed surface (see Code Table 4.5)",startIndex:23,table:"4.5",size:1,type:"uint8",content:null},{info:"Scale factor of first fixed surface",startIndex:24,size:1,type:"uint8",content:null},{info:"Scaled value of first fixed surface",startIndex:25,size:4,type:"uint32",content:null},{info:"Type of second fixed surfaced (see Code Table 4.5)",startIndex:29,table:"4.5",size:1,type:"uint8",content:null},{info:"Scale factor of second fixed surface",startIndex:30,size:1,type:"uint8",content:null},{info:"Scaled value of second fixed surfaces",startIndex:31,size:4,type:"uint32",content:null},{info:"Year  ― Time of end of overall time interval",startIndex:35,size:2,type:"uint16",content:null},{info:"Month  ― Time of end of overall time interval",startIndex:37,size:1,type:"uint8",content:null},{info:"Day  ― Time of end of overall time interval",startIndex:38,size:1,type:"uint8",content:null},{info:"Hour  ― Time of end of overall time interval",startIndex:39,size:1,type:"uint8",content:null},{info:"Minute  ― Time of end of overall time interval",startIndex:40,size:1,type:"uint8",content:null},{info:"Second  ― Time of end of overall time interval",startIndex:41,size:1,type:"uint8",content:null},{info:"n ― number of time ranges specifications describing the time intervals used to calculate the statistically-processed field",startIndex:42,size:1,type:"uint8",content:null},{info:"Total number of data values missing in statistical process",startIndex:43,size:4,type:"uint32",content:null},{info:"Statistical process used to calculate the processed field from the field at each time increment during the time range (see Code Table 4.10)",startIndex:47,table:"4.10",size:1,type:"uint8",content:null},{info:"Type of time increment between successive fields used in the statistical processing (see Code Table 4.11)",startIndex:48,table:"4.11",size:1,type:"uint8",content:null},{info:"Indicator of unit of time for time range over which statistical processing is done (see Code Table 4.4)",startIndex:49,table:"4.4",size:1,type:"uint8",content:null},{info:"Length of the time range over which statistical processing is done, in units defined by the previous octet",startIndex:50,size:4,type:"uint32",content:null},{info:"Indicator of unit of time for the increment between the successive fields used (see Code Table 4.4)",startIndex:54,table:"4.4",size:1,type:"uint8",content:null},{info:"Time increment between successive fields, in units defined by the previous octet (see Notes 3 and 4) ",startIndex:55,size:4,type:"uint32",content:null},{info:"As octets 47 to 58, next innermost step of processing",startIndex:59,size:12,type:"uint8",content:null},{info:"Additional time range specifications, included in accordance with the value of n. Contents as octets 47 to 58, repeated as necessary",startIndex:71,size:"end",type:"uint8",content:null}],4.9:[],"4.10":[],4.11:[],4.12:[],4.13:[],4.14:[],4.15:[],"4.20":[],"4.30":[],"5.0":[{startIndex:12,size:4,content:null,type:"float32",info:"Reference value (R) (IEEE 32-bit floating-point value)"},{startIndex:16,size:2,content:null,type:"int16",regulation:"92.1.5",info:"Binary scale factor (E)"},{startIndex:18,size:2,content:null,type:"int16",regulation:"92.1.5",info:"Decimal scale factor (D)"},{startIndex:20,size:1,content:null,type:"uint8",info:"Number of bits used for each packed value for simple packing, or for each group reference value for complex packing or spatial differencing"},{startIndex:21,size:1,content:null,table:"5.1",type:"uint8",info:"Type of original field values (see Code Table 5.1)"}],5.1:[{startIndex:12,size:4,content:null,type:"float32",info:"Reference value (R) (IEEE 32-bit floating-point value)"},{startIndex:16,size:2,content:null,type:"int16",info:"Binary scale factor (E)"},{startIndex:18,size:2,content:null,type:"int16",info:"Decimal scale factor (D)"},{startIndex:20,size:1,content:null,type:"uint8",info:"Number of bits used for each packed value for simple packing, or for each group reference value for complex packing or spatial differencing"},{startIndex:21,size:1,content:null,table:"5.1",type:"uint8",info:"Type of original field values (see Code Table 5.1)"},{startIndex:22,size:1,content:null,type:"uint8",info:"0, no matrix bit maps present; 1-matrix bit maps present"},{startIndex:23,size:4,content:null,type:"uint32",info:"Number of data values encoded in Section 7"},{startIndex:27,size:2,content:null,type:"uint16",info:"NR ― first dimension (rows) of each matrix"},{startIndex:29,size:2,content:null,type:"uint16",info:"NC ― second dimension (columns) of each matrix"},{startIndex:31,size:1,content:null,table:"5.2",type:"uint8",info:"First dimension coordinate value definition (see Code Table 5.2)"},{startIndex:32,size:1,content:null,type:"uint8",info:"NC1 ― number of coefficients or values used  to specify first dimension coordinate function"},{startIndex:33,size:1,content:null,table:"5.2",type:"uint8",info:"Second dimension coordinate value definition (see Code Table 5.2)"},{startIndex:34,size:1,content:null,type:"uint8",info:"NC2 ― number of coefficients or values used to specify second dimension coordinate function"},{startIndex:35,size:1,content:null,table:"5.3",type:"uint8",info:"First dimension physical significance (see Code Table 5.3)"},{startIndex:36,size:1,content:null,table:"5.3",type:"uint8",info:"Second dimension physical significance (see Code Table 5.3)"},{startIndex:37,size:"calc",sizeRef:{index:32,calc:e=>4*e},content:null,type:"float32",info:"Coefficients to define first dimension coordinate values in functional form, or the explicit coordinate values (IEEE 32-bit floating-point value)"},{startIndex:"nextAvailable",size:"end",content:null,type:"float32",info:"Coefficients to define second dimension coordinate values in functional form, or the explicit coordinate values (IEEE 32-bit floating-point value)"}],5.2:[{startIndex:12,size:4,content:null,type:"float32",info:"Reference value (R) (IEEE 32-bit floating-point value)"},{startIndex:16,size:2,content:null,type:"int16",info:"Binary scale factor (E)"},{startIndex:18,size:2,content:null,type:"int16",info:"Decimal scale factor (D)"},{startIndex:20,size:1,content:null,type:"uint8",info:"Number of bits used for each packed value for simple packing, or for each group reference value for complex packing or spatial differencing"},{startIndex:21,size:1,content:null,table:"5.1",type:"uint8",info:"Type of original field values (see Code Table 5.1)"},{startIndex:22,size:1,content:null,table:"5.4",type:"uint8",info:"Group splitting method used (see Code Table 5.4)"},{startIndex:23,size:1,content:null,table:"5.5",type:"uint8",info:"Missing value management used (see Code Table 5.5)"},{startIndex:24,size:4,content:null,type:"uint32",info:"Primary missing value substitute"},{startIndex:28,size:4,content:null,type:"uint32",info:"Secondary missing value substitute"},{startIndex:32,size:4,content:null,type:"uint32",info:"NG ― number of groups of data values into which field is split"},{startIndex:36,size:1,content:null,type:"uint8",info:"Reference for group widths (see Note 12)"},{startIndex:37,size:1,content:null,type:"uint8",info:"Number of bits used for the group widths (after the reference value in octet 36 has been removed)"},{startIndex:38,size:4,content:null,type:"uint32",info:"Reference for group lengths (see Note 13)"},{startIndex:42,size:1,content:null,type:"uint8",info:"Length increment for the group lengths (see Note 14)"},{startIndex:43,size:4,content:null,type:"uint32",info:"True length of last group"},{startIndex:47,size:1,content:null,type:"uint8",info:"Number of bits used for the scaled group lengths (after subtraction of the reference value given in octets 38-41 and division by the length increment given in octet 42)"}],5.3:[{startIndex:12,size:4,content:null,type:"float32",info:"Reference value (R) (IEEE 32-bit floating-point value)"},{startIndex:16,size:2,content:null,type:"int16",info:"Binary scale factor (E)"},{startIndex:18,size:2,content:null,type:"int16",info:"Decimal scale factor (D)"},{startIndex:20,size:1,content:null,type:"uint8",info:"Number of bits used for each packed value for simple packing, or for each group reference value for complex packing or spatial differencing"},{startIndex:21,size:1,content:null,table:"5.1",type:"uint8",info:"Type of original field values (see Code Table 5.1)"},{startIndex:22,size:1,content:null,table:"5.4",type:"uint8",info:"Group splitting method used (see Code Table 5.4)"},{startIndex:23,size:1,content:null,table:"5.5",type:"uint8",info:"Missing value management used (see Code Table 5.5)"},{startIndex:24,size:4,content:null,type:"uint32",info:"Primary missing value substitute"},{startIndex:28,size:4,content:null,type:"uint32",info:"Secondary missing value substitute"},{startIndex:32,size:4,content:null,type:"uint32",info:"NG ― number of groups of data values into which field is split"},{startIndex:36,size:1,content:null,type:"uint8",info:"Reference for group widths (see Note 12)"},{startIndex:37,size:1,content:null,type:"uint8",info:"Number of bits used for the group widths (after the reference value in octet 36 has been removed)"},{startIndex:38,size:4,content:null,type:"uint32",info:"Reference for group lengths (see Note 13)"},{startIndex:42,size:1,content:null,type:"uint8",info:"Length increment for the group lengths (see Note 14)"},{startIndex:43,size:4,content:null,type:"uint32",info:"True length of last group"},{startIndex:47,size:1,content:null,type:"uint8",info:"Number of bits used for the scaled group lengths (after subtraction of the reference value given in octets 38-41 and division by the length increment given in octet 42)"},{startIndex:48,size:1,content:null,table:"5.6",type:"uint8",info:"Order of spatial difference (see Code Table 5.6)"},{startIndex:49,size:1,content:null,type:"uint8",info:"Number of octets required in the data section to specify extra descriptors needed for spatial differencing (octets 6-ww in data template 7.3)"}],5.4:[{startIndex:12,size:1,content:null,table:"5.7",type:"uint8",info:"Precision (See code Table 5.7)"}],"5.40":[{startIndex:12,size:4,content:null,type:"float32",info:"Reference value (R) (IEEE 32-bit floating-point value)"},{startIndex:16,size:2,content:null,type:"int16",info:"Binary scale factor (E)"},{startIndex:18,size:2,content:null,type:"int16",info:"Decimal scale factor (D)"},{startIndex:20,size:1,content:null,type:"uint8",info:"Number of bits required to hold the resulting scaled and referenced data values. (i.e. The depth of the grayscale image.) (see Note 2)"},{startIndex:21,size:1,content:null,table:"5.1",type:"uint8",info:"Type of original field values (see Code Table 5.1)"},{startIndex:22,size:1,content:null,table:"5.40",type:"uint8",info:"Type of Compression used. (see Code Table 5.40)"},{startIndex:22,size:1,content:null,type:"uint8",info:"Target compression ratio, M:1 (with respect to the bit-depth specified in octet 20), when octet 22 indicates Lossy Compression. Otherwise, set to missing (see Note 3)"}],5.41:[{startIndex:12,size:4,content:null,type:"float32",info:"Reference value (R) (IEEE 32-bit floating-point value)"},{startIndex:16,size:2,content:null,type:"int16",info:"Binary scale factor (E)"},{startIndex:18,size:2,content:null,type:"int16",info:"Decimal scale factor (D)"},{startIndex:20,size:1,content:null,type:"uint8",info:"Number of bits required to hold the resulting scaled and referenced data values. (i.e. The depth of the grayscale image.) (see Note 2)"},{startIndex:21,size:1,content:null,table:"5.1",type:"uint8",info:"Type of original field values (see Code Table 5.1)"}],"5.50":[],5.51:[],5.61:[{startIndex:12,size:4,content:null,type:"float32",info:"Reference value (R) (IEEE 32-bit floating-point value)"},{startIndex:16,size:2,content:null,type:"int16",info:"Binary scale factor (E)"},{startIndex:18,size:2,content:null,type:"int16",info:"Decimal scale factor (D)"},{startIndex:20,size:1,content:null,type:"uint8",info:"Number of bits used for each packed value"},{startIndex:21,size:4,content:null,type:"float32",info:"Pre-processing parameter (B) (IEEE 32-bit floating-point value)"}],"5.200":[{startIndex:12,size:1,content:null,type:"uint8",info:"Number of used for each packed value in the run length packing with level value"},{startIndex:13,size:2,content:null,type:"uint16",info:"MV - Maximum value within the levels that used in the packing"},{startIndex:15,size:2,content:null,type:"uint16",info:"MVL - Maximum value of level (Predefined)"},{startIndex:17,size:1,content:null,type:"uint8",info:"Decimal scale factor of representative value of each level"},{startIndex:18,size:null,content:null,type:"uint32",info:"List of MVL scale representative values of each level from lv=1 to MVL"}]};constructor(e){this.buffer=e,this.sectionBuffers=[],this.dataTemplate={0:[{startIndex:1,size:4,content:"",type:"String",info:"GRIB (Coded according to the International Alphabet Number 5)"},{startIndex:5,size:2,content:null,type:null,info:"Reserved"},{startIndex:7,size:1,content:null,type:"uint8",table:"0.0",info:"Discipline (From Table 0.0)"},{startIndex:8,size:1,content:null,type:"uint8",info:"Edition number - 2 for GRIB2"},{startIndex:9,size:8,content:null,type:"uint64",info:"Total length of GRIB message in octects (All sections)"}],1:[{startIndex:1,size:4,content:21,type:"uint32",info:"Length of the section in octects (21 or N)"},{startIndex:5,size:1,content:1,type:"uint8",info:"Number of the section"},{startIndex:6,size:2,content:0,type:"uint16",info:"Identification of originating/generating center (See Table 0)"},{startIndex:8,size:2,content:0,type:"uint16",info:"Identification of originating/generating subcenter (See Table C)"},{startIndex:10,size:1,content:2,type:"uint8",table:"1.0",info:"GRIB master tables version number (currently 2) (See Table 1.0)"},{startIndex:11,size:1,content:0,type:"uint8",table:"1.1",info:"Version number of GRIB local tables used to augment Master Tables (see Table 1.1)"},{startIndex:12,size:1,content:2,type:"uint8",table:"1.2",info:"Significance of reference time (See Table 1.2)"},{startIndex:13,size:2,content:2021,type:"uint16",info:"Year (4 digits)"},{startIndex:15,size:1,content:8,type:"uint8",info:"Month"},{startIndex:16,size:1,content:30,type:"uint8",info:"Day"},{startIndex:17,size:1,content:12,type:"uint8",info:"Hour"},{startIndex:18,size:1,content:0,type:"uint8",info:"Minute"},{startIndex:19,size:1,content:0,type:"uint8",info:"Second"},{startIndex:20,size:1,content:0,type:"uint8",table:"1.3",info:"Production Status of Processed data in the GRIB message (See Table 1.3)"},{startIndex:21,size:1,content:1,type:"uint8",table:"1.4",info:"Type of processed data in this GRIB message (See Table 1.4)"},{startIndex:22,size:"end",content:null,type:null,info:"Reserved"}],2:[{startIndex:1,size:4,content:null,type:"uint32",info:"Length of the section in octets (N)"},{startIndex:5,size:1,content:2,type:"uint8",info:"Number of the section (2)"},{startIndex:6,size:"end",content:null,type:null,info:"Local Use (6-N)"}],3:[{startIndex:1,size:4,content:null,type:"uint32",info:"Length of the section in octets (nn)"},{startIndex:5,size:1,content:3,type:"uint8",info:"Number of the section"},{startIndex:6,size:1,content:1,type:"uint8",table:"3.0",info:"Source of grid definition (See Table 3.0) (See note 1 below)"},{startIndex:7,size:4,content:null,type:"uint32",info:"Number of data points"},{startIndex:11,size:1,content:0,type:"uint8",info:"Number of octets for optional list of numbers defining number of points (See note 2 below)"},{startIndex:12,size:1,content:null,type:"uint8",table:"3.11",info:"Interpetation of list of numbers defining number of points (See Table 3.11)"},{startIndex:13,size:2,content:null,type:"uint16",table:"3.1",info:"Grid definition template number (= N) (See Table 3.1)"},{startIndex:15,size:null,content:null,templateRef:{section:3,index:13,info:"Template 3.N, where N is the grid definition template number given in octets 13-14"},info:"Grid definition template (See Template 3.N, where N is the grid definition template number given in octets 13-14)"},{startIndex:null,size:"end",content:null,info:"Optional list of numbers defining number of points (See notes 2, 3, and 4 below)"}],4:[{startIndex:1,size:4,content:null,type:"uint32",info:"Length of the section in octets (nn)"},{startIndex:5,size:1,content:4,type:"uint8",info:"Number of the section (4)"},{startIndex:6,size:2,content:null,type:"uint16",info:"Number of coordinate values after template (See note 1 below)"},{startIndex:8,size:2,content:null,table:"4.0",type:"uint16",info:"Product definition template number (See Table 4.0)"},{startIndex:10,size:null,content:null,templateRef:{section:4,index:8,info:"Template 4.X, where X is the number given in octets 8-9)"},info:"Product definition template (See product template 4.X, where X is the number given in octets 8-9)"},{startIndex:"nextAvailable",size:"end",content:null,info:"Optional list of coordinate values (See notes 2 and 3 below)"}],5:[{startIndex:1,size:4,content:null,type:"uint32",info:"Length of the section in octets (nn)"},{startIndex:5,size:1,content:5,type:"uint8",info:"Number of the section (5)"},{startIndex:6,size:4,content:null,type:"uint32",info:"Number of data points where one or more values are specified in Section 7 when a bit map is present, total number of data points when a bit map is absent."},{startIndex:10,size:2,content:0,table:"5.0",type:"uint16",info:"Data representation template number (See Table 5.0)"},{startIndex:12,size:null,content:null,templateRef:{section:5,index:10,info:"Template 5.X, where X is the number given in octets 10-11)"},info:"Data representation template (See Template 5.X, where X is the number given in octets 10-11)"}],6:[{startIndex:1,size:4,content:null,type:"uint32",info:"Length of the section in octets (nn)"},{startIndex:5,size:1,content:6,type:"uint8",info:"Number of the section (6)"},{startIndex:6,size:1,content:null,table:"6.0",type:"uint8",info:"Bit-map indicator (See Table 6.0) (See note 1 below)"},{startIndex:7,size:"end",content:null,info:"Bit-map"}],7:[{startIndex:1,size:4,content:null,type:"uint32",info:"Length of the section in octets (nn)"},{startIndex:5,size:1,content:7,type:"uint8",info:"Number of the section (7)"},{startIndex:6,size:"end",content:null,info:"Data in a format described by data Template 7.X, where X is the data representation template number given in octets 10-11 of Section 5."}],8:[{startIndex:1,size:4,content:"",type:"String",info:'"7777" - Coded according to the International Alphabet Number 5.'}]}}}async function o(e,t={}){const{parameter:r,level:o,bbox:n,startDate:i,endDate:s}=t;console.log("Extracting GRIB2 data with research implementation...",{parameter:r,level:o,bbox:n});try{const{default:r}=await a.e(181).then(a.bind(a,181)),o=new r,n=await o.extractGRIB2Data(e,t);return console.log("GRIB2 extraction completed successfully"),console.log("Real meteorological data extracted:",n.data.shape),n}catch(e){throw console.error("GRIB2 extraction failed:",e),new Error("GRIB2 data extraction failed. This application successfully downloads real HRRR GRIB2 files from NOAA containing actual meteorological data, but the parsing implementation encountered an error. The downloaded files contain real weather data values, but the current implementation could not extract them. Error: "+e.message)}}async function n(e,t={}){try{const{parseGRIB2:r}=await a.e(972).then(a.bind(a,972)),o=await r(e,t);return console.log("GRIB2 parsing completed via standalone parser"),o}catch(e){throw console.error("GRIB2 parsing failed:",e),new Error(`GRIB2 parsing failed: ${e.message}`)}}async function i(e={}){try{const e=await a.e(972).then(a.bind(a,972));return{parse:e.parseGRIB2,parseGRIB2:e.parseGRIB2,extractData:e.extractGRIB2Data,extractGRIB2Data:e.extractGRIB2Data,default:e.default,isLoaded:()=>!0,getInfo:()=>({version:"2.0",format:"GRIB2",implementation:"Standalone Parser with Research Integration"})}}catch(e){throw console.error("Failed to load GRIB2 library:",e),new Error(`GRIB2 library load failed: ${e.message}`)}}function s(){return!0}function l(){return{version:"2.0",format:"GRIB2",implementation:"Standalone Parser with Research Integration"}}const d={load:i,isLoaded:s,getInfo:l,GRIB2:r,parseGRIB2:n,extractGRIB2Data:o};e.exports?e.exports={GRIB2:r,parseGRIB2:n,extractGRIB2Data:o,load:i,isLoaded:s,getInfo:l}:"undefined"!=typeof window&&(window.GRIB2=r,window.parseGRIB2=n,window.extractGRIB2Data=o,window.load=i,window.isLoaded=s,window.getInfo=l)},225:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE_https_cdn_jsdelivr_net_npm_fzstd_esm_79a353d4__},299:(e,t,a)=>{a.d(t,{default:()=>o});const r={"mrms-radar":{baseUrl:"https://mrms.ncep.noaa.gov",format:"grib2",description:"MRMS Radar Products - Real-time operational radar data in GRIB2 format. Provides current weather radar data with 2-minute updates.",spatial:{latitude:{min:20,max:55,resolution:.01},longitude:{min:-130,max:-60,resolution:.01},crs:"EPSG:4326",coverage:"CONUS"},temporal:{resolution:"2M",realtime:!0,archive:!1,archiveStart:null,note:"MRMS provides real-time operational data. Historical data may be available through NCEP archives or other data portals."},products:{MergedReflectivityQC:{description:"Merged radar reflectivity with quality control",path:"/3DRefl/MergedReflectivityQC_00.50",filename:"MRMS_MergedReflectivityQC_00.50_{timestamp}.grib2.gz",format:"grib2"},MergedReflectivityQCComposite:{description:"Composite reflectivity mosaic",path:"/3DRefl/MergedReflectivityQC_00.50",filename:"MRMS_MergedReflectivityQC_00.50_{timestamp}.grib2.gz",format:"grib2"},PrecipFlag:{description:"Precipitation type flag",path:"/2D/PrecipFlag",filename:"MRMS_PrecipFlag_00.00_{timestamp}.grib2.gz",format:"grib2"},PrecipRate:{description:"Precipitation rate",path:"/2D/PrecipRate",filename:"MRMS_PrecipRate_00.00_{timestamp}.grib2.gz",format:"grib2"},PCPN_TYP:{description:"Precipitation type classification",path:"/RIDGEII/L2/CONUS/PCPN_TYP",filename:"CONUS_L2_PCPN_TYP_{timestamp}.tif.gz",format:"tiff"},RadarQualityIndex:{description:"Radar data quality index",path:"/2D/RadarQualityIndex",filename:"MRMS_RadarQualityIndex_00.00_{timestamp}.grib2.gz",format:"grib2"},VIL:{description:"Vertically integrated liquid water",path:"/2D/VIL",filename:"MRMS_VIL_00.00_{timestamp}.grib2.gz",format:"grib2"},EchoTop:{description:"Echo top height",path:"/2D/EchoTop_18",filename:"MRMS_EchoTop_18_00.00_{timestamp}.grib2.gz",format:"grib2"},SyntheticPrecipRateID:{description:"Synthetic precipitation rate identification",path:"/2D/SyntheticPrecipRateID",filename:"MRMS_SyntheticPrecipRateID_00.00_{timestamp}.grib2.gz",format:"grib2"}}},"mrms-qpe":{baseUrl:"https://mrms.ncep.noaa.gov/data",format:"grib2",description:"MRMS Quantitative Precipitation Estimate - High-resolution precipitation data",spatial:{latitude:{min:20,max:55,resolution:.01},longitude:{min:-130,max:-60,resolution:.01},crs:"EPSG:4326",coverage:"CONUS"},temporal:{resolution:"1H",realtime:!0,archive:!0,archiveStart:"2014-01-01T00:00:00Z"},products:{RadarOnly_QPE_01H:{description:"1-hour radar-only QPE",path:"/RadarOnly_QPE_01H",filename:"MRMS_RadarOnly_QPE_01H_00.00_{timestamp}.grib2.gz",format:"grib2"},RadarOnly_QPE_03H:{description:"3-hour radar-only QPE",path:"/RadarOnly_QPE_03H",filename:"MRMS_RadarOnly_QPE_03H_00.00_{timestamp}.grib2.gz",format:"grib2"},RadarOnly_QPE_06H:{description:"6-hour radar-only QPE",path:"/RadarOnly_QPE_06H",filename:"MRMS_RadarOnly_QPE_06H_00.00_{timestamp}.grib2.gz",format:"grib2"},RadarOnly_QPE_12H:{description:"12-hour radar-only QPE",path:"/RadarOnly_QPE_12H",filename:"MRMS_RadarOnly_QPE_12H_00.00_{timestamp}.grib2.gz",format:"grib2"},RadarOnly_QPE_15M:{description:"15-minute radar-only QPE",path:"/RadarOnly_QPE_15M",filename:"MRMS_RadarOnly_QPE_15M_00.00_{timestamp}.grib2.gz",format:"grib2"},RadarOnly_QPE_24H:{description:"24-hour radar-only QPE",path:"/RadarOnly_QPE_24H",filename:"MRMS_RadarOnly_QPE_24H_00.00_{timestamp}.grib2.gz",format:"grib2"},RadarOnly_QPE_48H:{description:"48-hour radar-only QPE",path:"/RadarOnly_QPE_48H",filename:"MRMS_RadarOnly_QPE_48H_00.00_{timestamp}.grib2.gz",format:"grib2"},RadarOnly_QPE_72H:{description:"72-hour radar-only QPE",path:"/RadarOnly_QPE_72H",filename:"MRMS_RadarOnly_QPE_72H_00.00_{timestamp}.grib2.gz",format:"grib2"},RadarOnly_QPE_Since12Z:{description:"Radar-only QPE since 12Z",path:"/RadarOnly_QPE_Since12Z",filename:"MRMS_RadarOnly_QPE_Since12Z_00.00_{timestamp}.grib2.gz",format:"grib2"},MultiSensor_QPE_01H_Pass1:{description:"1-hour multi-sensor QPE Pass 1",path:"/MultiSensor_QPE_01H_Pass1",filename:"MRMS_MultiSensor_QPE_01H_Pass1_00.00_{timestamp}.grib2.gz",format:"grib2"},MultiSensor_QPE_01H_Pass2:{description:"1-hour multi-sensor QPE Pass 2",path:"/MultiSensor_QPE_01H_Pass2",filename:"MRMS_MultiSensor_QPE_01H_Pass2_00.00_{timestamp}.grib2.gz",format:"grib2"}}},"mrms-qpf":{baseUrl:"https://mrms.ncep.noaa.gov/data",format:"grib2",description:"MRMS Quantitative Precipitation Forecast - Short-term precipitation forecasts",spatial:{latitude:{min:20,max:55,resolution:.01},longitude:{min:-130,max:-60,resolution:.01},crs:"EPSG:4326",coverage:"CONUS"},temporal:{resolution:"1H",forecast:!0,forecastHours:24,realtime:!0},products:{QPF_01H:{description:"1-hour QPF",path:"/QPF/QPF_01H",filename:"MRMS_QPF_01H_00.00_{timestamp}.grib2.gz",format:"grib2"},QPF_03H:{description:"3-hour QPF",path:"/QPF/QPF_03H",filename:"MRMS_QPF_03H_00.00_{timestamp}.grib2.gz",format:"grib2"},QPF_06H:{description:"6-hour QPF",path:"/QPF/QPF_06H",filename:"MRMS_QPF_06H_00.00_{timestamp}.grib2.gz",format:"grib2"},QPF_12H:{description:"12-hour QPF",path:"/QPF/QPF_12H",filename:"MRMS_QPF_12H_00.00_{timestamp}.grib2.gz",format:"grib2"},QPF_24H:{description:"24-hour QPF",path:"/QPF/QPF_24H",filename:"MRMS_QPF_24H_00.00_{timestamp}.grib2.gz",format:"grib2"}}}},o={"point-data":{endpoint:null,params:{dataset:null,product:null,variable:null,latitude:null,longitude:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"grid-data":{endpoint:null,params:{dataset:null,product:null,variable:null,bbox:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"timeseries-data":{endpoint:null,params:{dataset:null,product:null,variable:null,latitude:null,longitude:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"dataset-info":{endpoint:null,params:{dataset:null,info:null},methods:{type:"json",method:"GET"}},"available-products":{endpoint:null,params:{dataset:null,date:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!1,requireskey:!1},info:{returnFormats:"json, csv, netcdf",MoreInfo:"https://mrms.ncep.noaa.gov/",Documentation:"https://github.com/NOAA-National-Severe-Storms-Laboratory/mrms-support",About:"NOAA MRMS provides high-resolution multi-radar multi-sensor data including precipitation estimates, radar reflectivity, and severe weather products in GRIB2 format. Filename pattern: MRMS_[Product]_[Height]_[YYYYMMDD]-[HHMMSS].grib2.gz"},datasets:r,variables:{REF:{longName:"Radar Reflectivity",units:"dBZ",grib2Code:"0,0,16",levelType:"heightAboveGround",level:"1000",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["MergedReflectivityQC","MergedReflectivityQCComposite"]},REFC:{longName:"Composite Reflectivity",units:"dBZ",grib2Code:"0,0,16",levelType:"heightAboveGround",level:"1000",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["MergedReflectivityQCComposite"]},PRATE:{longName:"Precipitation Rate",units:"kg/m²/s",grib2Code:"0,1,7",levelType:"surface",level:"0",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["PrecipRate"]},APCP:{longName:"Total Precipitation",units:"kg/m²",grib2Code:"0,1,8",levelType:"surface",level:"0",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["PrecipRate","PCPN_TYP","RadarOnly_QPE_01H","RadarOnly_QPE_24H","QPF_01H","QPF_24H"]},VIL:{longName:"Vertically Integrated Liquid",units:"kg/m²",grib2Code:"0,0,193",levelType:"surface",level:"0",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["VerticallyIntegratedLiquid"]},ETOP:{longName:"Echo Top Height",units:"m",grib2Code:"0,0,194",levelType:"surface",level:"0",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["EchoTop"]},RQI:{longName:"Radar Quality Index",units:"dimensionless",grib2Code:"0,0,192",levelType:"surface",level:"0",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["RadarQualityIndex"]},PFLAG:{longName:"Precipitation Type Flag",units:"dimensionless",grib2Code:"0,1,195",levelType:"surface",level:"0",scaleFactor:1,fillValue:-9999,dtype:"int32",products:["PrecipFlag"]},SPRI:{longName:"Synthetic Precipitation Rate Identification",units:"kg/m²/s",grib2Code:"0,1,22",levelType:"surface",level:"0",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["SyntheticPrecipRateID"]}},generateURL:function(e,t,a="mrms-radar"){const o=r[a];if(!o)throw new Error(`Unknown MRMS dataset: ${a}`);const n=o.products[e];if(!n)throw new Error(`Unknown MRMS product: ${e}`);const i=t.getUTCFullYear(),s=String(t.getUTCMonth()+1).padStart(2,"0"),l=String(t.getUTCDate()).padStart(2,"0"),d=String(t.getUTCHours()).padStart(2,"0"),c=String(t.getUTCMinutes()).padStart(2,"0"),u=String(t.getUTCSeconds()).padStart(2,"0");let m;m="tiff"===n.format?`${i}${s}${l}_${d}${c}${u}`:`${i}${s}${l}-${d}${c}${u}`;const p=n.filename.replace("{timestamp}",m);return`${o.baseUrl}${n.path}/${p}`},"endpoint-info":{"point-data":{paramFormat:{dataset:"String - Dataset identifier (e.g., 'mrms-radar', 'mrms-qpe')",product:"String - MRMS product name (e.g., 'MergedReflectivityQC', 'RadarOnly_QPE_01H')",variable:"String - Variable name (e.g., 'REF', 'APCP')",latitude:"Number - Latitude coordinate (20.0 to 55.0)",longitude:"Number - Longitude coordinate (-130.0 to -60.0)",startDate:"String - Start date in ISO format (YYYY-MM-DDTHH:mm:ssZ)",endDate:"String - End date in ISO format (YYYY-MM-DDTHH:mm:ssZ)",format:"String - Output format ('json', 'csv', 'netcdf')"},infoSource:"https://mrms.ncep.noaa.gov/",example:{dataset:"mrms-qpe",product:"RadarOnly_QPE_01H",variable:"APCP",latitude:40.7128,longitude:-74.006,startDate:"2024-01-01T00:00:00Z",endDate:"2024-01-01T01:00:00Z",format:"json",exampleRequest:"Extract 1-hour precipitation accumulation for New York City"}},"grid-data":{paramFormat:{dataset:"String - Dataset identifier",product:"String - MRMS product name",variable:"String - Variable name",bbox:"Array - Bounding box [west, south, east, north]",startDate:"String - Start date in ISO format",endDate:"String - End date in ISO format",format:"String - Output format"},infoSource:"https://mrms.ncep.noaa.gov/",example:{dataset:"mrms-radar",product:"MergedReflectivityQCComposite",variable:"REFC",bbox:[-75,40,-73,42],startDate:"2024-01-01T12:00:00Z",endDate:"2024-01-01T12:02:00Z",format:"netcdf",exampleRequest:"Extract composite reflectivity for New York region"}},"timeseries-data":{paramFormat:{dataset:"String - Dataset identifier",product:"String - MRMS product name",variable:"String - Variable name",latitude:"Number - Latitude coordinate",longitude:"Number - Longitude coordinate",startDate:"String - Start date in ISO format",endDate:"String - End date in ISO format",format:"String - Output format"},infoSource:"https://mrms.ncep.noaa.gov/",example:{dataset:"mrms-qpe",product:"GaugeCorr_QPE_01H",variable:"APCP",latitude:40.7128,longitude:-74.006,startDate:"2024-01-01T00:00:00Z",endDate:"2024-01-02T00:00:00Z",format:"csv",exampleRequest:"Extract hourly precipitation time series for New York City"}},"dataset-info":{paramFormat:{dataset:"String - Dataset identifier",info:"String - Information type ('variables', 'spatial', 'temporal', 'metadata', 'products')"},infoSource:"https://mrms.ncep.noaa.gov/",example:{dataset:"mrms-radar",info:"products",exampleRequest:"Get list of available radar products"}},"available-products":{paramFormat:{dataset:"String - Dataset identifier",date:"String - Date in YYYY-MM-DD format"},infoSource:"https://mrms.ncep.noaa.gov/",example:{dataset:"mrms-qpe",date:"2024-01-01",exampleRequest:"List available QPE products for January 1, 2024"}}}}},341:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE_https_cdn_skypack_dev_pako_4fe3d734__},356:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(732);let o=null,n=!1;function i(){return n&&null!==o}async function s(e){if(o.GeoTIFF)try{return{type:"geotiff",data:await o.GeoTIFF.fromArrayBuffer(e)}}catch(e){console.warn("GeoTIFF buffer parsing failed:",e.message)}if(o.Tiff)try{return{type:"tiff",data:new o.Tiff({buffer:e})}}catch(e){console.warn("Tiff.js buffer parsing failed:",e.message)}throw new Error("No TIFF parser could handle the buffer")}const l={load:async function(e={}){const{includeProj4:t=!0,includeGeoTIFF:a=!0,includeTurf:i=!0,includeGeolib:s=!0}=e;if(n)return o;try{console.log("Loading geospatial libraries...");let e=[];if(t){const t=r.so({params:{src:"https://cdn.jsdelivr.net/npm/proj4@2.9.0/dist/proj4.min.js",name:"proj4"}});e.push(t)}if(a){const t=r.so({params:{src:"https://cdn.jsdelivr.net/npm/geotiff@2.0.7/dist-browser/geotiff.js",name:"geotiff"}});e.push(t);const a=r.so({params:{src:"https://cdn.jsdelivr.net/npm/tiff@5.0.3/dist/tiff.min.js",name:"tiff"}});e.push(a);const o=r.so({params:{src:"https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js",name:"pako"}});e.push(o)}if(i){const t=r.so({params:{src:"https://cdn.jsdelivr.net/npm/@turf/turf@6.5.0/turf.min.js",name:"turf"}});e.push(t)}if(s){const t=r.so({params:{src:"https://cdn.jsdelivr.net/npm/geolib@3.3.3/lib/index.min.js",name:"geolib"}});e.push(t)}await Promise.all(e.map(e=>new Promise(t=>{e.onload=t,e.onerror=()=>t()})));const l="undefined"!=typeof window?window:globalThis;return o={proj4:l.proj4||null,GeoTIFF:l.GeoTIFF||null,Tiff:l.Tiff||null,pako:l.pako||null,turf:l.turf||null,geolib:l.geolib||null,loadedAt:new Date},n=!0,console.log("Geospatial libraries loaded successfully"),o}catch(e){throw console.error("Failed to load geospatial libraries:",e),new Error(`Geospatial library loading failed: ${e.message}`)}},isLoaded:i,getInfo:function(){return{name:"Geospatial",description:"Geospatial data processing and coordinate systems",features:["Coordinate transformations","GeoTIFF support","Generic TIFF support (fallback)","Gzip decompression","Geospatial operations","Distance calculations","Geometry processing"],dependencies:["proj4 (Coordinate transformations)","geotiff (GeoTIFF support)","tiff (Generic TIFF support)","pako (Gzip decompression)","turf (Geospatial operations)","geolib (Geospatial utilities)"]}},transformCoordinates:function(e,t,a){if(!i()||!o.proj4)throw new Error("Geospatial libraries not loaded");try{return o.proj4(t,a,e)}catch(e){throw new Error(`Coordinate transformation failed: ${e.message}`)}},calculateDistance:function(e,t,a="meters"){if(!i()||!o.geolib)throw new Error("Geospatial libraries not loaded");try{return o.geolib.getDistance(e,t,a)}catch(e){throw new Error(`Distance calculation failed: ${e.message}`)}},loadGeoTIFF:async function(e){if(!i())throw new Error("Geospatial libraries not loaded");try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const a=await t.arrayBuffer(),r=new Uint8Array(a),n=Array.from(r.slice(0,16)).map(e=>e.toString(16).padStart(2,"0")).join(" ");if(console.log("File signature (first 16 bytes):",n),n.startsWith("49 49")||n.startsWith("4d 4d"))console.log("File appears to be a standard TIFF");else{if(n.startsWith("47 52 49 42"))throw console.log("File appears to be a GRIB file (not TIFF)"),new Error("File is actually a GRIB file, not TIFF");if(n.startsWith("1f 8b")){console.log("File is still gzipped, decompressing manually...");try{console.log("Attempting manual gzip decompression...");const e=globalThis.pako||"undefined"!=typeof window&&window.pako;if(e){const t=e.ungzip(new Uint8Array(a));return console.log(`Decompressed from ${a.byteLength} to ${t.length} bytes`),s(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength))}throw new Error("Pako library not available for decompression")}catch(e){console.warn("Manual decompression failed:",e.message);try{return console.log("Trying built-in decompression..."),s(await async function(e){if("undefined"!=typeof DecompressionStream){const t=new Response(e).body.pipeThrough(new DecompressionStream("gzip"));return new Response(t).arrayBuffer()}if(void 0!==globalThis.pako)return globalThis.pako.ungzip(e);if("undefined"!=typeof window&&window.pako)return window.pako.ungzip(e);throw new Error("No gzip decompression available")}(a))}catch(e){console.warn("Built-in decompression also failed:",e.message)}}}else console.log("Unknown file signature, might be a proprietary format"),console.log("Full signature:",n)}if(o.GeoTIFF)try{return{type:"geotiff",data:await o.GeoTIFF.fromArrayBuffer(a)}}catch(e){console.warn("GeoTIFF parsing failed:",e.message)}if(o.Tiff)try{return{type:"tiff",data:new o.Tiff({buffer:a})}}catch(e){console.warn("Tiff.js parsing failed:",e.message)}const i=globalThis.pako||"undefined"!=typeof window&&window.pako;if(i)try{console.log("Trying pako decompression...");const e=i.ungzip(a);return await s(e)}catch(e){console.warn("Pako decompression failed:",e.message)}throw new Error("No TIFF parser could handle the file")}catch(e){throw new Error(`Failed to load TIFF file: ${e.message}`)}},loadGeoTIFFFromBuffer:s,geospatialOperation:function(e,...t){if(!i()||!o.turf)throw new Error("Geospatial libraries not loaded");try{if("function"==typeof o.turf[e])return o.turf[e](...t);throw new Error(`Unknown geospatial operation: ${e}`)}catch(e){throw new Error(`Geospatial operation failed: ${e.message}`)}}}},431:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE_https_esm_sh_proj4_e6b7dd70__},526:(e,t,a)=>{async function r(e,t={}){const a=globalThis.hydro?.cache,r=globalThis._originalFetch||globalThis.fetch;if(!a)return r(e,t);const o=globalThis._hydroCacheContext||{},n=function(e,t){const a=e.source||"unknown",r=e.dataType||"data";if(e.cacheId){if(t.includes(".zarr/")){const o=t.match(/\.zarr\/(.*)$/);if(o&&o[1])return`${a}/${r}/${e.cacheId}-${o[1].replace(/\//g,"-")}`}return`${a}/${r}/${e.cacheId}`}const o=t;let n=0;for(let e=0;e<o.length;e++)n=(n<<5)-n+o.charCodeAt(e),n&=n;return`${a}/${r}/${Math.abs(n).toString(36).substring(0,4)}`}(o,e);if(!1!==o.cache)try{const e=await a.get(n);if(e){console.log(`✓ Cache hit [${n}]`);const t=e.metadata?.format;return"json"===t||"xml"===t?new Response(new Blob([e.data],{type:e.metadata.contentType}),{status:e.metadata.responseStatus||200,headers:{"content-type":e.metadata.contentType}}):e.data}}catch(e){console.warn("Cache read failed:",e.message)}else console.log(`Cache disabled for this request: ${e}`);let i,s;console.log(`Fetching from server: ${e}`);const l=e.includes(".zarr/")&&/\d+\.\d+\.\d+$/.test(e.split(".zarr/")[1]),d=e.includes(".zarray")||e.includes(".zattrs")||e.includes(".zgroup"),c=e.includes("service=WFS")||e.includes("service=WMS")||e.includes("/ows?")||e.includes("/wfs?")||e.includes("outputFormat=application/json")||e.includes("outputFormat=json"),u=e.match(/\.(grib2|grb2|nc|hdf|hdf5)(\?|$)/i)&&(e.includes("nomads.ncep.noaa.gov")||e.includes("amazonaws.com")),m=o.params?.chunked,p=!c&&!l&&!d&&(!0===m||!1!==m&&(o.useChunkedDownload||o.expectedSize&&o.expectedSize>104857600||u));if(!0===t.proxy||!0===t.params?.proxy||!0===o.params?.proxy||e.includes("ncep.noaa.gov")||e.includes("nomads.ncep.noaa.gov")||e.includes("amazonaws.com")||e.includes("nasa.gov"))console.log("Skipping direct fetch for CORS-restricted URL, using proxies");else try{p?(console.log("Using chunked download"),i=await a.downloadChunked(e,{...t,source:o.source||"unknown",expectedSize:o.expectedSize,params:o.params})):i=await globalThis._originalFetch(e,t),i&&i.ok||(i=null)}catch(e){s=e,console.warn("Direct fetch failed, trying proxies:",e.message),i=null}if(!i&&globalThis.hydro?.proxies){const r=globalThis.hydro.proxies;if(r["local-proxy"]?.endpoint){const n=Array.isArray(r["local-proxy"].endpoint)?r["local-proxy"].endpoint:[r["local-proxy"].endpoint];for(const r of n)try{const n=r+e;i=p?await a.downloadChunked(n,{...t,source:o.source||"unknown",expectedSize:e.includes("noaa.gov")?104857600:o.expectedSize,params:{...o.params,source:o.source||"unknown",originalUrl:e,skipSizeDetection:e.includes("noaa.gov")}}):await globalThis._originalFetch(n,t);break}catch(e){s=e}}if(!i&&r.researchverse)try{const n=r.researchverse.endpoint+e;i=p?await a.downloadChunked(n,{...t,source:o.source||"unknown",expectedSize:e.includes("noaa.gov")?104857600:o.expectedSize,params:{...o.params,source:o.source||"unknown",originalUrl:e,skipSizeDetection:e.includes("noaa.gov")}}):await globalThis._originalFetch(n,t),console.log("CORS proxy succeeded")}catch(e){s=e}}if(!i)throw new Error(`All fetch attempts failed: ${s?.message}`);const h=i.headers.get("content-type")||"",f=function(e,t){if(t.includes("application/json")||e.includes("outputFormat=application/json"))return"json";if(t.includes("application/xml")||t.includes("text/xml"))return"xml";if(t.includes("application/x-grib"))return"grib2";if(t.includes("application/x-netcdf"))return"netcdf";const a=e.split("?")[0].toLowerCase();if(a.endsWith(".nc"))return"netcdf";if(a.endsWith(".grib2")||a.endsWith(".grb"))return"grib2";if(a.endsWith(".h5")||a.endsWith(".hdf5"))return"hdf5";if(a.endsWith(".tif")||a.endsWith(".tiff"))return"geotiff";if(a.endsWith(".zip"))return"archive";if(e.includes(".zarr/")){const t=e.split(".zarr/")[1];return t&&/^\d+\.\d+\.\d+$/.test(t.split("/")[0])?"zarr-chunk":"zarr"}return"unknown"}(e,h),g="json"===f||"xml"===f;if(!p&&!1!==o.cache)try{const t=await i.clone().arrayBuffer(),r="zarr-chunk"===f,s=!r&&t.byteLength>5242880,l={source:o.source||"unknown",dataset:o.dataset||o.source||"unknown",dataType:o.dataType||"data",format:f,contentType:h,digestible:g,filename:e.split("/").pop()||"data",size:t.byteLength,responseStatus:i.status,responseOk:i.ok,params:o.params||{},isChunkData:r,originalUrl:e};s?await a.putChunked(n,t,{...l,chunked:!0}):await a.put(n,t,l),console.log(`✓ Cached [${n}]: ${f} (${(t.byteLength/1024).toFixed(0)}KB)`)}catch(e){console.warn("Caching failed:",e.message)}return g?i:await i.arrayBuffer()}a.d(t,{cachedFetch:()=>r}),new class{constructor(){this.dbName="HydroLang_DataCache",this.version=1,this.db=null,this.maxCacheSize=107374182400,this.maxFileSize=10737418240,this.maxAge=7776e6,this.cleanupInterval=36e5,this.lastCleanup=0}async init(){if(!this.db)return new Promise((e,t)=>{const a=indexedDB.open(this.dbName,this.version);a.onerror=()=>t(a.error),a.onsuccess=()=>{this.db=a.result,console.log("HydroLang cache initialized"),e()},a.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains("files")){const e=t.createObjectStore("files",{keyPath:"cacheKey"});e.createIndex("url","url",{unique:!1}),e.createIndex("source","source",{unique:!1}),e.createIndex("dataset","dataset",{unique:!1}),e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("size","size",{unique:!1}),e.createIndex("format","format",{unique:!1}),e.createIndex("source_dataset",["source","dataset"],{unique:!1}),e.createIndex("lastAccessed","lastAccessed",{unique:!1})}}})}generateCacheKey(e,t={}){const a=t.source||"unknown",r=t.datatype||"data";if(!e||"string"!=typeof e)return console.warn("generateCacheKey called with invalid URL:",e),`${a}-${r}-invalid-url`;let o=e;if(o.includes("/cors/")||o.includes("/simple-proxy/")){const e=o.match(/\/(?:cors|simple-proxy)\/(https?:\/\/.*)$/);e&&(o=e[1])}let n=0;for(let e=0;e<o.length;e++)n=(n<<5)-n+o.charCodeAt(e),n&=n;return`${a}-${r}-${Math.abs(n)}`}generateChunkKey(e,t){return`${e}-chunk-${t}`}async checkPartialDownload(e,t={}){this.db||await this.init();const a=this.generateCacheKey(e,t.params||{}),r=`${a}-manifest`;try{const e=await new Promise((e,t)=>{const a=this.db.transaction(["files"],"readonly").objectStore("files").get(r);a.onsuccess=()=>e(a.result),a.onerror=()=>t(a.error)});if(!e)return null;const t=JSON.parse((new TextDecoder).decode(e.data)),o=[];for(let e=0;e<t.totalChunks;e++){const a=t.chunks[e];try{await new Promise((e,t)=>{const r=this.db.transaction(["files"],"readonly").objectStore("files").get(a);r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)})&&o.push(e)}catch(e){}}return console.log(`Found partial download: ${o.length}/${t.totalChunks} chunks`),{manifest:t,downloadedChunks:o,baseKey:a,manifestKey:r}}catch(e){return null}}async resumeChunkedDownload(e,t={},a=104857600){const{manifest:r,downloadedChunks:o,baseKey:n}=e,{url:i,totalChunks:s,totalSize:l}=r;console.log(`Resuming download: ${o.length}/${s} chunks already downloaded`);const d=[],c=new Set(o);for(let e=0;e<s;e++)if(c.has(e))try{const t=await new Promise((t,a)=>{const o=this.db.transaction(["files"],"readonly").objectStore("files").get(r.chunks[e]);o.onsuccess=()=>t(o.result),o.onerror=()=>a(o.error)});d.push(t.data),console.log(`Using cached chunk ${e+1}/${s}`)}catch(t){throw console.error(`Failed to retrieve cached chunk ${e}:`,t),t}else{const o=e*a,c=Math.min(o+a-1,l-1);try{console.log(`Downloading missing chunk ${e+1}/${s} (bytes ${o}-${c})`);const a=await globalThis._originalFetch(i,{...t,headers:{...t.headers,Range:`bytes=${o}-${c}`}});if(!a.ok)throw new Error(`Range request failed: ${a.status} ${a.statusText}`);const l=await a.arrayBuffer(),u=r.chunks[e];await this.put(u,l,{source:t.source||"unknown",dataset:t.dataset||"unknown",format:"chunk",isChunk:!0,chunkIndex:e,totalChunks:s,chunkStart:o,chunkEnd:c,baseKey:n,originalUrl:i,isChunkData:!0}),console.log(`Downloaded and cached chunk ${e+1}/${s} (${(l.byteLength/1024/1024).toFixed(1)}MB)`),d.push(l)}catch(t){throw console.error(`Failed to download chunk ${e}:`,t),t}}const u=new Uint8Array(l);let m=0;for(const e of d)u.set(new Uint8Array(e),m),m+=e.byteLength;console.log(`Resumed download complete: ${(l/1024/1024).toFixed(1)}MB in ${s} chunks`);const p=t.params?.originalUrl||i,h=this.generateCacheKey(p,{source:t.source||"unknown",datatype:t.dataset||"data"});return await this.put(h,u.buffer,{source:t.source||"unknown",dataset:t.dataset||"unknown",dataType:t.datatype||"data",format:"netcdf",assembledFromChunks:!0,chunkManifest:manifestKey,originalUrl:p,totalSize:l,params:t.params}),{ok:!0,status:200,statusText:"OK",headers:new Headers({"content-type":"application/octet-stream","content-length":l.toString()}),arrayBuffer:async()=>u.buffer,text:async()=>(new TextDecoder).decode(u),json:async()=>JSON.parse((new TextDecoder).decode(u)),blob:async()=>new Blob([u.buffer])}}async downloadChunked(e,t={},a=104857600){this.db||await this.init();const r=await this.checkPartialDownload(e,t);if(r)return console.log("Resuming partial download"),this.resumeChunkedDownload(r,t,a);const o=e.includes("s3.")||e.includes("amazonaws.com")||e.includes("amazon.com");let n=null,i=null;if(!e.includes("noaa.gov")&&!t.params?.skipSizeDetection)try{const a=await globalThis._originalFetch(e,{method:"HEAD",...t});a.ok&&(n=a.headers.get("accept-ranges"),i=parseInt(a.headers.get("content-length")),i&&console.log(`File size detected: ${(i/1024/1024).toFixed(1)}MB via HEAD`))}catch(e){console.warn("HEAD request failed:",e.message)}if(i||!e.includes("noaa.gov")&&!t.params?.skipSizeDetection){if(!i&&(o||context.expectedSize>10485760)&&!e.includes("noaa.gov")&&!t.params?.skipSizeDetection)try{console.log("Trying range request to detect file size...");const a=await globalThis._originalFetch(e,{...t,headers:{...t.headers,Range:"bytes=0-0"}});if(a.ok&&206===a.status){const e=a.headers.get("content-range");if(e){const t=e.match(/\/(\d+)$/);t&&(i=parseInt(t[1]),n="bytes",console.log(`File size detected: ${(i/1024/1024).toFixed(1)}MB via range request`))}}}catch(e){console.warn("Range request failed:",e.message)}}else n="bytes";if(!i&&o)n="bytes";else if(!i&&!e.includes("noaa.gov")&&!t.params?.skipSizeDetection)return console.warn("Could not determine content length, falling back to full download"),globalThis._originalFetch(e,t);if(i&&i<=a)return globalThis._originalFetch(e,t);const s=this.generateCacheKey(e,t.params||{});let l=i?Math.ceil(i/a):null,d=i;const c=[];let u=0,m=0;for(;;){const r=u*a;let o;o=i?Math.min(r+a-1,i-1):r+a-1;try{const n=i?`chunk ${u+1}/${l} (bytes ${r}-${o})`:`chunk ${u+1} (bytes ${r}-${o})`;console.log(`Downloading ${n}`);const p=await globalThis._originalFetch(e,{...t,headers:{...t.headers,Range:`bytes=${r}-${o}`}});if(!p.ok){if(416===p.status){console.log(`Reached end of file at chunk ${u}`);break}throw new Error(`Range request failed: ${p.status} ${p.statusText}`)}const h=await p.arrayBuffer();if(!i){const e=p.headers.get("content-range");if(e){const t=e.match(/\/(\d+)$/);t&&(d=parseInt(t[1]),l=Math.ceil(d/a))}}const f=this.generateChunkKey(s,u);if(await this.put(f,h,{cacheKey:f,source:t.source||"unknown",dataset:t.dataset||"unknown",format:"chunk",isChunk:!0,chunkIndex:u,totalChunks:l||null,chunkStart:r,chunkEnd:r+h.byteLength-1,baseKey:s,originalUrl:e,isChunkData:!0}),c.push(h),m+=h.byteLength,h.byteLength<a)break;if(u++,u>1e3){console.warn("Too many chunks downloaded, stopping to prevent infinite loop");break}}catch(e){throw console.error(`Failed to download chunk ${u}:`,e),e}}const p=d||m,h=new Uint8Array(p);let f=0;for(const e of c)h.set(new Uint8Array(e),f),f+=e.byteLength;const g=t.params?.originalUrl||e,y=this.generateCacheKey(g,{source:t.source||"unknown",datatype:t.dataset||"data"});return await this.put(y,h.buffer,{source:t.source||"unknown",dataset:t.dataset||"unknown",dataType:t.datatype||"data",format:"netcdf",assembledFromChunks:!0,totalSize:p,originalUrl:g,params:t.params}),{ok:!0,status:200,statusText:"OK",headers:new Headers({"content-type":"application/octet-stream","content-length":p.toString()}),arrayBuffer:async()=>h.buffer,text:async()=>(new TextDecoder).decode(h),json:async()=>JSON.parse((new TextDecoder).decode(h))}}async reassembleChunks(e){return this.db||await this.init(),new Promise((t,a)=>{const r=this.db.transaction(["files"],"readonly").objectStore("files"),o=[],n=r.openCursor();n.onsuccess=a=>{const r=a.target.result;if(r){const t=r.value;t.baseKey===e&&t.isChunk&&o.push({index:t.chunkIndex,data:t.data,size:t.data.byteLength}),r.continue()}else{if(0===o.length)return void t(null);o.sort((e,t)=>e.index-t.index);const a=o.reduce((e,t)=>e+t.size,0),r=new Uint8Array(a);let n=0;for(const e of o)r.set(new Uint8Array(e.data),n),n+=e.size;t({data:r.buffer,metadata:{reassembled:!0,totalSize:a,chunkCount:o.length,baseKey:e}})}},n.onerror=()=>a(n.error)})}async get(e){this.db||await this.init();const t=await new Promise((t,a)=>{const r=this.db.transaction(["files"],"readonly"),o=r.objectStore("files").get(e);o.onsuccess=()=>{const a=o.result;a&&!a.isChunk?Date.now()-a.timestamp>this.maxAge?(this.delete(e),t(null)):t({data:a.data,metadata:a}):t(null)},r.onerror=()=>a(r.error)});if(t)return t;return await this.reassembleChunks(e)||null}async put(e,t,a){if(this.db||await this.init(),t.byteLength>this.maxFileSize)return void console.warn(`File too large (${(t.byteLength/1024/1024).toFixed(1)}MB), skipping cache`);const r={cacheKey:e,url:a.originalUrl||a.url||e,data:t,dataType:a.dataType,timestamp:Date.now(),lastAccessed:Date.now(),...a};return await this.cleanupIfNeeded(),new Promise((a,o)=>{const n=this.db.transaction(["files"],"readwrite");n.objectStore("files").put(r),n.oncomplete=()=>{console.log(`Cached: ${e} (${(t.byteLength/1024/1024).toFixed(1)}MB)`),a(e)},n.onerror=()=>o(n.error)})}async putChunked(e,t,a,r=104857600){this.db||await this.init();const o=t.byteLength,n=Math.ceil(o/r),i=e;console.log(`Storing large file as ${n} chunks: ${e}`);for(let e=0;e<n;e++){const s=e*r,l=Math.min(s+r,o),d=t.slice(s,l),c=this.generateChunkKey(i,e);await this.put(c,d,{...a,cacheKey:c,format:"chunk",isChunk:!0,chunkIndex:e,totalChunks:n,chunkStart:s,chunkEnd:l-1,baseKey:i,isChunkData:!0})}return i}async updateLastAccessed(e){return this.db||await this.init(),new Promise((t,a)=>{const r=this.db.transaction(["metadata"],"readwrite").objectStore("metadata"),o=r.get(e);o.onsuccess=()=>{if(o.result){const e=o.result;e.lastAccessed=Date.now(),r.put(e)}t()},o.onerror=()=>a(o.error)})}async cleanupIfNeeded(){this.db||await this.init();const e=Date.now();if(!(e-this.lastCleanup<this.cleanupInterval)){this.lastCleanup=e,console.log("Running cache cleanup...");try{const t=await this.getStats(),a=[];for(const r of t.entries)e-r.timestamp>this.maxAge&&a.push(r.cacheKey);for(const e of a)await this.delete(e);if(t.totalSize>this.maxCacheSize){const e=await this.getStats(),t=e.entries.sort((e,t)=>e.lastAccessed-t.lastAccessed);let a=e.totalSize-this.maxCacheSize;for(const e of t){if(a<=0)break;await this.delete(e.cacheKey),a-=e.size}}console.log("Cache cleanup complete")}catch(e){console.warn("Cache cleanup failed:",e)}}}async delete(e){return this.db||await this.init(),new Promise((t,a)=>{const r=this.db.transaction(["files"],"readwrite");r.objectStore("files").delete(e),r.oncomplete=()=>t(),r.onerror=()=>a(r.error)})}async getStats(){return this.db||await this.init(),new Promise((e,t)=>{const a=this.db.transaction(["files"],"readonly").objectStore("files").getAll();a.onsuccess=()=>{const t=a.result,r=t.reduce((e,t)=>e+(t.data?.byteLength||0),0);e({totalFiles:t.length,totalSize:r,totalSizeMB:(r/1024/1024).toFixed(1),totalSizeGB:(r/1024/1024/1024).toFixed(2),entries:t.map(e=>({cacheKey:e.cacheKey,filename:e.url?.split("/").pop()||"unknown",source:e.source,dataset:e.dataset,format:e.format,size:e.data?.byteLength||0,sizeMB:((e.data?.byteLength||0)/1024/1024).toFixed(1),timestamp:new Date(e.timestamp).toISOString(),lastAccessed:new Date(e.lastAccessed).toISOString(),age:Math.floor((Date.now()-e.timestamp)/864e5)}))})},a.onerror=()=>t(a.error)})}async clear(){return this.db||await this.init(),new Promise((e,t)=>{const a=this.db.transaction(["files"],"readwrite");a.objectStore("files").clear(),a.oncomplete=()=>{console.log("Cleared all cached data"),e()},a.onerror=()=>t(a.error)})}async list(e={}){return this.db||await this.init(),new Promise((t,a)=>{const r=this.db.transaction(["files"],"readonly").objectStore("files").getAll();r.onsuccess=()=>{let a=r.result;e.source&&(a=a.filter(t=>t.source===e.source)),e.dataType&&(a=a.filter(t=>t.dataType===e.dataType)),e.includeVariables||(a=a.filter(e=>!e.cacheKey.startsWith("var_")));const o=a.map(e=>({cacheKey:e.cacheKey,source:e.source,dataType:e.dataType,format:e.format,size:e.size,sizeFormatted:this.formatBytes(e.size),timestamp:e.timestamp,lastAccessed:e.lastAccessed,age:Date.now()-e.timestamp,ageFormatted:this.formatAge(Date.now()-e.timestamp),url:e.url}));o.sort((e,t)=>t.lastAccessed-e.lastAccessed),t(o)},r.onerror=()=>a(r.error)})}async getBySource(e){return this.db||await this.init(),new Promise((t,a)=>{const r=this.db.transaction(["files"],"readonly").objectStore("files").getAll();r.onsuccess=()=>{const a=r.result.filter(t=>t.source===e);t(a)},r.onerror=()=>a(r.error)})}formatBytes(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]}formatAge(e){const t=Math.floor(e/1e3),a=Math.floor(t/60),r=Math.floor(a/60),o=Math.floor(r/24);return o>0?`${o} day${o>1?"s":""} ago`:r>0?`${r} hour${r>1?"s":""} ago`:a>0?`${a} minute${a>1?"s":""} ago`:`${t} second${t>1?"s":""} ago`}async storeVariable(e,t,a={}){this.db||await this.init();const r=`var_${e}`;return new Promise((o,n)=>{const i=this.db.transaction(["files"],"readwrite"),s=i.objectStore("files");let l;if(t instanceof ArrayBuffer)l=t;else if("string"==typeof t)l=(new TextEncoder).encode(t).buffer;else{const e=JSON.stringify(t);l=(new TextEncoder).encode(e).buffer}s.put({cacheKey:r,data:l,url:`variable://${e}`,source:"runtime",dataset:"variables",format:a.format||"json",digestible:!0,filename:e,size:l.byteLength,timestamp:Date.now(),lastAccessed:Date.now(),variableKey:e,variableType:typeof t,...a}),i.oncomplete=()=>{console.log(`Stored runtime variable: ${e} (${l.byteLength} bytes)`),o()},i.onerror=()=>n(i.error)})}async getVariable(e){this.db||await this.init();const t=`var_${e}`;return new Promise((e,a)=>{const r=this.db.transaction(["files"],"readonly"),o=r.objectStore("files").get(t);o.onsuccess=()=>{const a=o.result;if(a){let r;this.updateLastAccessed(t).catch(console.warn);const o=new Uint8Array(a.data);if("string"===a.variableType)r=(new TextDecoder).decode(o);else if("json"===a.format||"object"===a.variableType){const e=(new TextDecoder).decode(o);try{r=JSON.parse(e)}catch(t){r=e}}else r=a.data;e({key:a.variableKey,value:r,metadata:a,timestamp:a.timestamp,lastAccessed:a.lastAccessed})}else e(null)},r.onerror=()=>a(r.error)})}async deleteVariable(e){const t=`var_${e}`;return await this.delete(t)}async listVariables(){return this.db||await this.init(),new Promise((e,t)=>{const a=this.db.transaction(["files"],"readonly").objectStore("files").getAll();a.onsuccess=()=>{const t=a.result.filter(e=>"runtime"===e.source&&"variables"===e.dataset).map(e=>({key:e.variableKey,type:e.variableType,format:e.format,size:e.data?.byteLength||0,timestamp:e.timestamp,lastAccessed:e.lastAccessed}));e(t)},a.onerror=()=>t(a.error)})}async saveDataset(e,t,a={}){const r={data:t,savedAt:(new Date).toISOString(),...a};return await this.storeVariable(`dataset_${e}`,r,{format:"dataset",datasetKey:e})}async loadDataset(e){const t=await this.getVariable(`dataset_${e}`);return t?t.value:null}async listDatasets(){return(await this.listVariables()).filter(e=>e.key.startsWith("dataset_")).map(e=>({...e,datasetKey:e.key.replace("dataset_","")}))}async deleteDataset(e){return await this.deleteVariable(`dataset_${e}`)}async saveRetrievedData(e,t,a,r={}){const o={source:a,params:r,retrievedAt:(new Date).toISOString(),autoSaved:!0};return await this.saveDataset(e,t,o)}async cacheRawFile(e,t,a={}){try{const r=t instanceof ArrayBuffer?t:await t;let o="unknown";e.includes(".nc")||e.includes("netcdf")?o="netcdf":e.includes(".grb")||e.includes(".grib")?o="grib2":e.includes(".json")&&(o="json");const n=this.generateCacheKey(e,{source:a.source||"manual",datatype:a.dataset||"raw-file"});return await this.put(n,r,{source:a.source||"manual",dataset:a.dataset||"raw-file",dataType:a.dataType||"raw-file",format:o,digestible:"json"===o,filename:e.split("/").pop()||"data",size:r.byteLength,manuallyCached:!0,originalUrl:e,...a}),console.log(`Manually cached ${r.byteLength} bytes for: ${e}`),!0}catch(e){return console.error("Failed to manually cache file:",e),!1}}}},625:(e,t,a)=>{a.d(t,{TO:()=>b,k4:()=>u,AV:()=>d,nR:()=>m,G_:()=>p,vq:()=>c,Yw:()=>h,og:()=>w}),a(886);class r{constructor(e){this.sourceName=e.sourceName,this.libraryType=e.libraryType,this.defaultFormat=e.defaultFormat||e.libraryType,this.datasourceConfig=e.datasourceConfig,this.variables=e.variables,this.library=null}async fetch(e,t={}){console.log(`[${this.sourceName}] Fetching: ${e}`),globalThis._hydroCacheContext=globalThis._hydroCacheContext||{},globalThis._hydroCacheContext.source=this.sourceName,globalThis._hydroCacheContext.params=t.params||{},globalThis._hydroCacheContext.cacheId=t.cacheId||t.params?.cacheId;let a=e;if(t.proxy||t.params&&t.params.proxy){const r={"local-proxy":"https://hydroinformatics.uiowa.edu/lab/cors/?url=",researchverse:"https://researchverse.ai/backend/api/simple-proxy/?url=",corsproxy:"https://corsproxy.io/?"},o=r[!0===t.proxy||!0===t.params.proxy?"local-proxy":t.proxy||t.params.proxy]||r["local-proxy"];a=o.includes("?url=")?`${o}${encodeURIComponent(e)}`:`${o}${e}`,console.log(`[${this.sourceName}] Using proxy: ${a}`)}try{const r=await fetch(a,{method:"GET",headers:{Accept:t.accept||"application/octet-stream, application/json, */*",...t.headers}});if(r instanceof ArrayBuffer||"undefined"!=typeof Buffer&&r instanceof Buffer)return console.log(`[${this.sourceName}] Successfully fetched ${(r.byteLength/1024/1024).toFixed(1)} MB (cached)`),r;if(!r.ok){if(404===r.status)throw new Error(`${this.sourceName.toUpperCase()} file not found: ${e}. The requested data may not be available.`);if(403===r.status)throw new Error(`Access denied to ${this.sourceName.toUpperCase()} file: ${e}.`);if(429===r.status)throw new Error(`Rate limited by ${this.sourceName.toUpperCase()} server: ${e}. Please wait before retrying.`);throw new Error(`HTTP ${r.status}: ${r.statusText}`)}const o=await r.arrayBuffer();return console.log(`[${this.sourceName}] Successfully fetched ${(o.byteLength/1024/1024).toFixed(1)} MB`),o}catch(t){throw console.error(`[${this.sourceName}] Fetch failed:`,t.message),this.handleError(t,{context:"fetch",url:e})}}async fetchJSON(e,t={}){return this.fetch(e,{...t,accept:"application/json"}).then(e=>{const t=new TextDecoder("utf-8");return JSON.parse(t.decode(e))})}applyScaling(e,t){return null==e||void 0!==t.fillValue&&e===t.fillValue||void 0!==t.missingValue&&e===t.missingValue?null:e*(t.scaleFactor||1)+(t.addOffset||0)}async decompress(e,t=null,a={}){if(!0!==a.process)return console.log(`[${this.sourceName}] Skipping decompression (raw mode default)`),e;const r=new Uint8Array(e),o=r.length>=2&&31===r[0]&&139===r[1];if(!o&&!t)return r;if(console.log(`[${this.sourceName}] Decompressing data (${(e.byteLength/1024/1024).toFixed(1)} MB)...`),o){let t="undefined"!=typeof window&&window.pako;if(!t){if("undefined"!=typeof document){const e=await l("geospatial");t=e?.pako}t=t||globalThis.pako||"undefined"!=typeof window&&window.pako}if(t&&"function"==typeof t.ungzip)try{const e=t.ungzip(r);return console.log(`[${this.sourceName}] Decompressed with Pako: ${(e.length/1024/1024).toFixed(1)} MB`),e}catch(e){console.warn(`[${this.sourceName}] Pako decompression failed:`,e.message)}if("undefined"!=typeof DecompressionStream)try{const t=new Response(e).body.pipeThrough(new DecompressionStream("gzip")),a=await new Response(t).arrayBuffer();return console.log(`[${this.sourceName}] Decompressed with browser API: ${(a.byteLength/1024/1024).toFixed(1)} MB`),new Uint8Array(a)}catch(e){console.warn(`[${this.sourceName}] Browser decompression failed:`,e.message)}}if(this.library){const e=this.library.fzstd||globalThis.fzstd;if(e&&"function"==typeof e.decompress)try{const t=e.decompress(r);return console.log(`[${this.sourceName}] Decompressed with fzstd`),t}catch(e){console.warn(`[${this.sourceName}] fzstd decompression failed:`,e.message)}if("function"==typeof globalThis.decompress)try{const e=globalThis.decompress(r);return console.log(`[${this.sourceName}] Decompressed with blosc`),e}catch(e){console.warn(`[${this.sourceName}] blosc decompression failed:`,e.message)}}throw new Error(`${this.sourceName.toUpperCase()} decompression failed: No compatible decompression method available`)}async loadLibrary(){return this.library||(this.library=await l(this.libraryType)),this.library||("geospatial"===this.libraryType?(this.library={},void 0!==globalThis.GeoTIFF&&(this.library.GeoTIFF=globalThis.GeoTIFF),void 0!==globalThis.Tiff&&(this.library.Tiff=globalThis.Tiff),void 0!==globalThis.JSZip&&(this.library.JSZip=globalThis.JSZip)):"netcdf"===this.libraryType?(this.library={},void 0!==globalThis.netcdfjs&&(this.library.NetCDFReader=globalThis.netcdfjs)):this.libraryType),this.library}findNearestIndex(e,t){if(e.resolution){const{min:a,max:r,resolution:o}=e,n=Math.round((t-a)/o);return Math.max(0,Math.min(n,Math.floor((r-a)/o)))}if(Array.isArray(e))return e.reduce((a,r,o)=>Math.abs(r-t)<Math.abs(e[a]-t)?o:a,0);throw new Error("Invalid coordinate system format")}async extractTimeSeries(e,t,a,r,o,n={}){console.log(`[${this.sourceName}] Extracting ${e} time series at (${t}, ${a})`);const i=[];let s=new Date(r);const l=n.timeIncrement||36e5;for(;s<=o;){try{const r=await this.extractPointData(e,t,a,s,n);i.push({timestamp:s.toISOString(),value:r.value,...n.includeMetadata&&{metadata:r.metadata}})}catch(e){console.warn(`[${this.sourceName}] Failed to get data for ${s.toISOString()}: ${e.message}`),i.push({timestamp:s.toISOString(),value:null,error:e.message})}s="function"==typeof l?l(s):new Date(s.getTime()+l)}return{variable:e,location:{latitude:t,longitude:a},timeRange:{start:r.toISOString(),end:o.toISOString()},data:i,metadata:{source:this.sourceName.toUpperCase(),temporalResolution:n.temporalResolution||"variable",count:i.length,validCount:i.filter(e=>null!==e.value).length}}}toCSV(e,t={}){const a=!1!==t.includeLocation,r=!1!==t.includeMetadata;let o="timestamp,value,variable";r&&(o+=",units"),a&&(o+=",latitude,longitude"),o+="\n";let n=o;return(Array.isArray(e.data)?e.data:[e]).forEach(t=>{let o=`${t.timestamp||e.timestamp||""},${null!==t.value&&void 0!==t.value?Number(t.value).toFixed(6):""},${e.variable||t.variable||""}`;r&&(o+=`,${e.metadata?.units||t.metadata?.units||""}`),a&&(o+=`,${e.location?.latitude||t.location?.latitude||""},${e.location?.longitude||t.location?.longitude||""}`),n+=o+"\n"}),n}toNetCDF(e,t={}){const a=e.variable,r=this.variables?.[a]||{};return{type:"netcdf",dimensions:{time:e.data?.length||0,latitude:e.location?1:e.data?.coordinates?.latitude?.length||0,longitude:e.location?1:e.data?.coordinates?.longitude?.length||0},variables:{[a]:{dimensions:["time","latitude","longitude"],data:e.data,attributes:{units:r.units||e.metadata?.units||"",long_name:r.longName||r.description||a,scale_factor:r.scaleFactor||1,add_offset:r.addOffset||0,source:this.sourceName.toUpperCase()}}},globalAttributes:{title:`${this.sourceName.toUpperCase()} ${a} data`,institution:t.institution||"HydroLang",source:`${this.sourceName.toUpperCase()} Dataset`,history:`Generated on ${(new Date).toISOString()}`,dataSource:this.sourceName}}}validateCoordinates(e,t,a=null){const r=a||this.datasourceConfig?.spatial;if(!r)return!0;const o=r.latitude?.min||-90,n=r.latitude?.max||90,i=r.longitude?.min||-180,s=r.longitude?.max||180;if(e<o||e>n)throw new Error(`Latitude ${e} is outside ${this.sourceName.toUpperCase()} domain [${o}, ${n}]`);if(t<i||t>s)throw new Error(`Longitude ${t} is outside ${this.sourceName.toUpperCase()} domain [${i}, ${s}]`);return!0}validateBbox(e,t=null){const[a,r,o,n]=e;if(a>=o)throw new Error("Invalid bbox: west must be less than east");if(r>=n)throw new Error("Invalid bbox: south must be less than north");const i=t||this.datasourceConfig?.spatial;if(i){const e=i.latitude?.min||-90,t=i.latitude?.max||90,s=i.longitude?.min||-180,l=i.longitude?.max||180;(a<s||o>l||r<e||n>t)&&console.warn(`[${this.sourceName}] Requested bbox partially outside domain, clipping may occur`)}return!0}validateDateRange(e,t,a=null){const r=new Date(e),o=new Date(t);if(isNaN(r.getTime())||isNaN(o.getTime()))throw new Error("Invalid date format");if(r>o)throw new Error("Start date must be before end date");const n=a||this.datasourceConfig?.temporal;if(n){const a=new Date(n.start),i=new Date(n.end);if(r<a||o>i)throw new Error(`Requested date range (${e} to ${t}) is outside ${this.sourceName.toUpperCase()} dataset range (${n.start} to ${n.end})`)}return!0}handleError(e,t={}){const a=e.message||"Unknown error",r=t.context?`[${t.context}]`:"";return console.error(`[${this.sourceName}] ${r} Error:`,a),new Error(`${this.sourceName.toUpperCase()} ${t.context||"operation"} failed: ${a}`)}async extractMultiplePoints(e,t,a,r={}){console.log(`[${this.sourceName}] Extracting ${e} for ${t.length} points`);const o=[];for(const n of t){const{latitude:t,longitude:i,id:s}=n;try{const n=await this.extractPointData(e,t,i,a,r);o.push({id:s||`${t},${i}`,latitude:t,longitude:i,value:n.value,timestamp:a.toISOString(),...r.includeMetadata&&{metadata:n.metadata}})}catch(e){console.warn(`[${this.sourceName}] Failed to extract point ${t}, ${i}:`,e.message),o.push({id:s||`${t},${i}`,latitude:t,longitude:i,value:null,timestamp:a.toISOString(),error:e.message})}}return{variable:e,timestamp:a.toISOString(),points:o,metadata:{source:this.sourceName.toUpperCase(),count:o.length,validCount:o.filter(e=>null!==e.value).length}}}async extractGridTimeSeries(e,t,a,r,o={}){console.log(`[${this.sourceName}] Extracting ${e} grid time series`);const n=[];let i=new Date(a);const s=o.timeIncrement||36e5;for(;i<=r;){try{const a=await this.extractGridData(e,t,i,o);n.push({timestamp:i.toISOString(),grid:a})}catch(e){console.warn(`[${this.sourceName}] Failed to get grid for ${i.toISOString()}:`,e.message),n.push({timestamp:i.toISOString(),grid:null,error:e.message})}i="function"==typeof s?s(i):new Date(i.getTime()+s)}return{variable:e,bbox:t,timeRange:{start:a.toISOString(),end:r.toISOString()},data:n,metadata:{source:this.sourceName.toUpperCase(),count:n.length,validCount:n.filter(e=>null!==e.grid).length}}}aggregateTemporally(e,t="mean"){if(!e||0===e.length)return null;const a=e.filter(e=>null!=e&&!isNaN(e));if(0===a.length)return null;switch(t.toLowerCase()){case"mean":case"average":return a.reduce((e,t)=>e+t,0)/a.length;case"sum":case"total":return a.reduce((e,t)=>e+t,0);case"min":case"minimum":return Math.min(...a);case"max":case"maximum":return Math.max(...a);case"median":const e=[...a].sort((e,t)=>e-t),r=Math.floor(e.length/2);return e.length%2==0?(e[r-1]+e[r])/2:e[r];default:return console.warn(`Unknown aggregation type: ${t}, using mean`),a.reduce((e,t)=>e+t,0)/a.length}}aggregateSpatially(e,t="mean"){const a=Array.isArray(e[0])?e.flat():e;return this.aggregateTemporally(a,t)}formatTimestamp(e,t="iso"){const a=new Date(e);switch(t){case"iso":return a.toISOString();case"yyyymmdd":return`${a.getUTCFullYear()}${String(a.getUTCMonth()+1).padStart(2,"0")}${String(a.getUTCDate()).padStart(2,"0")}`;case"yyyymmddhh":const e=String(a.getUTCHours()).padStart(2,"0");return`${this.formatTimestamp(a,"yyyymmdd")}${e}`;case"yyyy-mm-dd":return`${a.getUTCFullYear()}-${String(a.getUTCMonth()+1).padStart(2,"0")}-${String(a.getUTCDate()).padStart(2,"0")}`;case"yyyy/mm/dd":return this.formatTimestamp(a,"yyyy-mm-dd").replace(/-/g,"/");default:return"function"==typeof t?t(a):a.toISOString()}}buildURL(e,t={}){let a=e;for(const[e,r]of Object.entries(t)){const t=`{${e}}`;a.includes(t)&&(a=a.replace(new RegExp(t,"g"),r))}return a}async extractPointData(e,t,a,r,o={}){throw new Error(`extractPointData not implemented for ${this.sourceName}`)}async extractGridData(e,t,a,r={}){throw new Error(`extractGridData not implemented for ${this.sourceName}`)}}class o extends r{constructor(e){super({...e,libraryType:"zarr"})}async getZarrValue(e,t,a){const r=await e.get(t);return this.applyScaling(r,a)}async getZarrSlice(e,t,a){const r=await e.get(t);return Array.isArray(r)?r.map(e=>Array.isArray(e)?e.map(e=>this.applyScaling(e,a)):this.applyScaling(e,a)):this.applyScaling(r,a)}async openZarrArray(e,t={}){if(await this.loadLibrary(),!this.library||!this.library.zarr)throw new Error("Zarrita library not available");try{const a=new this.library.zarr.FetchStore(e);return await this.library.zarr.open(a,{kind:"array",...t})}catch(t){throw new Error(`Failed to open Zarr array at ${e}: ${t.message}`)}}async getZarrArrayData(e){if(await this.loadLibrary(),!this.library||!this.library.zarr)throw new Error("Zarrita library not available");return await this.library.zarr.get(e)}async getZarrChunk(e,t){return await e.getChunk(t)}async getZarrRegion(e,t){if(await this.loadLibrary(),!this.library||!this.library.zarr)throw new Error("Zarrita library not available");return await this.library.zarr.get(e,t)}}class n extends r{constructor(e){super({...e,libraryType:"grib2"})}async parseGRIB2(e,t={}){await this.loadLibrary();const a=this.library?.parseGRIB2||this.library?.GRIB2Parser||globalThis.GRIB2Parser;if(!a)throw new Error("GRIB2 parser not available");console.log(`[${this.sourceName}] Parsing GRIB2 data...`);let r=e;(e instanceof Uint8Array||"undefined"!=typeof Buffer&&e instanceof Buffer)&&(0===e.byteOffset&&e.byteLength===e.buffer.byteLength?r=e.buffer:(r=e.slice(0).buffer,r instanceof Uint8Array&&(r=r.buffer))),r&&r.buffer instanceof ArrayBuffer&&!(r instanceof ArrayBuffer)&&(r=r.buffer);const o="undefined"!=typeof window&&window.pako||globalThis.pako;let n=await a(r,{pako:o});if(n&&!Array.isArray(n)&&n.messages&&Array.isArray(n.messages)&&(n=n.messages),console.log(`[${this.sourceName}] Found ${n?.length} GRIB2 messages`),!n||!Array.isArray(n))throw new Error("GRIB2 parser returned invalid data format (expected array of messages)");return n}findGRIB2Message(e,t,a={}){const r=this.variables?.[t]||{},o=r.gribName||r.name||t;for(const t of e){const e=t.data||t,a=e.discipline||e.parameterName||e.shortName;if(console.log(`[findGRIB2Message] Checking message: shortName=${e.shortName}, parameterName=${e.parameterName}, gribName=${o}`),a===o||e.parameterName===o||e.shortName===o)return t}for(const t of e)if(JSON.stringify(t).toLowerCase().includes(o.toLowerCase()))return console.warn(`[${this.sourceName}] Using partial match for ${o}`),t;throw new Error(`Variable ${t} (${o}) not found in GRIB2 file`)}getGRIB2ValueAtPoint(e,t,a){const r=e.data||e,o=r.values||r.data;if(r.grid?(console.log(`[getGRIB2ValueAtPoint] Grid info: template=${r.grid.template}, latStart=${r.grid.latStart}, latEnd=${r.grid.latEnd}, incI=${r.grid.incI}, incJ=${r.grid.incJ}`),console.log(`[getGRIB2ValueAtPoint] Latitudes array present: ${!(!r.grid.latitudes||!r.grid.latitudes.length)}`)):console.log("[getGRIB2ValueAtPoint] msgData.grid is undefined"),r.grid&&0===r.grid.template&&void 0!==r.grid.latStart){const e=r.grid,n=t;let i,s=a;s<0&&(s+=360),i=e.latStart>e.latEnd?Math.round((e.latStart-n)/e.incJ):Math.round((n-e.latStart)/e.incJ);let l=Math.round((s-e.lonStart)/e.incI);if(console.log(`[getGRIB2ValueAtPoint] Calculated indices: latIdx=${i}, lonIdx=${l} for lat=${n}, lon=${s}`),i>=0&&i<e.numLatPoints&&l>=0&&l<e.numLongPoints){const t=i*e.numLongPoints+l;if(console.log(`[getGRIB2ValueAtPoint] Linear index: ${t}, Grid data length: ${o?o.length:"undefined"}`),t>=0&&t<o.length)return o[t]}else console.warn(`[getGRIB2ValueAtPoint] Indices out of bounds: latIdx=${i}/${e.numLatPoints}, lonIdx=${l}/${e.numLongPoints}`)}else console.log(`[getGRIB2ValueAtPoint] Optimization skipped. Conditions: grid=${!!r.grid}, template=${r.grid?.template}, latStart=${void 0!==r.grid?.latStart}`);const n=r.latitudes||r.grid?.latitudes,i=r.longitudes||r.grid?.longitudes;if(!o||!n||!i)throw new Error("GRIB2 message missing required grid data (latitudes/longitudes arrays)");let s=1/0,l=0;for(let e=0;e<n.length;e++){const r=Math.sqrt(Math.pow(n[e]-t,2)+Math.pow(i[e]-a,2));r<s&&(s=r,l=e)}return o[l]}getGRIB2Grid(e,t){const[a,r,o,n]=t,i=e.data||e.values,s=e.latitudes||e.grid?.latitudes,l=e.longitudes||e.grid?.longitudes;if(!i||!s||!l)throw new Error("GRIB2 message missing required grid data");const d=[],c=[],u=[];for(let e=0;e<s.length;e++){const t=s[e],m=l[e];t>=r&&t<=n&&m>=a&&m<=o&&(d.push(i[e]),c.push(t),u.push(m))}return{data:d,latitudes:c,longitudes:u,count:d.length}}}class i extends r{constructor(e){super({...e,libraryType:"netcdf"})}async openNetCDF(e,t={}){let a;await this.loadLibrary(),a="string"==typeof e?await this.fetch(e,t):e,console.log(`[${this.sourceName}] Parsing NetCDF data...`);const r=this.library?.NetCDFReader||this.library||globalThis.netcdfjs||globalThis.NetCDFReader;if(!r)throw new Error("NetCDF parser not available");const o=new r(a);return console.log(`[${this.sourceName}] NetCDF variables: ${o.variables?.map(e=>e.name).join(", ")}`),o}getNetCDFVariable(e,t){const a=e.getDataVariable(t);if(!a){const a=e.variables?.map(e=>e.name).join(", ")||"none";throw new Error(`Variable ${t} not found. Available: ${a}`)}return a}getNetCDFValue(e,t,a,r){const o=e.getDataVariable(t);if(!o)throw new Error(`Variable ${t} not found in NetCDF`);let n;if("function"==typeof o.get)n=o.get(a);else{if(!Array.isArray(o))throw new Error("Unsupported NetCDF data structure");n=a.reduce((e,t)=>e[t],o)}return this.applyScaling(n,r)}getNetCDFSlice(e,t,a,r){return this.getNetCDFVariable(e,t).readSlice(a).map(e=>Array.isArray(e)?e.map(e=>this.applyScaling(e,r)):this.applyScaling(e,r))}}class s extends r{constructor(e){super({...e,libraryType:"geospatial"})}async parseGeoTIFF(e,t={}){await this.loadLibrary();const a=this.library?.GeoTIFF||globalThis.GeoTIFF;if(!a||!a.fromArrayBuffer)throw new Error("GeoTIFF library not available");console.log(`[${this.sourceName}] Parsing GeoTIFF...`);const r=await a.fromArrayBuffer(e),o=await r.getImage(),n=o.getWidth(),i=o.getHeight(),s=o.getBoundingBox();return console.log(`[${this.sourceName}] GeoTIFF: ${n}x${i}, bbox:`,s),{tiff:r,image:o}}async getGeoTIFFValueAtPoint(e,t,a,r){const o=e.getBoundingBox(),n=e.getWidth(),i=e.getHeight(),s=Math.floor((a-o[0])/(o[2]-o[0])*n),l=Math.floor((o[3]-t)/(o[3]-o[1])*i);if(s<0||s>=n||l<0||l>=i)throw new Error(`Point (${t}, ${a}) is outside GeoTIFF bounds`);const d=[s,l,s+1,l+1],c=(await e.readRasters({window:d}))[0][0];return this.applyScaling(c,r)}async getGeoTIFFGrid(e,t,a){const[r,o,n,i]=t,s=e.getBoundingBox(),l=e.getWidth(),d=e.getHeight(),c=Math.max(0,Math.floor((r-s[0])/(s[2]-s[0])*l)),u=Math.max(0,Math.floor((s[3]-i)/(s[3]-s[1])*d)),m=Math.min(l,Math.ceil((n-s[0])/(s[2]-s[0])*l)),p=Math.min(d,Math.ceil((s[3]-o)/(s[3]-s[1])*d)),h=[c,u,m,p],f=await e.readRasters({window:h});return{data:Array.from(f[0]).map(e=>this.applyScaling(e,a)),width:m-c,height:p-u,bbox:t}}async extractFromZip(e,t=null){const a=this.library?.JSZip||globalThis.JSZip;if(!a)throw new Error("JSZip library not available");console.log(`[${this.sourceName}] Extracting ZIP file...`);const r=await a.loadAsync(e),o=Object.keys(r.files);console.log(`[${this.sourceName}] ZIP contains ${o.length} files`);let n=null;if(t){const e="string"==typeof t?new RegExp(t):t;n=o.find(t=>e.test(t))}else n=o.find(e=>e.endsWith(".tif")||e.endsWith(".bil"));if(!n)throw new Error(`No matching file found in ZIP. Files: ${o.join(", ")}`);return console.log(`[${this.sourceName}] Extracting: ${n}`),{fileName:n,data:await r.files[n].async("arraybuffer"),allFiles:o}}}async function l(e){try{const t="undefined"==typeof document?{includeJS:!1,includeGeo:!1,includeProj4:!1,includeGeoTIFF:!1,includeTurf:!1,includeGeolib:!1}:{},{loadLibrary:r}=await Promise.resolve().then(a.bind(a,886));return await r({params:{format:e,options:t}})}catch(t){throw new Error(`Failed to load ${e} library: ${t.message}`)}}function d(e,t,a,r){const o=a[r];if(!o||!o.variables)return e;const n=o.variables[t];if(!n||!n.scaleFactor)return e;const{scaleFactor:i,fillValue:s}=n;return Array.isArray(e.data)&&(e.data=e.data.map(e=>e===s||null==e?null:e*i)),e.metadata=e.metadata||{},e.metadata.appliedScaling=!0,e.metadata.scaleFactor=i,e.metadata.source=r,e}function c(e,t,a,r,o){const n=o[r];if(!n||!n.variables)return e;const i=n.variables[t];if(!i)return e;const s=i.units;return s===a||(e.metadata=e.metadata||{},e.metadata.unitConversion={from:s,to:a,applied:!0,source:r}),e}function u(e,t){const{method:a,interval:r}=t;return e.metadata=e.metadata||{},e.metadata.temporalAggregation={method:a,interval:r,applied:!0},e}function m(e,t){const{filters:a}=t;return e.metadata=e.metadata||{},e.metadata.qualityControl={filters:a,applied:!0},e}function p(e,t){const{metrics:a}=t;if(Array.isArray(e.data)){const t=e.data.filter(e=>null!=e),r={};if(a.includes("mean")&&(r.mean=t.reduce((e,t)=>e+t,0)/t.length),a.includes("min")&&(r.min=Math.min(...t)),a.includes("max")&&(r.max=Math.max(...t)),a.includes("std")){const e=r.mean||t.reduce((e,t)=>e+t,0)/t.length;r.std=Math.sqrt(t.reduce((t,a)=>t+Math.pow(a-e,2),0)/t.length)}e.statistics=r}return e}function h(e,t,a,r){const{type:o}=t;switch(o){case"CSV":return function(e,t,a){a[t];let r="timestamp,value,variable,units\n";return Array.isArray(e.data)?e.data.forEach((t,a)=>{const o=e.timeRange?.start?new Date(new Date(e.timeRange.start).getTime()+36e5*a).toISOString():`record_${a}`,n=function(e,t){return null==e||e===t?.fillValue?"":(e*(t?.scaleFactor||1)).toFixed(6)}(t,e.metadata);r+=`${o},${n},${e.variable},${e.metadata?.units||""}\n`}):e.variable&&Array.isArray(e.data)&&e.data.forEach((t,a)=>{const o=e.timeRange?.start?new Date(new Date(e.timeRange.start).getTime()+36e5*a).toISOString():`record_${a}`;r+=`${o},${t},${e.variable},${e.metadata?.units||""}\n`}),r}(e,a,r);case"NetCDF":return function(e,t,a){window.hydro?.external?.griddedData?.isLoaded({format:"netcdf"})||console.warn('NetCDF library not loaded. Use await window.hydro.external.griddedData.loadLibrary({ format: "netcdf" }) first.');const r=a[t],o=r?.variables?.[e.variable];return{type:"netcdf",dimensions:{time:e.data?e.data.length:0,latitude:e.location?1:0,longitude:e.location?1:0},variables:{[e.variable]:{dimensions:["time","latitude","longitude"],data:e.data,attributes:{units:e.metadata?.units||"",long_name:o?.longName||e.variable,scale_factor:e.metadata?.scaleFactor||1,source:t}}},globalAttributes:{title:`${t.toUpperCase()} ${e.variable} data`,institution:r?.info?.About?.split(" ")[0]||"Unknown",source:`${t} Dataset`,history:`Generated on ${(new Date).toISOString()}`,dataSource:t}}}(e,a,r);case"JSON":default:return e;case"ARRAY":return function(e){return Array.isArray(e.data)?e.data:[e]}(e)}}a(526);var f=a(658);a(903);var g=a(91);const y=2048;const b={aorc:{library:"zarr",DataSourceClass:class extends o{constructor(e){super({sourceName:"aorc",libraryType:"zarr",datasourceConfig:e,variables:null}),this.datasetConfig=e,this.aorcDatasource=null}async loadDatasource(){if(!this.aorcDatasource){const{default:e}=await Promise.resolve().then(a.bind(a,879));this.aorcDatasource=e,this.variables=e.variables}return this.aorcDatasource}async fetchMetadata(e,t){const r=`${this.datasetConfig.baseUrl}/${e}.zarr/${t}/.zarray`;console.log(`[aorc] Fetching metadata from: ${r}`);const{cachedFetch:o}=await Promise.resolve().then(a.bind(a,526));globalThis._hydroCacheContext={source:"aorc",dataset:this.datasetConfig.name||"aorc-v1.1",dataType:"metadata"};const n=await o(r,{params:{source:"aorc",dataset:this.datasetConfig.name||"aorc-v1.1",proxy:this.datasetConfig.proxy}});return await n.json()}async extractPointData(e,t,r,o,n={}){if(await this.loadDatasource(),Array.isArray(e)){console.log(`[aorc] Extracting multiple variables: ${e.join(", ")}`);const a={};return await Promise.all(e.map(async e=>{try{a[e]=await this.extractPointData(e,t,r,o,n)}catch(t){console.error(`[aorc] Failed to extract ${e}:`,t),a[e]={error:t.message}}})),a}this.validateCoordinates(t,r);const i=this.variables[e];if(!i)throw new Error(`Unknown AORC variable: ${e}`);const s=n.startDate||o,l=n.endDate||o;this.validateDateRange(s,l);const d=new Date(s).getUTCFullYear(),c=this.calculateIndices(t,r,s,l,{chunks:[144,128,256]}),{timeChunkSize:u,latChunkSize:m,lonChunkSize:p}=c.chunkSizes,{chunkStartTime:h,chunkEndTime:f,chunkLatIndex:g,chunkLonIndex:y}=c.withinChunk,b=f-h+1,w=[],v=`${d}.zarr/${e}/${c.chunks.timeChunkIndex}.${c.chunks.latChunkIndex}.${c.chunks.lonChunkIndex}`,S=`${this.datasetConfig.baseUrl}/${v}`;console.log(`[aorc] Fetching/downloading chunk: ${v}`);const{cachedFetch:x}=await Promise.resolve().then(a.bind(a,526));globalThis._hydroCacheContext={source:"aorc",dataset:this.datasetConfig.name||"aorc-v1.1",params:{source:"aorc",dataset:this.datasetConfig.name||"aorc-v1.1"}};const _=await x(S,{params:{source:"aorc",dataset:this.datasetConfig.name||"aorc-v1.1",proxy:n.proxy||n.params?.proxy,process:n.process}});if(!(_&&_ instanceof ArrayBuffer))throw new Error("[aorc] Invalid chunk buffer received: expected ArrayBuffer, got "+typeof _);if(console.log(`[aorc] Compressed data size: ${_.byteLength} bytes`),!0!==n.process)return console.log("[aorc] Returning raw chunk buffer (raw default)"),_;console.log("[aorc] First 20 bytes:",new Uint8Array(_.slice(0,20)));const D=new Uint8Array(_.slice(0,4)),T=254===D[0]&&237===D[1]&&250===D[2]&&206===D[3],M=120===D[0]&&(1===D[1]||156===D[1]||218===D[1]),I=40===D[0]&&181===D[1]&&47===D[2]&&253===D[3];let C;console.log(`[aorc] Data compression check - Blosc: ${T}, Zlib: ${M}, Zstd: ${I}`);try{if(T&&(globalThis.numcodecs&&globalThis.numcodecs.Blosc?(C=globalThis.numcodecs.Blosc.decode(_),console.log(`[aorc] Decompressed with numcodecs.Blosc: ${C.length} bytes`)):this.library&&this.library.Blosc&&(C=this.library.Blosc.decode(_),console.log(`[aorc] Decompressed with library.Blosc: ${C.length} bytes`))),!C&&I){const e=globalThis.fzstd||this.library&&this.library.fzstd;e?(C=e.decompress(new Uint8Array(_)),console.log(`[aorc] Decompressed with fzstd: ${C.length} bytes`)):console.warn("[aorc] Zstd detected but fzstd library not available")}if(!C&&M&&(globalThis.pako?(C=globalThis.pako.inflate(_),console.log(`[aorc] Decompressed with pako.inflate: ${C.length} bytes`)):globalThis.fflate&&(C=globalThis.fflate.decompressSync(new Uint8Array(_)),console.log(`[aorc] Decompressed with fflate: ${C.length} bytes`))),!C&&this.library&&this.library.decompress&&(C=await this.library.decompress(_),console.log(`[aorc] Decompressed with zarr library: ${C.length} bytes`)),C||"function"!=typeof globalThis.decompress||(C=globalThis.decompress(_),console.log(`[aorc] Decompressed with global function: ${C.length} bytes`)),!C){const e=u*m*p*2;if(_.byteLength!==e)throw new Error(`Could not decompress data. Size mismatch: expected ${e}, got ${_.byteLength}. IsBlosc: ${T}, IsZlib: ${M}`);console.log("[aorc] Data appears to be uncompressed, using as-is"),C=_}C instanceof ArrayBuffer?C=new Uint8Array(C):C instanceof Uint8Array||(C=new Uint8Array(C))}catch(e){throw console.error("[aorc] Decompression failed:",e.message),e}const F=new DataView(C.buffer,C.byteOffset,C.byteLength),E=[],k=u*m*p;if(C.length!==2*k&&(console.warn(`[aorc] Unexpected decompressed buffer size: ${C.length}, expected: ${2*k}`),C.length<2*k))throw new Error(`Decompressed data too small: ${C.length} bytes, expected ${2*k} bytes`);for(let e=0;e<Math.min(k,C.length/2);e++){const t=F.getInt16(2*e,!0);E.push(t)}console.log(`[aorc] Retrieved and decompressed chunk data, length: ${E.length}, expected: ${k}`);for(let e=0;e<b;e++){const t=h+e,a=t*(m*p)+g*p+y;if(a>=E.length){console.warn(`[aorc] Flat index ${a} out of bounds (${E.length})`),w.push(null);continue}const r=E[a];console.log(`[aorc] t=${e}, timeIndex=${t}, flatIndex=${a}, rawValue=${r}`);const o=this.applyScaling(r,i);w.push(o)}return console.log(`[aorc] Extracted ${w.length} time steps for ${e}`),{variable:e,location:{latitude:t,longitude:r},timeRange:{start:s,end:l},data:w,metadata:{units:i.units,source:"AORC",year:d,spatialIndices:c.spatial,timeIndices:c.time,chunkInfo:c.chunks}}}calculateIndices(e,t,a,r,o){const n=this.findNearestIndex(this.datasetConfig.spatial.latitude,e),i=this.findNearestIndex(this.datasetConfig.spatial.longitude,t),s=new Date(a),l=s.getUTCFullYear(),d=new Date(`${l}-01-01T00:00:00Z`),c=Math.floor((s.getTime()-d.getTime())/36e5),u=new Date(r),m=Math.floor((u.getTime()-d.getTime())/36e5),[p,h,f]=o.chunks;return{year:l,spatial:{latIndex:n,lonIndex:i},time:{startTimeIndex:c,endTimeIndex:m},chunks:{timeChunkIndex:Math.floor(c/p),latChunkIndex:Math.floor(n/h),lonChunkIndex:Math.floor(i/f)},chunkSizes:{timeChunkSize:p,latChunkSize:h,lonChunkSize:f},withinChunk:{chunkStartTime:c%p,chunkEndTime:Math.min(m%p,p-1),chunkLatIndex:n%h,chunkLonIndex:i%f}}}async fetchAndDecompressChunk(e,t){const{cachedFetch:r}=await Promise.resolve().then(a.bind(a,526));globalThis._hydroCacheContext=t;const o=await r(e,{params:t.params});if(!(o&&o instanceof ArrayBuffer))throw new Error("[aorc] Invalid chunk buffer received");if(!t.params||!0!==t.params.process)return console.log("[aorc] Skipping decompression (raw mode default)"),o;const n=new Uint8Array(o.slice(0,4)),i=254===n[0]&&237===n[1]&&250===n[2]&&206===n[3],s=120===n[0]&&(1===n[1]||156===n[1]||218===n[1]),l=40===n[0]&&181===n[1]&&47===n[2]&&253===n[3];let d;if(i&&(globalThis.numcodecs&&globalThis.numcodecs.Blosc?d=globalThis.numcodecs.Blosc.decode(o):this.library&&this.library.Blosc&&(d=this.library.Blosc.decode(o))),!d&&l){const e=globalThis.fzstd||this.library&&this.library.fzstd;e&&(d=e.decompress(new Uint8Array(o)))}if(!d&&s&&(globalThis.pako?d=globalThis.pako.inflate(o):globalThis.fflate&&(d=globalThis.fflate.decompressSync(new Uint8Array(o)))),!d)throw new Error("Failed to decompress AORC chunk");return d}async extractGridData(e,t,a,r={}){if(await this.loadDatasource(),Array.isArray(e)){const o={};return await Promise.all(e.map(async e=>{try{o[e]=await this.extractGridData(e,t,a,r)}catch(t){console.error(`[aorc] Failed to extract grid for ${e}:`,t),o[e]={error:t.message}}})),o}if(!t||4!==t.length)throw new Error("Invalid bounding box. Expected [minLon, minLat, maxLon, maxLat]");const[o,n,i,s]=t,l=this.variables[e];if(!l)throw new Error(`Unknown AORC variable: ${e}`);const{latitude:d,longitude:c}=this.datasetConfig.spatial,u=Math.round((n-d.min)/d.resolution),m=Math.round((s-d.min)/d.resolution),p=Math.floor((d.max-d.min)/d.resolution),h=Math.max(0,Math.min(u,m)),f=Math.min(p,Math.max(u,m))+1,g=Math.round((o-c.min)/c.resolution),y=Math.round((i-c.min)/c.resolution),b=Math.floor((c.max-c.min)/c.resolution),w=Math.max(0,Math.min(g,y)),v=Math.min(b,Math.max(g,y))+1,S=new Date(a),x=S.getUTCFullYear(),_=new Date(`${x}-01-01T00:00:00Z`),D=Math.floor((S.getTime()-_.getTime())/36e5),T=l.chunks?l.chunks[0]:144,M=l.chunks?l.chunks[1]:128,I=l.chunks?l.chunks[2]:256,C=Math.floor(h/M),F=Math.floor((f-1)/M),E=Math.floor(w/I),k=Math.floor((v-1)/I),R=f-h,N=v-w,A=new Float32Array(R*N);console.log(`[AORC] Extracting grid: ${N}x${R} from chunks [${C}-${F}, ${E}-${k}]`);for(let t=C;t<=F;t++)for(let a=E;a<=k;a++){const o=`${x}.zarr/${e}/${Math.floor(D/T)}.${t}.${a}`,n=`${this.datasetConfig.baseUrl}/${o}`;try{const e=await this.fetchAndDecompressChunk(n,{source:"aorc",dataset:this.datasetConfig.name||"aorc-v1.1",params:{source:"aorc",dataset:"aorc-v1.1",proxy:r.proxy||r.params?.proxy,process:r.process}});if(!0!==r.process){A.rawChunks||(A.rawChunks=[]),A.rawChunks.push({urls:o,buffer:e});continue}const i=new Int16Array(e.buffer,e.byteOffset,e.byteLength/2),s=t*M,d=a*I,c=Math.max(h,s),u=Math.min(f,s+M),m=Math.max(w,d),p=Math.min(v,d+I);for(let e=c;e<u;e++)for(let t=m;t<p;t++){const a=D%T*M*I+(e-s)*I+(t-d);if(a<0||a>=i.length){console.warn(`[AORC] Calculated chunk index ${a} out of bounds for chunk ${o}. Skipping.`);continue}const r=(e-h)*N+(t-w),n=i[a];A[r]=this.applyScaling(n,l)}}catch(e){console.error(`[AORC] Failed to process chunk ${o}:`,e)}}const P=[];for(let e=h;e<f;e++)P.push(d.min+e*d.resolution);const j=[];for(let e=w;e<v;e++)j.push(c.min+e*c.resolution);const G=[];for(let e=0;e<R;e++)G.push(Array.from(A.slice(e*N,(e+1)*N)));return{variable:e,timestamp:S.toISOString(),bbox:t,dimensions:[P.length,j.length],data:G,latitudes:P,longitudes:j,units:l.units}}async getDatasetInfo(e){const t=e.info||e.infoType||"metadata";switch(await this.loadDatasource(),t){case"variables":return{variables:this.variables,count:Object.keys(this.variables).length};case"spatial":return this.datasetConfig.spatial;case"temporal":return this.datasetConfig.temporal;default:return{...this.datasetConfig,variables:this.variables}}}},methods:{"point-data":"extractPointData","grid-data":"extractGridData","timeseries-data":"extractTimeSeries","dataset-info":"getDatasetInfo"}},mrms:{library:"grib2",DataSourceClass:class extends n{constructor(e){super({sourceName:"mrms",libraryType:"grib2",datasourceConfig:e,variables:null}),this.datasetConfig=e,this.mrmsDatasource=null}async loadDatasource(){if(!this.mrmsDatasource){const{default:e}=await Promise.resolve().then(a.bind(a,299));this.mrmsDatasource=e,this.variables=e.variables}return this.mrmsDatasource}async findProductForVariable(e){await this.loadDatasource();const t=this.variables[e];if(!t)throw new Error(`Unknown MRMS variable: ${e}`);if(t.product)return t.product;for(const[t,a]of Object.entries(this.datasetConfig.products||{}))if(a.variables&&a.variables.includes(e))return t;throw new Error(`No MRMS product found for variable: ${e}`)}inferVariableFromProduct(e){return e?e.includes("Reflectivity")?"REF":e.includes("PrecipRate")?"PrecipRate":e.includes("QPE")||e.includes("QPF")||e.includes("PCPN")?"APCP":e.includes("VIL")?"VIL":e.includes("EchoTop")?"ETOP":e.includes("RQI")?"RQI":e.includes("PrecipFlag")?"PFLAG":e:null}async generateURL(e,t){return await this.loadDatasource(),this.mrmsDatasource.generateURL(e,t,this.datasetConfig.name||"mrms-radar")}async fetch(e,t={}){try{return await super.fetch(e,t)}catch(e){if(e.message.includes("404")){const a=t.params?.timestamp,r=(new Date).getUTCFullYear(),o=a?.getUTCFullYear?.();let n=e.message;throw o&&o!==r&&(n+=` MRMS provides real-time operational data. Historical data (${o}) may not be available via HTTP.`),n+=" Try using current/recent dates. MRMS typically keeps ~24-48 hours of recent data.",n+=" Available recent data: https://mrms.ncep.noaa.gov/3DRefl/MergedReflectivityQC_00.50/",new Error(n)}throw e}}async processFile(e,t,a,r={}){const o=await this.fetch(e,{params:{timestamp:a,...r.params},...r}),n=await this.decompress(o,null,r);if(!0!==r.process)return n;const i=new Uint8Array(n.buffer||n,0,Math.min(32,n.byteLength||n.length)),s=Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join(" ");return s.startsWith("47 52 49 42")?console.log("[mrms] Valid GRIB2 file detected"):console.warn(`[mrms] Unknown file signature: ${s.substring(0,24)}`),await this.parseGRIB2(n)}async extractPointData(e,t,a,r,o={}){if(await this.loadDatasource(),this.validateCoordinates(t,a),!e&&o.product&&(e=this.inferVariableFromProduct(o.product),console.log(`[mrms] Inferred variable ${e} from product ${o.product}`)),!e)throw new Error("Variable is required for MRMS point data extraction");let n=this.variables[e];if(!n){const t=Object.keys(this.variables).find(t=>this.variables[t].gribName===e||this.variables[t].products?.includes(e));t&&(e=t,n=this.variables[e],console.log(`[mrms] Resolved variable alias: ${o.variable} -> ${e}`))}if(!n)throw new Error(`Unknown MRMS variable: ${e}`);const i=o.product||await this.findProductForVariable(e);if(!this.datasetConfig.products[i])throw new Error(`Product ${i} not found in dataset ${this.datasetConfig.name||"mrms-radar"}`);const s=await this.generateURL(i,r);console.log(`[mrms] Fetching ${i} for ${e} at ${r.toISOString()}`);const l=await this.processFile(s,e,r,{...o,product:i}),d=this.findGRIB2Message(l,e),c=this.getGRIB2ValueAtPoint(d,t,a);return{value:this.applyScaling(c,n),rawValue:c,units:n.units||"unknown",variable:e,product:i,timestamp:r.toISOString(),location:{latitude:t,longitude:a},metadata:{source:"MRMS",product:i,levelType:n.levelType,description:n.description}}}async extractGridData(e,t,a,r={}){await this.loadDatasource(),this.validateBbox(t);const o=this.variables[e];if(!o)throw new Error(`Unknown MRMS variable: ${e}`);const n=r.product||await this.findProductForVariable(e),i=await this.generateURL(n,a);console.log(`[mrms] Fetching grid ${n} for ${e}`);const s=await this.processFile(i,e,a,{...r,product:n}),l=this.findGRIB2Message(s,e),d=this.getGRIB2Grid(l,t);return!0!==r.process?d.data:{data:d.data.map(e=>this.applyScaling(e,o)),latitudes:d.latitudes,longitudes:d.longitudes,bbox:t,count:d.count,variable:e,product:n,timestamp:a.toISOString(),metadata:{source:"MRMS",product:n,units:o.units,description:o.description}}}async getDatasetInfo(e){const t=e.info||e.infoType||"metadata";switch(t){case"variables":return await this.loadDatasource(),{variables:this.variables,count:Object.keys(this.variables).length};case"spatial":return this.datasetConfig.spatial;case"temporal":return this.datasetConfig.temporal;case"products":return{products:this.datasetConfig.products,count:Object.keys(this.datasetConfig.products).length};case"metadata":return await this.loadDatasource(),{...this.datasetConfig,variables:this.variables};default:throw new Error(`Unknown MRMS info type: ${t}`)}}},methods:{"point-data":"extractPointData","grid-data":"extractGridData","timeseries-data":"extractTimeSeries","dataset-info":"getDatasetInfo","available-products":"getAvailableProducts"}},hrrr:{library:"grib2",DataSourceClass:class extends n{constructor(e,t){super({sourceName:"hrrr",libraryType:"grib2",datasourceConfig:e,variables:t}),this.datasetConfig=e,this.forecastHour=0}async findProductForVariable(e){const t=this.variables[e];if(!t)throw new Error(`Unknown HRRR variable: ${e}`);if(t.product)return t.product;for(const[t,a]of Object.entries(this.datasetConfig.products||{}))if(a.variables&&a.variables.includes(e))return t;throw new Error(`No HRRR product found for variable: ${e}`)}generateURL(e,t,a=0){return(0,f.F)(e,t,this.datasetConfig.name||"hrrr-operational",a)}async fetch(e,t={}){try{return await super.fetch(e,t)}catch(e){if(e.message.includes("404"))throw new Error(`${e.message} The requested forecast may not be available yet or the timestamp may be incorrect.`);throw e}}async processFile(e,t,a,r={}){const o=await this.fetch(e,{params:{timestamp:a,variable:t,...r.params},...r}),n=await this.decompress(o,null,r);if(!0!==r.process)return n;const i=new Uint8Array(n.buffer||n,0,Math.min(32,n.byteLength||n.length)),s=Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join(" ");return s.startsWith("47 52 49 42")?console.log("[hrrr] Valid GRIB2 file detected"):console.warn(`[hrrr] Unknown file signature: ${s.substring(0,24)}`),await this.parseGRIB2(n)}async extractPointData(e,t,a,r,o={}){this.validateCoordinates(t,a);const n=this.variables[e];if(!n)throw new Error(`Unknown HRRR variable: ${e}`);const i=o.product||await this.findProductForVariable(e),s=o.forecastHour||0;if(!this.datasetConfig.products[i])throw new Error(`Product ${i} not found in dataset ${this.datasetConfig.name||"hrrr"}`);const l=this.generateURL(i,r,s);console.log(`[hrrr] Fetching ${i} for ${e} at ${r.toISOString()}, F${s.toString().padStart(2,"0")}`);const d=await this.processFile(l,e,r,{...o,product:i,forecastHour:s}),c=this.findGRIB2Message(d,e),u=this.getGRIB2ValueAtPoint(c,t,a);return!0!==o.process?{value:u,units:n.units,variable:e,timestamp:r.toISOString()}:{value:this.applyScaling(u,n),rawValue:u,units:n.units||"unknown",variable:e,product:i,forecastHour:s,timestamp:r.toISOString(),location:{latitude:t,longitude:a},metadata:{source:"HRRR",product:i,forecastHour:s,levelType:n.levelType,description:n.description}}}async extractGridData(e,t,a,r={}){this.validateBbox(t);const o=this.variables[e];if(!o)throw new Error(`Unknown HRRR variable: ${e}`);const n=r.product||await this.findProductForVariable(e),i=r.forecastHour||0,s=this.generateURL(n,a,i);console.log(`[hrrr] Fetching grid ${n} for ${e}, F${i.toString().padStart(2,"0")}`);const l=await this.processFile(s,e,a,{...r,product:n,forecastHour:i}),d=this.findGRIB2Message(l,e),c=this.getGRIB2Grid(d,t),u=c.data.map(e=>this.applyScaling(e,o));let m=null;return r.aggregation&&(m=this.aggregateSpatially(u,r.aggregation)),{data:u,latitudes:c.latitudes,longitudes:c.longitudes,bbox:t,count:c.count,variable:e,product:n,forecastHour:i,timestamp:a.toISOString(),...null!==m&&{aggregatedValue:m},metadata:{source:"HRRR",product:n,forecastHour:i,units:o.units,description:o.description,...r.aggregation&&{aggregationType:r.aggregation}}}}async getDatasetInfo(e){const t=e.info||e.infoType||"metadata";switch(t){case"variables":return{variables:this.variables,count:Object.keys(this.variables).length};case"spatial":return this.datasetConfig.spatial;case"temporal":return this.datasetConfig.temporal;case"products":return{products:this.datasetConfig.products,count:Object.keys(this.datasetConfig.products).length};case"forecast":return{maxForecastHours:48,forecastInterval:1,availableHours:Array.from({length:49},(e,t)=>t)};case"metadata":return{...this.datasetConfig,variables:this.variables,forecastCapabilities:{maxHours:48,interval:1}};default:throw new Error(`Unknown HRRR info type: ${t}`)}}},methods:{"point-data":"extractPointData","grid-data":"extractGridData","timeseries-data":"extractTimeSeries","dataset-info":"getDatasetInfo"}},ecmwf:{library:"grib2",DataSourceClass:class extends n{constructor(e,t=null){super({sourceName:"ecmwf",libraryType:"grib2",datasourceConfig:e,variables:t}),this.datasetConfig=e}async fetch(e,t={}){try{return await super.fetch(e,t)}catch(e){if(e.message.includes("403"))throw new Error(`${e.message} May require API key or authentication.`);if(e.message.includes("429"))throw new Error(`${e.message} Please wait before retrying.`);if(e.message.includes("404"))throw new Error(`${e.message} The requested data may not be available or the parameters may be incorrect.`);throw e}}async processGRIB2File(e,t={}){const a=await this.decompress(e,null,t);return!0!==t.process?a:await this.parseGRIB2(a)}async extractPointData(e,t,a,r,o={}){if(this.validateCoordinates(t,a),o.fileBuffer){const n=await this.processGRIB2File(o.fileBuffer,o);if(!0!==o.process&&n instanceof ArrayBuffer)return n;const i=this.findGRIB2Message(n,e),s=this.getGRIB2ValueAtPoint(i,t,a),l=this.variables?.[e]||{};return{value:this.applyScaling(s,l),rawValue:s,units:l.units||"unknown",variable:e,timestamp:r.toISOString(),location:{latitude:t,longitude:a},metadata:{source:"ERA5",description:l.description}}}throw new Error("ERA5 point data extraction requires fileBuffer in options. Use extractERA5Data() to fetch data first.")}async extractGridData(e,t,a,r={}){if(this.validateBbox(t),r.fileBuffer){const o=await this.processGRIB2File(r.fileBuffer,r);if(!0!==r.process&&o instanceof ArrayBuffer)return o;const n=this.findGRIB2Message(o,e),i=this.getGRIB2Grid(n,t),s=this.variables?.[e]||{},l=i.data.map(e=>this.applyScaling(e,s));let d=null;return r.aggregation&&(d=this.aggregateSpatially(l,r.aggregation)),{data:l,latitudes:i.latitudes,longitudes:i.longitudes,bbox:t,count:i.count,variable:e,timestamp:a.toISOString(),...null!==d&&{aggregatedValue:d},metadata:{source:"ERA5",units:s.units,description:s.description,...r.aggregation&&{aggregationType:r.aggregation}}}}throw new Error("ERA5 grid data extraction requires fileBuffer in options. Use extractERA5Data() to fetch data first.")}},methods:{"point-data":"extractPointData","grid-data":"extractGridData","timeseries-data":"extractTimeSeries"}},prism:{library:"geospatial",DataSourceClass:class extends s{constructor(e,t){super({sourceName:"prism",libraryType:"geospatial",datasourceConfig:e,variables:t}),this.datasetConfig=e,this.prismVariables=t}generateFileURL(e,t,a,r,o){return(0,g.mv)(e,t,a,r,o)}determinePRISMParams(e,t,a,r){const o=this.variables[e];if(!o)throw new Error(`Unknown PRISM variable: ${e}`);(0,g.IN)(e,r);const n=(0,g.Xg)(t,a);return{variableMeta:o,region:n,resolution:(0,g.Bu)(n)}}async fetchAndExtractPRISM(e,t="tif"){console.log(`[prism] Fetching and extracting: ${e}`);const a=await this.fetch(e),r="tif"===t?/\.tif$/i:/\.bil$/i,o=await this.extractFromZip(a,r),n=this.library.JSZip,i=await n.loadAsync(a),s=Object.keys(i.files),l={},d=s.find(e=>e.toLowerCase().endsWith(".prj"));if(d&&(l.projection=await i.files[d].async("string")),"bil"===t){const e=s.find(e=>e.toLowerCase().endsWith(".hdr"));e&&(l.header=await i.files[e].async("string"))}return{dataBuffer:o.data,metadata:l,filename:o.fileName,format:t}}async extractPointData(e,t,a,r,o={}){this.validateCoordinates(t,a);const n=o.dataType||"daily",{variableMeta:i,region:s,resolution:l}=this.determinePRISMParams(e,t,a,n),d=o.region||s,c=o.resolution||l,u=this.generateFileURL(e,r,n,d,c),m=i.format||"tif",p=await this.fetchAndExtractPRISM(u,m);if(!0!==o.process)return p.dataBuffer;const{tiff:h,image:f}=await this.parseGeoTIFF(p.dataBuffer),g=await this.getGeoTIFFValueAtPoint(f,t,a,i);return o.raw||o.params&&o.params.raw?{value:g,variable:e,timestamp:r.toISOString()}:{value:g,units:i.units,variable:e,timestamp:r.toISOString(),location:{latitude:t,longitude:a},metadata:{source:"PRISM",dataType:n,region:d,resolution:c,projection:p.metadata.projection}}}async extractGridData(e,t,a,r={}){this.validateBbox(t);const o=this.variables[e];if(!o)throw new Error(`Unknown PRISM variable: ${e}`);const n=(t[1]+t[3])/2,i=(t[0]+t[2])/2,s=r.dataType||"daily",l=r.region||(0,g.Xg)(n,i),d=r.resolution||(0,g.Bu)(l),c=this.generateFileURL(e,a,s,l,d),u=o.format||"tif",m=await this.fetchAndExtractPRISM(c,u);if(!0!==r.process)return m.dataBuffer;const{tiff:p,image:h}=await this.parseGeoTIFF(m.dataBuffer),f=await this.getGeoTIFFGrid(h,t,o);let y=null;return r.aggregation&&(y=this.aggregateSpatially(f.data,r.aggregation)),{data:f.data,width:f.width,height:f.height,bbox:t,variable:e,timestamp:a.toISOString(),...null!==y&&{aggregatedValue:y},metadata:{source:"PRISM",units:o.units,dataType:s,region:l,resolution:d,...r.aggregation&&{aggregationType:r.aggregation}}}}},methods:{"point-data":"extractPointData","grid-data":"extractGridData","timeseries-data":"extractTimeSeries","dataset-info":"getDatasetInfo"}},nwm:{library:"zarr",DataSourceClass:class extends o{constructor(e){super({sourceName:"nwm",libraryType:"zarr"===e.format?"zarr":"netcdf",datasourceConfig:e,variables:null}),this.datasetConfig=e,this.format=e.format||"zarr"}buildFileURL(e,t,a,r){return function(e,t,a,r,o){return`${e}/${t}/${String(a.getUTCMonth()+1).padStart(2,"0")}/${String(a.getUTCDate()).padStart(2,"0")}/nwm.t${String(a.getUTCHours()).padStart(2,"0")}z.${r}.${o}.nc`}(this.datasetConfig.baseUrl,e,t,a,r)}async findCOMIDIndex(e,t){if(Array.isArray(e)){const a=e.indexOf(t);if(-1===a)throw new Error(`COMID ${t} not found in dataset`);return a}for(let a=0;a<e.length;a++)if(e[a]===t)return a;throw new Error(`COMID ${t} not found in dataset`)}async extractZarrData(e,t,a,r){const o=this.datasetConfig.products[e.product||"chrtout"],n=`${this.datasetConfig.baseUrl}/${o.zarrPath||"chrtout.zarr"}`;console.log(`[nwm] Extracting Zarr data for COMID ${t} from ${n}`),await this.loadLibrary(),await this.fetchJSON(`${n}/${e}/.zarray`);const i=await this.fetchJSON(`${n}/feature_id/.zarray`),s=await this.fetch(`${n}/feature_id/0`),l=await this.decompress(s),d=this.convertToTypedArray(l,i.dtype),c=await this.findCOMIDIndex(d,t);return console.log(`[nwm] Found COMID ${t} at index ${c}`),{comid:t,variable:e,format:"zarr",data:[],metadata:{source:"NWM",version:this.datasetConfig.temporal.version}}}async extractNetCDFData(e,t,a,r,o={}){const n=[],i=e.product||"chrtout",s=this.datasetConfig.products[i];if(!s)throw new Error(`Product ${i} not available for dataset version ${this.datasetConfig.temporal.version}`);const d=function(e,t,a){const r=[];let o=new Date(e);const n="hourly"===a?36e5:864e5;for(;o<=t;)r.push(new Date(o)),o=new Date(o.getTime()+n);return r}(a,r,s.frequency),c=d.map(e=>this.buildFileURL(e.getFullYear(),e,i,this.datasetConfig.temporal.version));console.log(`[nwm] Processing ${c.length} NetCDF files for COMID ${t}`);const u=await l("netcdf");if(!u||!u.netcdfjs)throw new Error("NetCDF library not available");for(const a of c)try{const r=await this.fetch(a);if(!0!==o.process){n.push({fileUrl:a,comid:t,data:r,timestamps:[a],metadata:{raw:!0}});continue}const s=u.netcdfjs.parse(r),l=s.variables[e];if(!l){console.warn(`[nwm] Variable ${e} not found in ${a}`);continue}const d=s.variables.feature_id;if(!d){console.warn(`[nwm] Feature ID not found in ${a}`);continue}const c=await this.findCOMIDIndex(d.data,t),m=s.variables.time,p=l.shape[0],h=[],f=[],g=new Date(this.datasetConfig.temporal.timeUnits.replace("hours since ",""));for(let e=0;e<p;e++){const t=e*d.data.length+c,a=l.data[t],r=a===l.attributes?._FillValue||a===l.attributes?.missing_value,o={scaleFactor:l.attributes?.scale_factor,addOffset:l.attributes?.add_offset,fillValue:l.attributes?._FillValue},n=r?null:this.applyScaling(a,o);h.push(n);const i=new Date(g.getTime()+60*m.data[e]*60*1e3);f.push(i.toISOString())}n.push({fileUrl:a,comid:t,data:h,timestamps:f,metadata:{variable:e,product:i,timeSteps:p,units:l.attributes?.units||"unknown"}})}catch(e){console.error(`[nwm] Error processing ${a}:`,e.message)}return n}convertToTypedArray(e,t){const a=e.buffer||e;switch(t){case"<i4":return new Int32Array(a);case"<i8":return new BigInt64Array(a);case"<f4":return new Float32Array(a);case"<f8":return new Float64Array(a);default:return console.warn(`[nwm] Unknown dtype: ${t}, using Int32Array`),new Int32Array(a)}}async extractData(e,t,a,r,o={}){if(!t)throw new Error("COMID is required for NWM data extraction");return"zarr"===this.format?await this.extractZarrData(e,t,a,r,o):await this.extractNetCDFData(e,t,a,r,o)}async getDatasetInfo(e){switch(e.info||e.infoType||"metadata"){case"spatial":return this.datasetConfig.spatial;case"temporal":return this.datasetConfig.temporal;default:return{...this.datasetConfig,variables:await this.getVariables()}}}async getVariables(){return this.datasetConfig.products||{}}},methods:{"point-data":"extractPointData","grid-data":"extractGridData","timeseries-data":"extractTimeSeries","bulk-extraction":"extractBulkData"},preProcess:null},threedep:{library:"geospatial",DataSourceClass:class extends s{constructor(){super({sourceName:"threedep",libraryType:"geospatial",datasourceConfig:{spatial:{},temporal:{}},variables:{elevation:{units:"meters",description:"Elevation (NAVD88)"}}})}generateGeoTiffUrl(e,t,a){return`https://elevation.nationalmap.gov/arcgis/rest/services/3DEPElevation/ImageServer/exportImage?${new URLSearchParams({f:"image",bbox:e.join(","),bboxSR:"4326",imageSR:"5070",size:`${t},${a}`,format:"tiff",pixelType:"F32",noDataInterpretation:"esriNoDataMatchAny",interpolation:"RSP_BilinearInterpolation",compression:"LZ77",compressionQuality:"75",bandIds:"0"}).toString()}`}calculateSize(e,t){const[a,r,o,n]=e,i=Number(t);(isNaN(i)||i<=0)&&(console.warn(`[threedep] Invalid resolution: ${t}, defaulting to 30m`),t=30);const s=111319.9*(o-a)*Math.cos(r*Math.PI/180),l=111319.9*(n-r);let d=Math.ceil(s/t),c=Math.ceil(l/t);if(d>y||c>y){const e=Math.min(y/d,y/c);d=Math.floor(d*e),c=Math.floor(c*e)}return(isNaN(d)||isNaN(c))&&(console.error(`[threedep] Size calculation failed for bbox: ${e}, resolution: ${t}`),d=1e3,c=1e3),{width:d,height:c}}async fetchDEMData(e,t,a,r={}){const[o,n,i,s]=Array.isArray(e)?e:Object.values(e),{width:l,height:d}=this.calculateSize([o,n,i,s],t),c=this.generateGeoTiffUrl([o,n,i,s],l,d);console.log(`[threedep] Fetching DEM for bbox [${o}, ${n}, ${i}, ${s}], resolution ${t}m`);try{a&&a(10,"Fetching DEM data...");const e=await this.fetch(c,r);if(!0!==r.process)return e;a&&a(20,"Loading geospatial libraries..."),await this.loadLibrary();const{tiff:l,image:d}=await this.parseGeoTIFF(e),{georaster:u,metadata:m,wgs84Bounds:p,elevationRange:h}=await this.createGeoRaster(d,a);return a&&a(100,"Complete"),{bbox:[o,n,i,s],resolution:t,arrayBuffer:e,georaster:u,units:"meters",verticalDatum:"NAVD88",metadata:{originalProjection:"EPSG:5070",originalBounds:m.boundingBox,wgs84Bounds:p,elevationRange:h,dimensions:{width:m.width,height:m.height}},_isGeoraster:!0,_bounds:[[p.minY,p.minX],[p.maxY,p.maxX]]}}catch(e){throw console.error("[threedep] Error fetching DEM:",e),new Error(`Failed to fetch DEM data: ${e.message}`)}}async fetchPointElevation(e,t,a){const r=.001,o=[t-r,e-r,t+r,e+r];try{const r=await this.fetchDEMData(o,1,a),n=r.georaster,i=Math.round((t-n.xmin)/n.pixelWidth),s=Math.round((n.ymax-e)/n.pixelHeight);let l=null;return i>=0&&i<n.width&&s>=0&&s<n.height&&(l=n.values[0][s][i],l!==n.noDataValue&&Number.isFinite(l)||(l=null)),{latitude:e,longitude:t,elevation:l,units:"meters",verticalDatum:"NAVD88",metadata:r.metadata}}catch(e){throw console.error("[threedep] Error fetching point elevation:",e),new Error(`Failed to fetch elevation data: ${e.message}`)}}async getDatasetInfo(e){return{name:"3DEP Elevation",description:"USGS 3D Elevation Program",variables:this.variables,spatial:{envelope:[-180,-90,180,90],crs:"EPSG:4326"}}}},methods:{"point-data":"fetchPointElevation","grid-data":"fetchDEMData"}},nldas:{library:"netcdf",DataSourceClass:class extends i{constructor(e,t){super({sourceName:"nldas",libraryType:"netcdf",datasourceConfig:e,variables:t}),this.datasetConfig=e}generateFileURL(e,t){const a=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0"),o=String(e.getUTCDate()).padStart(2,"0"),n=Math.floor((e-new Date(e.getUTCFullYear(),0,0))/1e3/60/60/24),i=`NLDAS_FORA0125_H.A${a}${r}${o}.*.003.nc`;return`${this.datasetConfig.baseUrl||"s3://nldas3-forcing/nldas-3/forcing"}/${a}/${String(n).padStart(3,"0")}/${i}`}async extractDayData(e,t,a,r,o={}){const n=this.variables[e];if(!n)throw new Error(`Unknown NLDAS variable: ${e}`);const i=this.generateFileURL(r,e);console.log(`[nldas] Fetching daily file: ${i}`);try{if(!0!==o.process)return await this.fetch(i,o);const r=await this.openNetCDF(i),s=r.getDataVariable("lat"),l=r.getDataVariable("lon"),d=r.getDataVariable("time"),c=this.findNearestIndex(Array.from(s),t),u=this.findNearestIndex(Array.from(l),a),m=[];for(let t=0;t<d.length;t++){const a=[t,c,u],o=this.getNetCDFValue(r,e,a,n),i=d[t],s=new Date("1970-01-01T00:00:00Z"),l=new Date(s.getTime()+60*i*60*1e3);m.push({timestamp:l.toISOString(),value:o})}return m}catch(e){return console.warn(`[nldas] Failed to extract day data for ${r.toISOString()}: ${e.message}`),[]}}async extractPointData(e,t,a,r,o={}){this.validateCoordinates(t,a);const n=this.variables[e];if(!n)throw new Error(`Unknown NLDAS variable: ${e}`);const i=o.startDate?new Date(o.startDate):r,s=o.endDate?new Date(o.endDate):r;this.validateDateRange(i,s);let l=[],d=new Date(i);for(;d<=s;){const r=await this.extractDayData(e,t,a,d,o);!0!==o.process?r&&r.byteLength&&l.push({timestamp:d.toISOString(),data:r}):l.push(...r),d.setDate(d.getDate()+1)}const c=l.filter(e=>{const t=new Date(e.timestamp);return t>=i&&t<=s});return{variable:e,location:{latitude:t,longitude:a},timeRange:{start:i.toISOString(),end:s.toISOString()},data:c,metadata:{source:"NLDAS-3",units:n.units,temporalResolution:"hourly",spatialResolution:n.spatialResolution,count:c.length,validCount:c.filter(e=>null!==e.value).length}}}async extractGridData(e,t,a,r={}){this.validateBbox(t);const o=this.variables[e];if(!o)throw new Error(`Unknown NLDAS variable: ${e}`);const n=this.generateFileURL(a,e),i=await this.openNetCDF(n),s=Array.from(i.getDataVariable("lat")),l=Array.from(i.getDataVariable("lon")),[d,c,u,m]=t,p=this.findNearestIndex(s,c),h=this.findNearestIndex(s,m),f=this.findNearestIndex(l,d),g=this.findNearestIndex(l,u),y=r.timeIndex||0,b=[],w=[],v=[];for(let t=p;t<=h;t++)for(let a=f;a<=g;a++){const r=[y,t,a],n=this.getNetCDFValue(i,e,r,o);b.push(n),w.push(s[t]),v.push(l[a])}return{data:b,latitudes:w,longitudes:v,bbox:t,count:b.length,variable:e,timestamp:a.toISOString(),metadata:{source:"NLDAS-3",units:o.units,description:o.description}}}async extractRawNetCDF(e){let t;if(e.date)t=this.generateFileURL(new Date(e.date),e.variable);else{if(!(e.year&&e.month&&e.day))throw new Error("Missing date parameters for raw NetCDF extraction");{const a=new Date(Date.UTC(e.year,parseInt(e.month)-1,parseInt(e.day),e.hour||0));t=this.generateFileURL(a,e.variable||"Tair")}}const{cachedFetch:r}=await Promise.resolve().then(a.bind(a,526));return globalThis._hydroCacheContext={source:"nldas",dataset:this.datasetConfig.name||"nldas-3-hourly",dataType:"raw-netcdf",params:e},(await r(t,{params:{source:"nldas",datatype:"raw-netcdf",proxy:e.proxy,raw:!0}})).arrayBuffer()}},methods:{"point-data":"extractPointData","grid-data":"extractGridData","timeseries-data":"extractTimeSeries","dataset-info":"getDatasetInfo","raw-netcdf":"extractRawNetCDF"}}};async function w(e,t,a,r){const o=b[e];if(!o)throw new Error(`Unknown gridded source: ${e}`);const n=a.dataset||Object.keys(r[e].datasets)[0],i=r[e].datasets[n];if(!i)throw new Error(`Unknown ${e} dataset: ${n}`);const s={...i,name:n},d=o.methods[t];if(!d)throw new Error(`Unsupported ${e} data type: ${t}`);try{const n=new(0,o.DataSourceClass)(s,r[e].variables);if(await n.loadLibrary(),"function"!=typeof n[d])throw new Error(`Method ${d} not found on ${e} data source`);let i;if("threedep"===e)i="point-data"===t?await n[d](a.latitude,a.longitude,a.progressCallback):"grid-data"===t?await n[d](a.bbox,a.resolution||10,a.progressCallback):await n[d](a);else switch(t){case"point-data":i=await n[d](a.variable||a.variables?.[0],a.latitude,a.longitude,a.startDate?new Date(a.startDate):new Date,a);break;case"grid-data":i=await n[d](a.variable||a.variables?.[0],a.bbox,a.startDate?new Date(a.startDate):new Date,a);break;case"timeseries-data":i=await n[d](a.variable||a.variables?.[0],a.latitude,a.longitude,a.startDate?new Date(a.startDate):new Date,a.endDate?new Date(a.endDate):new Date,a);break;default:i=await n[d](a)}return i}catch(n){if(n.message&&(n.message.includes("library")||n.message.includes("Library")||n.message.includes("not available")||n.message.includes("not loaded"))){console.log(`[data] Attempting to load required ${o.library} library...`);try{await l(o.library),console.log(`[data] ${o.library} library loaded successfully, retrying...`);const n=new(0,o.DataSourceClass)(s,r[e].variables);let i;if(await n.loadLibrary(),"threedep"===e)i="point-data"===t?await n[d](a.latitude,a.longitude,a.progressCallback):"grid-data"===t?await n[d](a.bbox,a.resolution||10,a.progressCallback):await n[d](a);else switch(t){case"point-data":i=await n[d](a.variable||a.variables?.[0],a.latitude,a.longitude,a.startDate?new Date(a.startDate):new Date,a);break;case"grid-data":i=await n[d](a.variable||a.variables?.[0],a.bbox,a.startDate?new Date(a.startDate):new Date,a);break;case"timeseries-data":i=await n[d](a.variable||a.variables?.[0],a.latitude,a.longitude,a.startDate?new Date(a.startDate):new Date,a.endDate?new Date(a.endDate):new Date,a);break;default:i=await n[d](a)}return i}catch(e){throw new Error(`Failed to load required ${o.library} library: ${n.message}`)}}throw console.error(`${e.toUpperCase()} processing error: ${n.message}`),new Error(`${e.toUpperCase()} data processing failed: ${n.message}`)}}},658:(e,t,a)=>{a.d(t,{A:()=>n,F:()=>o});const r={"hrrr-operational":{baseUrl:"https://nomads.ncep.noaa.gov/pub/data/nccf/com/hrrr/prod",format:"grib2",description:"High Resolution Rapid Refresh operational forecasts - 3km resolution weather model with 48-hour forecasts",spatial:{coverage:"conus",resolution:"3km",levels:"surface",latitude:{min:21.138,max:52.616},longitude:{min:-122.191,max:-60.906}},temporal:{archive:!1,archiveStart:null,forecastHours:48,updateFrequency:"1H",resolution:"1H"},products:{prs:{path:"hrrr.{timestamp}/conus",filename:"hrrr.t{time}z.wrfnatf{step}.grib2",format:"grib2",description:"Full native resolution forecast data"},sfc:{path:"hrrr.{timestamp}/conus",filename:"hrrr.t{time}z.wrfsfcf{step}.grib2",format:"grib2",description:"Surface forecast data"},subh:{path:"hrrr.{timestamp}/conus",filename:"hrrr.t{time}z.wrfsfcf{step}.grib2",format:"grib2",description:"Sub-hourly surface forecast data"}}},"hrrr-analysis":{baseUrl:"https://nomads.ncep.noaa.gov/pub/data/nccf/com/hrrr/prod",format:"grib2",description:"High Resolution Rapid Refresh analysis data - Past model runs for historical analysis",spatial:{coverage:"conus",resolution:"3km",levels:"surface",latitude:{min:21.138,max:52.616},longitude:{min:-122.191,max:-60.906}},temporal:{archive:!0,archiveStart:"2014-09-30",forecastHours:0,updateFrequency:"1H",resolution:"1H"},products:{anl:{path:"hrrr.{timestamp}/conus",filename:"hrrr.t{time}z.wrfnatf00.grib2",format:"grib2",description:"Analysis data (forecast hour 00)"}}}};function o(e,t,a="hrrr-operational"){const o=r[a];if(!o)throw new Error(`Unknown HRRR dataset: ${a}`);const n=o.products[e];if(!n)throw new Error(`Unknown HRRR product: ${e}`);const i=`${t.getUTCFullYear()}${String(t.getUTCMonth()+1).padStart(2,"0")}${String(t.getUTCDate()).padStart(2,"0")}`,s=`${String(t.getUTCHours()).padStart(2,"0")}`,l=n.path.replace("{timestamp}",i).replace("{time}",s);let d="00";"anl"!==e&&(d="01");const c=n.filename.replace("{timestamp}",i).replace("{time}",s).replace("{step}",d);return`${o.baseUrl}/${l}/${c}`}const n={"point-data":{endpoint:null,params:{dataset:null,product:null,variable:null,latitude:null,longitude:null,startDate:null,forecastHour:null,format:null},methods:{type:"json",method:"GET"}},"grid-data":{endpoint:null,params:{dataset:null,product:null,variable:null,bbox:null,startDate:null,forecastHour:null,format:null},methods:{type:"json",method:"GET"}},"timeseries-data":{endpoint:null,params:{dataset:null,product:null,variable:null,latitude:null,longitude:null,startDate:null,endDate:null,forecastHour:null,format:null},methods:{type:"json",method:"GET"}},"dataset-info":{endpoint:null,params:{dataset:null,info:null},methods:{type:"json",method:"GET"}},"available-variables":{endpoint:null,params:{},methods:{type:"json",method:"GET"}},datasets:r,variables:{TMP:{longName:"Temperature",units:"K",grib2Code:"0,0,0",levelType:"surface",level:"2",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["sfc","prs","anl"]},DPT:{longName:"Dew Point Temperature",units:"K",grib2Code:"0,0,6",levelType:"surface",level:"2",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["sfc","prs","anl"]},RH:{longName:"Relative Humidity",units:"%",grib2Code:"0,1,1",levelType:"surface",level:"2",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["sfc","prs"]},APCP:{longName:"Total Precipitation",units:"kg/m²",grib2Code:"0,1,8",levelType:"surface",level:"0",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["sfc","prs","anl"]},PRATE:{longName:"Precipitation Rate",units:"kg/m²/s",grib2Code:"0,1,7",levelType:"surface",level:"0",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["sfc","prs"]},UGRD:{longName:"U-Component of Wind",units:"m/s",grib2Code:"0,2,2",levelType:"surface",level:"10",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["sfc","prs"]},VGRD:{longName:"V-Component of Wind",units:"m/s",grib2Code:"0,2,3",levelType:"surface",level:"10",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["sfc","prs"]},WIND:{longName:"Wind Speed",units:"m/s",grib2Code:"0,2,1",levelType:"surface",level:"10",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["sfc","prs"]},WDIR:{longName:"Wind Direction",units:"°",grib2Code:"0,2,0",levelType:"surface",level:"10",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["sfc","prs"]},VIS:{longName:"Visibility",units:"m",grib2Code:"0,0,9",levelType:"surface",level:"0",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["sfc","prs"]},TCDC:{longName:"Total Cloud Cover",units:"%",grib2Code:"0,6,0",levelType:"surface",level:"0",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["sfc","prs"]},HGT:{longName:"Geopotential Height",units:"m",grib2Code:"0,3,5",levelType:"pressure",level:"500",scaleFactor:1,fillValue:-9999,dtype:"float32",products:["prs"]}},generateURL:o,requirements:{needProxy:!0,requireskey:!1,keyname:null},info:{returnFormats:"grib2",MoreInfo:"https://rapidrefresh.noaa.gov/hrrr/",About:"High Resolution Rapid Refresh (HRRR) provides high-resolution (3km) weather forecasts and analysis data for the Continental United States. Available in GRIB2 format with 1-hour temporal resolution."}}},670:(e,t,a)=>{a.d(t,{A:()=>r});const r={"local-proxy":{endpoint:"https://hydroinformatics.uiowa.edu/lab/cors/"},researchverse:{endpoint:"https://researchverse.ai/backend/api/simple-proxy/"},corsproxy:{endpoint:"https://corsproxy.io/?"},info:{returnFormats:"json",MoreInfo:"https://allorigins.win/",About:"All proxy servers tried and working can be found here. It is a trial/error to see if a specific error might be working per resource."},"endpoint-info":{researchverse:{paramFormat:{url:"String - The URL to proxy"},infoSource:"Researchverse proxy server",example:{url:"https://waterservices.usgs.gov/nwis/iv?format=json&sites=01646500",exampleRequest:"http://localhost:9000/api/v1/?url=https://waterservices.usgs.gov/nwis/iv?format=json&sites=01646500"}},"local-proxy":{paramFormat:{url:"String - The URL to proxy"},infoSource:"Local proxy server",example:{url:"https://waterservices.usgs.gov/nwis/iv?format=json&sites=01646500",exampleRequest:"http://localhost:9000/api/v1/?url=https://waterservices.usgs.gov/nwis/iv?format=json&sites=01646500"}}}}},716:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__});var _datasources_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(903),_utils_data_cache_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(526),_utils_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(625);async function retrieve({params,args,data}={}){let source=params.source,dataType=params.datatype,placeHolder=params.placeHolder||!1,trans=params.transform||!1;globalThis._hydroCacheContext={source,dataset:args.dataset||source,dataType,cacheId:params.cacheId,params:args,cache:!1!==params.cache,useChunkedDownload:!0===params.chunked||"auto"===params.chunked};try{const griddedConfig=_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.TO[source];if(griddedConfig){if(griddedConfig.preProcess){const e=await griddedConfig.preProcess(params,args,dataType);args=e.args}return!0!==params.process&&(args.process=!1),(0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.og)(source,dataType,args,_datasources_js__WEBPACK_IMPORTED_MODULE_0__)}let dataSource=_datasources_js__WEBPACK_IMPORTED_MODULE_0__[source]?.[dataType];if(!dataSource)return Promise.reject(new Error("No data source found for the given specifications."));let endpoint="waterOneFlow"===source||"hisCentral"===source||"mitigation_dt"===source||"flooddamage_dt"===source||"nldas"===source||"dwd"===source||"chirps"===source?"nldas"===source?_datasources_js__WEBPACK_IMPORTED_MODULE_0__[source].sourceType(args.dataset,dataType,args):"dwd"===source||"chirps"===source?_datasources_js__WEBPACK_IMPORTED_MODULE_0__[source].sourceType(args,dataType):_datasources_js__WEBPACK_IMPORTED_MODULE_0__[source].sourceType(args.sourceType,dataType):dataSource.endpoint,type=params.type||dataSource.methods.type,proxy="";if(_datasources_js__WEBPACK_IMPORTED_MODULE_0__[source]?.requirements?.needProxy){const e=params.proxyServer||"local-proxy";proxy=_datasources_js__WEBPACK_IMPORTED_MODULE_0__.proxies[e]?.endpoint||_datasources_js__WEBPACK_IMPORTED_MODULE_0__.proxies["local-proxy"].endpoint}let headers={"content-type":"json"===type?"application/json":"xml"===type||"soap"===type?"text/xml; charset=utf-8":"csv"===type||"tab"===type?"application/text":"netcdf"===type||"tiff"===type||"image"===type||"blob"===type?"application/octet-stream":"application/json"};"soap"===type&&(headers.SOAPAction=_datasources_js__WEBPACK_IMPORTED_MODULE_0__[source].action+dataType);let keyname=_datasources_js__WEBPACK_IMPORTED_MODULE_0__[source]?.requirements?.keyname;keyname&&params[keyname]?headers[keyname]=params[keyname]:keyname&&console.warn("info: please verify the keyname of the source."),endpoint=endpoint.replace(/{(\w+)}/g,(e,t)=>{const a=args[t];return delete args[t],a});let fetchOptions={method:dataSource.methods.method||"GET",headers};if("POST"===fetchOptions.method)"json"===type?fetchOptions.body=JSON.stringify(args):"soap"!==type&&"xml"!==type||(fetchOptions.body=Object.keys(args).length?_datasources_js__WEBPACK_IMPORTED_MODULE_0__.envelope(dataSource.body(args)):_datasources_js__WEBPACK_IMPORTED_MODULE_0__.envelope(dataSource.body()));else if("GET"===fetchOptions.method){const e={};if(dataSource.params){for(const[t,a]of Object.entries(dataSource.params))null!=a&&(e[t]=a);for(const[t,a]of Object.entries(args))null!=a&&(e[t]=a)}else Object.assign(e,args);if(Object.keys(e).length>0){const t=new URLSearchParams(e).toString();endpoint+=`?${t}`}}return(0,_utils_data_cache_js__WEBPACK_IMPORTED_MODULE_1__.cachedFetch)(proxy+endpoint,fetchOptions).then(async e=>{if("function"==typeof e.clone){const t=e.clone();try{const e=await t.text();console.log(`[Retrieve Debug] Raw response from ${proxy+endpoint}:`,e.substring(0,500))}catch(e){console.log("[Retrieve Debug] Failed to read raw response:",e)}}else console.log(`[Retrieve Debug] Response from ${proxy+endpoint} is not a standard Response object (no clone method).`);if("function"!=typeof e.text){if(e instanceof ArrayBuffer||void 0!==e.byteLength){const t=(new TextDecoder).decode(e);return"json"===params.datatype||"json"===dataSource.methods.type?JSON.parse(t):t}return e}if(!e||void 0===e.ok||void 0===e.headers){if("json"===type&&"string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return["blob","netcdf","grib2","tiff","image"].includes(type)?new Blob([e]):e}if(!e.ok){const t=await e.text();throw new Error(`HTTP error ${e.status} fetching ${endpoint}: ${t}`)}if(!0!==params.process){const t=e.headers.get("content-type");return t&&(t.includes("application/json")||t.includes("text/"))?e.text():e.blob()}let t=type||dataSource.methods.type||"unknown";if(["netcdf","grib2","tiff","image","blob","zip","tar","kmz","zarr","binary"].includes(t))return"function"==typeof e.blob?e.blob():"function"==typeof e.arrayBuffer?e.arrayBuffer().then(e=>new Blob([e])):new Blob([e]);if("json"===t){const t=e.headers.get("content-type");return t&&(t.includes("image/")||t.includes("application/octet-stream")||t.includes("application/x-tar")||t.includes("application/zip"))?"function"==typeof e.blob?e.blob():e.arrayBuffer().then(e=>new Blob([e])):e.json()}if(["xml","soap","csv","tab","kml"].includes(t))return e.text();const a=e.headers.get("content-type")||"";return a.includes("application/json")?e.json():a.includes("text/")||a.includes("xml")||a.includes("application/vnd.google-earth.kml+xml")?e.text():e.blob()}).then(responseData=>{if(!0!==params.process)return responseData;if("soap"===type)try{return responseData}catch(e){throw new Error(`Error parsing SOAP response from ${endpoint}: ${e.message}`)}else{if("xml"===type||"tab"===type||"CSV"===type)return JSON.stringify(responseData);if(!trans)return lowercasing(responseData);if("usgs"===source)return transform({params:{save:"value"},args:{keep:'["datetime", "value"]',type:"ARR"},data:lowercasing(responseData)});if("eval"===trans)return eval(responseData)}})}finally{}}async function getFile({params:e,args:t,data:a}={}){const r=globalThis.hydro?.cache;if(!r)throw new Error("Cache not available");const o=t.key;if(!o)throw new Error("Cache key required in args.key");const n=await r.get(o);if(!n)throw new Error(`No cached file found with key: ${o}`);return{data:n.data,metadata:n.metadata,key:o,raw:!0}}async function saveFile({params:e,args:t,data:a}={}){const r=globalThis.hydro?.cache;if(!r)throw new Error("Cache not available");const o=t.key;if(!o)throw new Error("Dataset key required in args.key");if(!a)throw new Error("Data to save is required");const n={source:e.source||"user",datatype:e.datatype||"dataset",name:t.name||o,savedAt:(new Date).toISOString(),userSaved:!0};return await r.saveDataset(o,a,n)}const transformGriddedData=({params:e,args:t,data:a})=>{console.log("[transform] Processing gridded data transformation");const r=e?.source||"generic";if(a&&"object"==typeof a&&!a.variable&&!Array.isArray(a)){const o={};for(const[n,i]of Object.entries(a))try{o[n]=transformVariable(n,i,r,e,t)}catch(e){console.warn(`Failed to transform ${n}: ${e.message}`),o[n]={error:e.message}}return o}{const o=a.variable||Object.keys(a)[0];return transformVariable(o,a,r,e,t)}},transformVariable=(e,t,a,r,o)=>{let n=deepClone(t);return"aorc"===a?n=(0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.AV)(n,e,_datasources_js__WEBPACK_IMPORTED_MODULE_0__,"aorc"):"nwm"===a?n=(0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.AV)(n,e,_datasources_js__WEBPACK_IMPORTED_MODULE_0__,"nwm"):"threedep"===a?n=(0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.AV)(n,e,_datasources_js__WEBPACK_IMPORTED_MODULE_0__,"threedep"):"prism"===a&&(n=(0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.AV)(n,e,_datasources_js__WEBPACK_IMPORTED_MODULE_0__,"prism")),o?.units&&(n=(0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.vq)(n,e,o.units,a,_datasources_js__WEBPACK_IMPORTED_MODULE_0__)),o?.temporalAggregation&&(n=(0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.k4)(n,o.temporalAggregation)),o?.spatialAggregation&&(n=aggregateSpatial(n,o.spatialAggregation)),o?.qualityControl&&(n=(0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.nR)(n,o.qualityControl)),o?.statistics&&(n=(0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.G_)(n,o.statistics)),o?.type?(0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.Yw)(n,o,a,_datasources_js__WEBPACK_IMPORTED_MODULE_0__):n};function transform({params:e,args:t,data:a}={}){function r(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e))return e.map(r);const t={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=r(e[a]));return t}const o=e=>"string"!=typeof e||isNaN(e)||""===e.trim()?e:Number(e),n=e=>{if(Array.isArray(e))return e.map(e=>n(e));if("object"==typeof e&&null!==e){const t={};for(const a in e)t[a]=n(e[a]);return t}return o(e)},i=e=>{if("string"==typeof e){const t=new Date(e);if(!isNaN(t.getTime()))return t;if("true"===e.toLowerCase()||"false"===e.toLowerCase())return"true"===e.toLowerCase()}return e},s=(e,t)=>t.split(".").reduce((e,t)=>e?.[t],e),l=(e,t="",a={})=>{for(const r in e){const o=e[r],n=t?`${t}.${r}`:r;"object"!=typeof o||null===o||Array.isArray(o)?a[n]=o:l(o,n,a)}return a};if(console.log("[transform] Original input data:",a),a=r(a),"aorc"===e?.source||"nwm"===e?.source||"threedep"===e?.source||"prism"===e?.source||a&&"object"==typeof a&&a.variable)return transformGriddedData({params:e,args:t,data:a});if(e){if(void 0!==e.save&&void 0===t){const t=recursiveSearch({obj:a,searchkey:e.save});a=t?.[0]}else if(void 0!==e.save&&void 0!==t.keep){const r=recursiveSearch({obj:a,searchkey:e.save});if(a=r?.[0],!a)return null;t.parse&&(a=n(a)),"string"==typeof t.keep&&(t.keep=JSON.parse(t.keep));const o=new RegExp(t.keep.join("|"));if(Array.isArray(a))a=a.map(e=>{if("object"!=typeof e)return e;const t={};for(const a in e)o.test(a)&&(t[a]=e[a]);return t});else if("object"==typeof a&&null!==a){const e={};for(const t in a)o.test(t)&&(e[t]=a[t]);a=e}}else if(void 0!==e.save&&void 0===t.keep){const r=recursiveSearch({obj:a,searchkey:e.save});a=r?.[0],a=t?.parse?n(a):a}}else a=t?.parse?n(a):a;if(void 0!==t?.pick&&Array.isArray(a)&&Array.isArray(a[0])){const e=Number(t.pick);!isNaN(e)&&a.length>e&&(a=a[e])}if("flatten"===t?.mode){if(Array.isArray(a)&&Array.isArray(a[0])&&"string"==typeof a[0][0]&&a[0].length>1)return a[0].slice(1).map(o);if(Array.isArray(a))return a.map(o).filter(e=>"number"==typeof e&&!isNaN(e))}if("flatten-objects"===t?.mode&&(Array.isArray(a)&&"object"==typeof a[0]?a=a.map(l):"object"==typeof a&&(a=l(a))),Array.isArray(a)&&t?.keep){const e=t.keep;a=a.map(t=>{const a={};for(const r of e)a[r.includes(".")?r.split(".").pop():r]=s(t,r);return a})}const d=t?.type;let c;if(Array.isArray(a)&&(c=r(a),t?.keep)){const e=new RegExp(t.keep.join("|"));for(let t=0;t<c.length;t++)for(const a in c[t])e.test(a)||delete c[t][a]}if("ARR"===d){if(!c||!Array.isArray(c))return console.error("[transform] arr is undefined or not an array:",c),null;let e;e=t.keep&&Array.isArray(t.keep)?t.keep:c.length>0?Object.keys(c[0]).sort():[];const a=c.map(a=>e.map(e=>t.parse?i(a[e]):a[e])),r=Array(a[0]?.length||0).fill(0).map(()=>Array(a.length).fill(0));for(let e=0;e<a[0]?.length;e++)for(let t=0;t<a.length;t++)r[e][t]=a[t][e];if(!1!==t.attachNames)for(let t=0;t<r.length;t++)e[t]&&r[t].unshift(e[t]);return r}if("ARR-col"===d)return c&&Array.isArray(c)?t.keep.map(e=>{const a=[];!1!==t.attachNames&&a.push(e);for(let r=0;r<c.length;r++){const o=c[r]?.[e];a.push(t.parse?i(o):o)}return a}):null;if("CSV"===d){if(!c||!Array.isArray(c))return console.error("[transform] CSV conversion failed: arr is invalid"),null;let e="";for(let t=0;t<c.length;t++){let a="";for(const e in c[t])""!==a&&(a+=","),a+=`"${c[t][e]}"`;e+=a+"\r\n"}return e}if("JSON"===d)return JSON.stringify(a);if("XML2JSON"===d){const e=t=>{const a={};for(const r of t.matchAll(/(?:<(\w*)(?:\s[^>]*)*>)((?:(?!<\1).)*)(?:<\/\1>)|<(\w*)(?:\s*)*\/>/gm)){const t=r[1]||r[3],o=r[2]&&e(r[2]);a[t]=o&&Object.keys(o).length?o:r[2]||null}return a};return e(a)}if(d)throw new Error("Please select a supported data conversion type!");return a}async function upload({params:e,args:t,data:a}={}){const r=document.createElement("input");r.type="file",r.accept=e.type;let o=null;const n=e=>/^-?\d+\.?\d*$/.test(e);return r.addEventListener("change",async t=>{const a=t.target.files[0],r=await(e=>new Promise((t,a)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=()=>a(r.error),r.readAsText(e)}))(a);if("CSV"===e.type){const e=r.split(/\r\n|\n/).map(e=>e.split(",").map(e=>e.replace(/^"|"$/g,""))),t=e[0].map((t,a)=>e.map(e=>e[a]));o=[],t.forEach((e,t)=>{e.every(n)?o.push(e.map(e=>parseFloat(e))):o.push(e)})}else"JSON"===e.type?o=JSON.parse(r):"KML"===e.type&&(o=r)}),r.click(),new Promise(e=>{const t=setInterval(()=>{null!==o&&(clearInterval(t),e(o))},100)})}async function download({params:e,args:t,data:a}={}){let{type:r}=t,o=null,n=null;const{fileName:i}=e||generateDateString();if("CSV"===r){const r=this.transform({params:e,args:t,data:await a});o=new Blob([r],{type:"text/csv; charset=utf-8;"}),n=`${i}.csv`}else if("JSON"===r){let r;r=Array.isArray(a)?this.transform({params:e,args:t,data:a}):a,o=new Blob([JSON.stringify(await r)],{type:"text/json"}),n=`${i}.json`}if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,n);else{const e=document.createElement("a");e.href=URL.createObjectURL(o),e.download=n,e.click(),e.remove()}}function recursiveSearch({obj:e,searchkey:t,results:a=[]}={}){const r=a;return Object.keys(e).forEach(a=>{const o=e[a];a===t&&Array.isArray(o)?r.push(o):"object"==typeof o&&null!==o&&recursiveSearch({obj:o,searchkey:t,results:r})}),r}function lowercasing(e){return"object"!=typeof e?e:Array.isArray(e)?e.map(lowercasing):Object.keys(e).reduce((t,a)=>{let r=e[a],o="object"==typeof r&&null!==r?lowercasing(r):r;return t[a.toLowerCase()]=o,t},{})}function xml2json(e){try{let t={};if(e.attributes&&e.attributes.length>0)for(let a=0;a<e.attributes.length;a++){const r=e.attributes.item(a);t[`@${r.nodeName}`]=r.nodeValue}for(let a=0;a<e.childNodes.length;a++){const r=e.childNodes[a];if(r.nodeType===Node.TEXT_NODE){const e=r.textContent.trim();e.length>0&&(t["#text"]=e)}else if(r.nodeType===Node.ELEMENT_NODE){const e=r.nodeName,a=xml2json(r);void 0===t[e]?t[e]=a:(Array.isArray(t[e])||(t[e]=[t[e]]),t[e].push(a))}}return 0===Object.keys(t).length&&e.textContent&&e.textContent.trim().length>0?e.textContent.trim():t}catch(e){return console.error("[xml2json] Error during conversion:",e.message),null}}function generateDateString(){const e=new Date;return`${e.getFullYear().toString().slice(-2)}.${(e.getMonth()+1).toString().padStart(2,"0")}.${e.getDate().toString().padStart(2,"0")}.${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}const cache={async list(e={}){const t=globalThis._hydroCache;return t?await t.list(e):(console.warn("Cache not initialized"),[])},async get(e){const t=globalThis._hydroCache;return t?await t.get(e):(console.warn("Cache not initialized"),null)},async delete(e){const t=globalThis._hydroCache;return t?(await t.delete(e),!0):(console.warn("Cache not initialized"),!1)},async clear(){const e=globalThis._hydroCache;return e?(await e.clear(),!0):(console.warn("Cache not initialized"),!1)},async stats(){const e=globalThis._hydroCache;if(!e)return console.warn("Cache not initialized"),{totalSize:0,totalEntries:0,sizeFormatted:"0 B"};const t=await e.list({includeVariables:!0}),a=t.reduce((e,t)=>e+t.size,0);return{totalSize:a,totalEntries:t.length,sizeFormatted:e.formatBytes(a),entries:t}}},__WEBPACK_DEFAULT_EXPORT__={retrieve,transform,download,upload,recursiveSearch,xml2json,getFile,saveFile}},732:(e,t,a)=>{function r({params:e,args:t,data:a}={}){const r=document.getElementById(e.id);return Boolean(r&&"DIV"===r.nodeName)}function o({params:e,args:t,data:a}={}){return Boolean(document.querySelector(`script[name=${e.name}`))}function n({params:e,args:t,data:a}={}){if(!1===o({params:{name:e.name}})){var r=document.createElement("script");r.type="text/javascript",r.src=e.src,r.setAttribute("name",e.name),document.head.appendChild(r)}if(o({params:{name:e.name}}))return document.querySelector(`script[name=${e.name}]`)}function i({params:e,args:t,data:a}={}){if(!r({params:e.id})){var o=document.createElement("div");o.id=e.id,o.title=e.title,o.className=e.class,o.style=e.style;var n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode(e.style)),document.head.appendChild(n),void 0!==e.maindiv?document.getElementById(e.maindiv).appendChild(o):document.body.appendChild(o)}}a.d(t,{Sw:()=>i,so:()=>n,ux:()=>r})},775:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE_https_cdn_jsdelivr_net_npm_numcodecs_esm_d51afd52__},879:(e,t,a)=>{a.d(t,{default:()=>r});const r={"point-data":{endpoint:null,params:{dataset:null,variables:null,latitude:null,longitude:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"grid-data":{endpoint:null,params:{dataset:null,variables:null,bbox:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"timeseries-data":{endpoint:null,params:{dataset:null,variable:null,locations:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"dataset-info":{endpoint:null,params:{dataset:null,info:null},methods:{type:"json",method:"GET"}},"bulk-extraction":{endpoint:null,params:{dataset:null,variables:null,bbox:null,startDate:null,endDate:null,timeStep:null,spatialStep:null,format:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!1,requireskey:!1},info:{returnFormats:"json, csv, netcdf",MoreInfo:"https://noaa.gov/aorc",About:"NOAA AORC provides high-resolution meteorological forcing data for hydrologic modeling and analysis. Data is stored in Zarr format on Amazon S3 with no authentication required."},datasets:{"aorc-v1.1":{baseUrl:"https://noaa-nws-aorc-v1-1-1km.s3.amazonaws.com",contentUrl:"https://noaa-nws-aorc-v1-1-1km.s3.amazonaws.com/{year}.zarr",description:"AORC Version 1.1 - CONUS Domain (Year-based Zarr stores)",spatial:{latitude:{min:20,max:55,resolution:.027},longitude:{min:-130,max:-60,resolution:.027}},temporal:{start:"1979-02-01T00:00:00Z",end:"2020-12-31T23:00:00Z",resolution:"1H",yearBased:!0,timeOrigin:"year-start"}}},variables:{APCP_surface:{longName:"Total Precipitation",units:"kg/m²",scaleFactor:.1,fillValue:-32767,dtype:"<i2"},DLWRF_surface:{longName:"Downward Long-Wave Radiation Flux",units:"W/m²",scaleFactor:.1,fillValue:-32767,dtype:"<i2"},DSWRF_surface:{longName:"Downward Short-Wave Radiation Flux",units:"W/m²",scaleFactor:.1,fillValue:-32767,dtype:"<i2"},PRES_surface:{longName:"Pressure",units:"Pa",scaleFactor:10,fillValue:-32767,dtype:"<i2"},SPFH_2maboveground:{longName:"Specific Humidity",units:"kg/kg",scaleFactor:1e-4,fillValue:-32767,dtype:"<i2"},TMP_2maboveground:{longName:"Temperature",units:"K",scaleFactor:.1,fillValue:-32767,dtype:"<i2"},UGRD_10maboveground:{longName:"U-Component of Wind",units:"m/s",scaleFactor:.1,fillValue:-32767,dtype:"<i2"},VGRD_10maboveground:{longName:"V-Component of Wind",units:"m/s",scaleFactor:.1,fillValue:-32767,dtype:"<i2"}},"endpoint-info":{"point-data":{paramFormat:{dataset:"String - Dataset identifier (e.g., 'aorc-v1.1')",variables:"Array/String - Variable names or 'all' for all variables",latitude:"Number - Latitude coordinate (-90 to 90)",longitude:"Number - Longitude coordinate (-180 to 180)",startDate:"String - Start date in ISO format (YYYY-MM-DDTHH:mm:ssZ)",endDate:"String - End date in ISO format (YYYY-MM-DDTHH:mm:ssZ)",format:"String - Output format ('json', 'csv', 'netcdf')"},infoSource:"https://noaa.gov/aorc",example:{dataset:"aorc-v1.1",variables:["APCP_surface","TMP_2maboveground"],latitude:40.7128,longitude:-74.006,startDate:"2020-01-01T00:00:00Z",endDate:"2020-01-07T23:00:00Z",format:"json",exampleRequest:"Extract precipitation and temperature data for New York City for one week"}},"grid-data":{paramFormat:{dataset:"String - Dataset identifier",variables:"Array/String - Variable names or 'all'",bbox:"Array - Bounding box [west, south, east, north]",startDate:"String - Start date in ISO format",endDate:"String - End date in ISO format",format:"String - Output format"},infoSource:"https://noaa.gov/aorc",example:{dataset:"aorc-v1.1",variables:"all",bbox:[-75,40,-73,42],startDate:"2020-01-01T00:00:00Z",endDate:"2020-01-02T00:00:00Z",format:"netcdf",exampleRequest:"Extract all variables for New York region for 24 hours"}},"timeseries-data":{paramFormat:{dataset:"String - Dataset identifier",variable:"String - Single variable name",locations:"Array - Array of [latitude, longitude] coordinate pairs",startDate:"String - Start date in ISO format",endDate:"String - End date in ISO format",format:"String - Output format"},infoSource:"https://noaa.gov/aorc",example:{dataset:"aorc-v1.1",variable:"APCP_surface",locations:[[40.7128,-74.006],[34.0522,-118.2437]],startDate:"2020-01-01T00:00:00Z",endDate:"2020-01-31T23:00:00Z",format:"csv",exampleRequest:"Extract precipitation time series for New York and Los Angeles"}},"dataset-info":{paramFormat:{dataset:"String - Dataset identifier",info:"String - Information type ('variables', 'spatial', 'temporal', 'metadata')"},infoSource:"https://noaa.gov/aorc",example:{dataset:"aorc-v1.1",info:"variables",exampleRequest:"Get information about available variables in the dataset"}},"bulk-extraction":{paramFormat:{dataset:"String - Dataset identifier",variables:"Array - Variable names to extract",bbox:"Array - Bounding box [west, south, east, north]",startDate:"String - Start date in ISO format",endDate:"String - End date in ISO format",timeStep:"String - Temporal aggregation ('1H', '3H', '6H', '12H', '1D')",spatialStep:"Number - Spatial aggregation factor",format:"String - Output format"},infoSource:"https://noaa.gov/aorc",example:{dataset:"aorc-v1.1",variables:["APCP_surface","TMP_2maboveground"],bbox:[-130,20,-60,55],startDate:"2020-01-01T00:00:00Z",endDate:"2020-12-31T23:00:00Z",timeStep:"1D",spatialStep:10,format:"json",exampleRequest:"Extract daily precipitation and temperature for CONUS with 10x spatial aggregation"}}}}},886:(e,t,a)=>{a.d(t,{loadLibrary:()=>S});let r=null,o=!1;const n={load:async function(e={}){if(o)return r;try{const e=await Promise.resolve().then(a.bind(a,139)),t=await Promise.resolve().then(a.bind(a,775)),n=await Promise.resolve().then(a.bind(a,225));let i="undefined"!=typeof window&&window.pako||globalThis.pako;if(!i)try{const e=await Promise.resolve().then(a.bind(a,341));i=e.default||e}catch(e){console.warn("Failed to load pako for Zarr:",e)}r={zarr:e,numcodecs:t,fzstd:n,pako:i,version:"zarrita"};const s="undefined"!=typeof window?window:globalThis;return s.numcodecs||(s.numcodecs=t),s.fzstd||(s.fzstd=n),!s.pako&&i&&(s.pako=i),o=!0,console.log("Zarrita Zarr library and dependencies loaded successfully"),r}catch(e){throw console.error("Failed to load zarrita or dependencies:",e),new Error("Unable to load zarrita library")}},isLoaded:function(){return o&&null!==r},getInfo:function(){return{name:"Zarr",description:"Zarr storage format (v2/v3) using Zarrita",version:"2.0+",features:["Chunked arrays","Compression (Blosc, Zlib, Gzip)","Cloud storage support","Metadata storage","Multi-dimensional arrays"],dependencies:["zarrita (Zarr implementation)","numcodecs (Compression codecs)","pako (Zlib/Gzip support)"]}},createZarrStore:function(e){const t=r||{zarr:null};return{createStore:(a=e)=>{if(!t.zarr)throw new Error("Zarrita library not loaded");return new t.zarr.FetchStore(a)},openArray:async(a=e,r={})=>{if(!t.zarr)throw new Error("Zarrita library not loaded");const o=new t.zarr.FetchStore(a);return await t.zarr.open(o,{kind:"array",...r})},getArrayData:async e=>{if(!t.zarr)throw new Error("Zarrita library not loaded");return await t.zarr.get(e)},getChunk:async(e,t)=>await e.getChunk(t),getRegion:async(e,a)=>{if(!t.zarr)throw new Error("Zarrita library not loaded");return await t.zarr.get(e,a)}}}};var i=a(732);let s=null,l=!1;async function d(e={}){const{includeJS:t=!0,includeGeo:a=!0}=e;if(l)return s;try{console.log("Loading NetCDF libraries...");let e=[];if(t){const t=i.so({params:{src:"https://cdn.jsdelivr.net/npm/netcdfjs@1.2.2/build/netcdfjs.min.js",name:"netcdfjs"}});e.push(t)}if(a){const t=[i.so({params:{src:"https://cdn.jsdelivr.net/npm/geotiff@2.1.3/dist/geotiff.min.js",name:"geotiff"}}),i.so({params:{src:"https://cdn.jsdelivr.net/npm/proj4@2.9.0/dist/proj4.min.js",name:"proj4"}})];e.push(...t)}await Promise.all(e.map(e=>new Promise(t=>{e.onload=t,e.onerror=()=>t()})));const r="undefined"!=typeof window?window:globalThis;return s={netcdfjs:r.netcdfjs||null,geotiff:r.GeoTIFF||null,proj4:r.proj4||null,loadedAt:new Date},l=!0,console.log("NetCDF libraries loaded successfully"),s}catch(e){throw console.error("Failed to load NetCDF libraries:",e),new Error(`NetCDF library loading failed: ${e.message}`)}}function c(){return l&&null!==s}async function u(e){if(c()||await d(),!s.netcdfjs)throw new Error("NetCDF.js library not available");try{return new s.netcdfjs(e)}catch(e){throw new Error(`Failed to load NetCDF file: ${e.message}`)}}const m={load:d,isLoaded:c,getInfo:function(){return{name:"NetCDF",description:"Network Common Data Form for gridded data",version:"4.0+",features:["Multi-dimensional arrays","Metadata storage","Compression support","Coordinate systems","Time series data"],dependencies:["netcdfjs (JavaScript NetCDF parser)","geotiff (GeoTIFF support)","proj4 (Coordinate transformations)"]}},loadFile:u,loadFromURL:async function(e){c()||await d();try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const a=await t.arrayBuffer();return await u(a)}catch(e){throw new Error(`Failed to load NetCDF from URL: ${e.message}`)}},getVariable:function(e,t){try{const a=e.getVariable(t),r=a.dimensions,o=a.attributes,n=a.read();return{name:t,data:n,dimensions:r,attributes:o,shape:n.shape||[]}}catch(e){throw new Error(`Failed to extract variable ${t}: ${e.message}`)}}};let p=null,h=!1;async function f(e={}){const{includeJS:t=!0,includeH5Wasm:a=!0}=e;if(h)return p;try{console.log("Loading HDF5 libraries...");let e=[];if(t){const t=i.so({params:{src:"https://cdn.jsdelivr.net/npm/h5wasm@0.6.8/dist/h5wasm.js",name:"h5wasm"}});e.push(t)}if(a){const t=i.so({params:{src:"https://cdn.jsdelivr.net/npm/hdf5.js@0.3.0/dist/hdf5.js",name:"hdf5js"}});e.push(t)}return await Promise.all(e.map(e=>new Promise(t=>{e.onload=t,e.onerror=()=>t()}))),p={h5wasm:window.h5wasm||null,hdf5js:window.hdf5||null,loadedAt:new Date},h=!0,console.log("HDF5 libraries loaded successfully"),p}catch(e){throw console.error("Failed to load HDF5 libraries:",e),new Error(`HDF5 library loading failed: ${e.message}`)}}function g(){return h&&null!==p}async function y(e){if(g()||await f(),!p.h5wasm)throw new Error("h5wasm library not available");try{return new p.h5wasm.File(e)}catch(e){throw new Error(`Failed to load HDF5 file: ${e.message}`)}}const b={load:f,isLoaded:g,getInfo:function(){return{name:"HDF5",description:"Hierarchical Data Format 5 for large gridded datasets",version:"1.12+",features:["Hierarchical data structure","Large dataset support","Compression and chunking","Metadata storage","Cross-platform compatibility"],dependencies:["h5wasm (HDF5 WebAssembly)","hdf5.js (JavaScript HDF5 utilities)"]}},loadFile:y,loadFromURL:async function(e){g()||await f();try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const a=await t.arrayBuffer();return await y(a)}catch(e){throw new Error(`Failed to load HDF5 from URL: ${e.message}`)}},getDataset:function(e,t){try{const a=e.get(t);return{name:t,data:a.value,shape:a.shape,dtype:a.dtype,attributes:a.attrs||{}}}catch(e){throw new Error(`Failed to get dataset ${t}: ${e.message}`)}},listContents:function(e,t="/"){try{const a=e.get(t);return{groups:a.subgroups||[],datasets:a.datasets||[],attributes:a.attrs||{}}}catch(e){throw new Error(`Failed to list contents of ${t}: ${e.message}`)}}};var w=a(356),v=a(196);async function S({params:e,args:t,data:a}={}){const{format:r,options:o={}}=e;switch(r){case"zarr":return await n.load(o);case"netcdf":return await m.load(o);case"hdf5":return await b.load(o);case"geospatial":return await w.A.load(o);case"grib2":return await v.Ay.load(o);default:throw new Error(`Unsupported gridded data format: ${r}`)}}},903:(e,t,a)=>{a.d(t,{ECMWF:()=>D,aemet:()=>l,aorc:()=>R.default,bmkg:()=>O,chirps:()=>X,clearcreek:()=>m,cma:()=>z,cptec:()=>te,default:()=>le,drought:()=>M,dwd:()=>$,eauk:()=>d,envelope:()=>b,epa:()=>p,fao:()=>ie,fema:()=>o,flooddamage_dt:()=>_,hisCentral:()=>f,hrrr:()=>T.A,hydroShare:()=>g,hydro_geospatial:()=>se,ideam:()=>oe,ifis:()=>u,imd:()=>L,isric:()=>ne,jma:()=>q,kma:()=>U,knmi:()=>B,meteofrance:()=>Y,meteoit:()=>c,meteostat:()=>s,metno:()=>V,mitigation_dt:()=>x,mrms:()=>P.default,nasapower:()=>I,nhdplus:()=>A,nldas:()=>k,nldi:()=>F,noaa:()=>n,nwm:()=>N,nws:()=>w,nws_prediction:()=>v,openmeteo:()=>ee,prism:()=>G.Ay,proxies:()=>y.A,silo:()=>J,sissa:()=>ae,smhi:()=>H,smn_argentina:()=>re,tamsat:()=>Z,threedep:()=>j,tmd:()=>W,usgs:()=>r,waterOneFlow:()=>h,wbd:()=>K,worldbank:()=>i,wqp:()=>S}),a.r(t);const r={"instant-values":{endpoint:"http://waterservices.usgs.gov/nwis/iv/",params:{format:null,site:null,stateCd:null,huc:null,countyCd:null,startDT:null,endDT:null},"data-fields":{},methods:{type:"json",method:"GET"}},"daily-values":{endpoint:"http://waterservices.usgs.gov/nwis/dv/",params:{format:null,site:null,stateCd:null,huc:null,countyCd:null,startDT:null,endDT:null},"data-fields":{},methods:{type:"json",method:"GET"}},groundwater:{endpoint:"http://waterservices.usgs.gov/nwis/gwlevels/",params:{format:null,site:null,stateCd:null,huc:null,countyCd:null,startDT:null,endDT:null},"data-fields":{},methods:{type:"json",method:"GET"}},"site-information":{endpoint:"https://waterservices.usgs.gov/nwis/site/",params:{format:null,sites:null,stateCd:null,huc:null,bBox:null,countyCd:null,siteType:null,hasDataTypeCd:null},"data-fields":{},methods:{type:"json",method:"GET"}},"water-quality":{endpoint:"https://nwis.waterdata.usgs.gov/nwis/qwdata",params:{search_site_no:null,site_tp_cd:null,huc:null,format:null,sample_media:null,begin_date:null,end_date:null,column_name:null},"data-fields":{},methods:{type:"json",method:"GET"}},"water-use":{endpoint:"https://waterdata.usgs.gov/nwis/water_use",params:{format:null,stateCd:null,countyCd:null,year:null,category:null,wu_area:null,wu_county:null,wu_year:null},"data-fields":{},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://waterservices.usgs.gov/rest/IV-Service.html",About:"This API returns stream stages for US"},"endpoint-info":{"instant-values":{paramFormat:{format:"String - Response format (json, waterml, etc.)",site:"String - Site number(s), comma-separated",stateCd:"String - State code (e.g., 'ia' for Iowa)",huc:"String - Hydrologic Unit Code",countyCd:"String - County code",startDT:"String - Start date (YYYY-MM-DD format)",endDT:"String - End date (YYYY-MM-DD format)"},infoSource:"https://waterservices.usgs.gov/rest/IV-Service.html",example:{format:"json",sites:"05454500",startDT:"2020-01-01",endDT:"2020-01-07",exampleRequest:"http://waterservices.usgs.gov/nwis/iv/?format=json&sites=05454500&startDT=2020-01-01&endDT=2020-01-07"}},"daily-values":{paramFormat:{format:"String - Response format (json, waterml, etc.)",site:"String - Site number(s), comma-separated",stateCd:"String - State code (e.g., 'ia' for Iowa)",huc:"String - Hydrologic Unit Code",countyCd:"String - County code",startDT:"String - Start date (YYYY-MM-DD format)",endDT:"String - End date (YYYY-MM-DD format)"},infoSource:"https://waterservices.usgs.gov/rest/DV-Service.html",example:{format:"json",sites:"05454500",startDT:"2020-01-01",endDT:"2020-01-31",exampleRequest:"http://waterservices.usgs.gov/nwis/dv/?format=json&sites=05454500&startDT=2020-01-01&endDT=2020-01-31"}},groundwater:{paramFormat:{format:"String - Response format (json, waterml, etc.)",site:"String - Site number(s), comma-separated",stateCd:"String - State code (e.g., 'ia' for Iowa)",huc:"String - Hydrologic Unit Code",countyCd:"String - County code",startDT:"String - Start date (YYYY-MM-DD format)",endDT:"String - End date (YYYY-MM-DD format)"},infoSource:"https://waterservices.usgs.gov/rest/GW-Levels-Service.html",example:{format:"json",sites:"414638088384201",startDT:"2020-01-01",endDT:"2020-12-31",exampleRequest:"http://waterservices.usgs.gov/nwis/gwlevels/?format=json&sites=414638088384201&startDT=2020-01-01&endDT=2020-12-31"}},"site-information":{paramFormat:{format:"String - Response format (json, rdb, etc.)",sites:"String - Site number(s), comma-separated",stateCd:"String - State code (e.g., 'ia' for Iowa)",huc:"String - Hydrologic Unit Code",bBox:"String - Bounding box (west,south,east,north)",countyCd:"String - County code",siteType:"String - Site type (e.g., 'ST' for stream, 'LK' for lake)",hasDataTypeCd:"String - Data type code (e.g., 'dv' for daily values)"},infoSource:"https://waterservices.usgs.gov/rest/Site-Service.html",example:{format:"rdb",sites:"05454500,05481000",siteOutput:"expanded",exampleRequest:"https://waterservices.usgs.gov/nwis/site/?format=rdb&sites=05454500,05481000&siteOutput=expanded"}},"water-quality":{paramFormat:{search_site_no:"String - Site number(s), comma-separated",site_tp_cd:"String - Site type code",huc:"String - Hydrologic Unit Code",format:"String - Response format",sample_media:"String - Sample media (e.g., 'Water', 'Sediment')",begin_date:"String - Start date (YYYY-MM-DD format)",end_date:"String - End date (YYYY-MM-DD format)",column_name:"String - Column name for output"},infoSource:"https://nwis.waterdata.usgs.gov/nwis/qw",example:{search_site_no:"05454500",format:"rdb",begin_date:"2020-01-01",end_date:"2020-12-31",exampleRequest:"https://nwis.waterdata.usgs.gov/nwis/qwdata?search_site_no=05454500&format=rdb&begin_date=2020-01-01&end_date=2020-12-31"}},"water-use":{paramFormat:{format:"String - Response format",stateCd:"String - State code (e.g., 'ia' for Iowa)",countyCd:"String - County code",year:"String - Year for data retrieval",category:"String - Water use category",wu_area:"String - Water use area",wu_county:"String - Water use county",wu_year:"String - Water use year"},infoSource:"https://waterdata.usgs.gov/nwis/wu",example:{format:"rdb",wu_area:"US",wu_year:"2015",wu_category:"ALL",exampleRequest:"https://waterdata.usgs.gov/nwis/water_use?format=rdb&wu_area=US&wu_year=2015&wu_category=ALL"}}}},o={"disaster-declarations":{endpoint:"https://www.fema.gov/api/open/v2/DisasterDeclarationsSummaries",params:{},"data-fields":{femaDeclarationString:null,disasterNumber:null,state:null,declarationType:null,declarationDate:null,fyDeclared:null,incidentType:null,declarationTitle:null,ihProgramDeclared:null},methods:{type:"json",method:"GET"}},"pa-funded-projects":{endpoint:"https://www.fema.gov/api/open/v2/PublicAssistanceFundedProjectsDetails",params:{state:null,disasterNumber:null,countyCode:null,projectType:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!1,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://www.fema.gov/openfema-dataset-disaster-declarations-summaries-v2",About:"This API returns all disaster declarations for US since 1953"},"endpoint-info":{"disaster-declarations":{paramFormat:{state:"String - State abbreviation (e.g., 'CA')",declarationType:"String - Type of declaration (e.g., 'DR', 'EM', 'FM')",incidentType:"String - Type of incident (e.g., 'Flood', 'Hurricane')",declarationDate:"String - Date of declaration (YYYY-MM-DD)",fyDeclared:"Number - Fiscal year of declaration"},infoSource:"https://www.fema.gov/about/openfema/api",example:"https://www.fema.gov/api/open/v2/DisasterDeclarationsSummaries?state=CA&$orderby=declarationDate%20desc&$top=10"},"pa-funded-projects":{endpoint:"https://www.fema.gov/api/open/v2/PublicAssistanceFundedProjectsDetails",paramFormat:{state:"String - State abbreviation (e.g., 'CA')",disasterNumber:"String - Disaster number",countyCode:"String - County code",projectType:"String - Type of project"},infoSource:"https://www.fema.gov/about/openfema/api",example:"https://www.fema.gov/api/open/v2/PublicAssistanceFundedProjectsDetails?state=CA&$orderby=disasterNumber%20desc&$top=10"}}},n={datasets:{endpoint:"https://www.ncdc.noaa.gov/cdo-web/api/v2/datasets",params:{},methods:{type:"json",method:"GET"}},availablestations:{endpoint:"https://www.ncdc.noaa.gov/cdo-web/api/v2/stations",params:{locationid:null,extent:null,limit:null},methods:{type:"json",method:"GET"}},"prec-15min":{endpoint:"https://www.ncdc.noaa.gov/cdo-web/api/v2/data?datasetid=PRECIP_15",params:{locationid:null,stationid:null,startdate:null,enddate:null,units:null,limit:null,offset:null,includemetadata:!1},methods:{type:"json",method:"GET"}},"prec-hourly":{endpoint:"https://www.ncdc.noaa.gov/cdo-web/api/v2/data?datasetid=PRECIP_HLY",params:{locationid:null,stationid:null,startdate:null,enddate:null,units:null,limit:null,offset:null,includemetadata:!1},methods:{type:"json",method:"GET"}},"daily-summaries":{endpoint:"https://www.ncdc.noaa.gov/cdo-web/api/v2/data?datasetid=GHCND",params:{locationid:null,stationid:null,startdate:null,enddate:null,units:null,limit:null,offset:null,datatypeid:null,includemetadata:!1},methods:{type:"json",method:"GET"}},"global-summary":{endpoint:"https://www.ncdc.noaa.gov/cdo-web/api/v2/data?datasetid=GSOM",params:{locationid:null,stationid:null,startdate:null,enddate:null,units:null,limit:null,offset:null,datatypeid:null,includemetadata:!1},methods:{type:"json",method:"GET"}},"weather-radar-imagery":{endpoint:"https://www.ncdc.noaa.gov/nexradinv/",params:{id:null,datetime:null,product:null,year:null,month:null,day:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!1,requireskey:!0,keyname:"token"},info:{returnFormats:"json",MoreInfo:"https://www.ncdc.noaa.gov/cdo-web/webservices/v2#data",About:"NOAA API for data retrieval, different application types. Requires registration to get TOKEN and must be included in parameters. Must requests must be less than 1 year."},"endpoint-info":{datasets:{paramFormat:{},infoSource:"https://www.ncdc.noaa.gov/cdo-web/webservices/v2#datasets",example:{token:"YOUR_TOKEN",exampleRequest:"https://www.ncdc.noaa.gov/cdo-web/api/v2/datasets?token=YOUR_TOKEN"}},availablestations:{paramFormat:{locationid:"String - Location identifier (e.g., 'FIPS:37')",extent:"String - Bounding box (e.g., '-90,30,-80,40')",limit:"Number - Limit of results returned (default 25, max 1000)"},infoSource:"https://www.ncdc.noaa.gov/cdo-web/webservices/v2#stations",example:{locationid:"FIPS:37",limit:100,token:"YOUR_TOKEN",exampleRequest:"https://www.ncdc.noaa.gov/cdo-web/api/v2/stations?locationid=FIPS:37&limit=100&token=YOUR_TOKEN"}},"prec-15min":{paramFormat:{locationid:"String - Location identifier",stationid:"String - Station identifier (e.g., 'GHCND:USW00014895')",startdate:"String - Start date (YYYY-MM-DD format)",enddate:"String - End date (YYYY-MM-DD format)",units:"String - 'standard' or 'metric'",limit:"Number - Limit of results returned (default 25, max 1000)",offset:"Number - Offset for pagination",includemetadata:"Boolean - Include metadata in response"},infoSource:"https://www.ncdc.noaa.gov/cdo-web/webservices/v2#data",example:{datasetid:"PRECIP_15",stationid:"GHCND:USW00014895",startdate:"2020-01-01",enddate:"2020-01-07",limit:100,token:"YOUR_TOKEN",exampleRequest:"https://www.ncdc.noaa.gov/cdo-web/api/v2/data?datasetid=PRECIP_15&stationid=GHCND:USW00014895&startdate=2020-01-01&enddate=2020-01-07&limit=100&token=YOUR_TOKEN"}},"prec-hourly":{paramFormat:{locationid:"String - Location identifier",stationid:"String - Station identifier (e.g., 'GHCND:USW00014895')",startdate:"String - Start date (YYYY-MM-DD format)",enddate:"String - End date (YYYY-MM-DD format)",units:"String - 'standard' or 'metric'",limit:"Number - Limit of results returned (default 25, max 1000)",offset:"Number - Offset for pagination",includemetadata:"Boolean - Include metadata in response"},infoSource:"https://www.ncdc.noaa.gov/cdo-web/webservices/v2#data",example:{datasetid:"PRECIP_HLY",stationid:"GHCND:USW00014895",startdate:"2020-01-01",enddate:"2020-01-07",limit:100,token:"YOUR_TOKEN",exampleRequest:"https://www.ncdc.noaa.gov/cdo-web/api/v2/data?datasetid=PRECIP_HLY&stationid=GHCND:USW00014895&startdate=2020-01-01&enddate=2020-01-07&limit=100&token=YOUR_TOKEN"}},"daily-summaries":{paramFormat:{locationid:"String - Location identifier",stationid:"String - Station identifier (e.g., 'GHCND:USW00014895')",startdate:"String - Start date (YYYY-MM-DD format)",enddate:"String - End date (YYYY-MM-DD format)",units:"String - 'standard' or 'metric'",limit:"Number - Limit of results returned (default 25, max 1000)",offset:"Number - Offset for pagination",datatypeid:"String - Data type identifier (e.g., 'TMAX' for max temperature)",includemetadata:"Boolean - Include metadata in response"},infoSource:"https://www.ncdc.noaa.gov/cdo-web/webservices/v2#data",example:{datasetid:"GHCND",stationid:"GHCND:USW00014895",startdate:"2020-01-01",enddate:"2020-01-31",datatypeid:"TMAX,TMIN,PRCP",limit:1e3,token:"YOUR_TOKEN",exampleRequest:"https://www.ncdc.noaa.gov/cdo-web/api/v2/data?datasetid=GHCND&stationid=GHCND:USW00014895&startdate=2020-01-01&enddate=2020-01-31&datatypeid=TMAX,TMIN,PRCP&limit=1000&token=YOUR_TOKEN"}},"global-summary":{paramFormat:{locationid:"String - Location identifier",stationid:"String - Station identifier",startdate:"String - Start date (YYYY-MM-DD format)",enddate:"String - End date (YYYY-MM-DD format)",units:"String - 'standard' or 'metric'",limit:"Number - Limit of results returned (default 25, max 1000)",offset:"Number - Offset for pagination",datatypeid:"String - Data type identifier (e.g., 'TAVG' for average temperature)",includemetadata:"Boolean - Include metadata in response"},infoSource:"https://www.ncdc.noaa.gov/cdo-web/webservices/v2#datasets",example:{datasetid:"GSOM",stationid:"GHCND:USW00014895",startdate:"2020-01-01",enddate:"2020-12-31",datatypeid:"TAVG,TMAX,TMIN",limit:1e3,token:"YOUR_TOKEN",exampleRequest:"https://www.ncdc.noaa.gov/cdo-web/api/v2/data?datasetid=GSOM&stationid=GHCND:USW00014895&startdate=2020-01-01&enddate=2020-12-31&datatypeid=TAVG,TMAX,TMIN&limit=1000&token=YOUR_TOKEN"}},"weather-radar-imagery":{paramFormat:{id:"String - NEXRAD station ID (e.g., 'KDMX' for Des Moines, IA)",datetime:"String - Date and time in ISO format",product:"String - Product type (e.g., 'N0R' for base reflectivity)",year:"String - Year for data retrieval",month:"String - Month for data retrieval",day:"String - Day for data retrieval"},infoSource:"https://www.ncdc.noaa.gov/nexradinv/",example:{id:"KDMX",datetime:"2020-01-01T12:00:00Z",product:"N0R",exampleRequest:"https://www.ncdc.noaa.gov/nexradinv/rest-api.jsp?id=KDMX&datetime=2020-01-01T12:00:00Z&product=N0R"}}}},i={"monavgs-country":{endpoint:"http://climatedataapi.worldbank.org/climateweb/rest/v1/mavg/pr",params:{country:null,start:null,end:null,ISO3:null,ext:null},methods:{type:"json",method:"GET"}},"annualavgs-country":{endpoint:"http://climatedataapi.worldbank.org/climateweb/rest/v1/annualavg/pr",params:{country:null,start:null,end:null,ISO3:null,ext:null},methods:{type:"json",method:"GET"}},"monavgs-basin":{endpoint:"http://climatedataapi.worldbank.org/climateweb/rest/v1/mavg/pr",params:{country:null,start:null,end:null,basinID:null,ext:null},methods:{type:"json",method:"GET"}},"annualavgs-basin":{endpoint:"http://climatedataapi.worldbank.org/climateweb/rest/v1/annualavg/pr",params:{country:null,start:null,end:null,basinID:null,ext:null},methods:{type:"json",method:"GET"}},"dailyprec-country":{endpoint:"http://climatedataapi.worldbank.org/climateweb/rest/v1/ensemble/ppt_means",params:{country:null,start:null,end:null,ISO3:null,ext:null},methods:{type:"json",method:"GET"}},"dailyprec-basin":{endpoint:"http://climatedataapi.worldbank.org/climateweb/rest/v1/ensemble/ppt_means",params:{country:null,start:null,end:null,basinID:null,ext:null},methods:{type:"json",method:"GET"}},"temperature-country":{endpoint:"http://climatedataapi.worldbank.org/climateweb/rest/v1/mavg/tas",params:{country:null,start:null,end:null,ISO3:null,ext:null},methods:{type:"json",method:"GET"}},"temperature-basin":{endpoint:"http://climatedataapi.worldbank.org/climateweb/rest/v1/mavg/tas",params:{country:null,start:null,end:null,basinID:null,ext:null},methods:{type:"json",method:"GET"}},indicators:{endpoint:"https://api.worldbank.org/v2/indicator",params:{format:null,page:null,per_page:null,source:null,topic:null},methods:{type:"json",method:"GET"}},"country-indicators":{endpoint:"https://api.worldbank.org/v2/countries/{country}/indicators/{indicator}",params:{country:null,indicator:null,date:null,format:null,per_page:null,page:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://datahelpdesk.worldbank.org/knowledgebase/articles/902061-climate-data-api",About:"World Bank API for data retrieval. Handles many types of data depending on the requirements of the user. World Bank requires no key, but supports 3 different types of output files."},"endpoint-info":{"monavgs-country":{paramFormat:{country:"String - Full country name",start:"Number - Start year",end:"Number - End year",ISO3:"String - ISO3 country code (e.g., 'USA', 'GBR')",ext:"String - Response format extension (json, xml, csv)"},infoSource:"https://datahelpdesk.worldbank.org/knowledgebase/articles/902061-climate-data-api",example:{ISO3:"USA",start:1980,end:1999,exampleRequest:"http://climatedataapi.worldbank.org/climateweb/rest/v1/mavg/pr/USA/1980/1999"}},"annualavgs-country":{paramFormat:{country:"String - Full country name",start:"Number - Start year",end:"Number - End year",ISO3:"String - ISO3 country code (e.g., 'USA', 'GBR')",ext:"String - Response format extension (json, xml, csv)"},infoSource:"https://datahelpdesk.worldbank.org/knowledgebase/articles/902061-climate-data-api",example:{ISO3:"USA",start:1980,end:1999,exampleRequest:"http://climatedataapi.worldbank.org/climateweb/rest/v1/annualavg/pr/USA/1980/1999"}},"monavgs-basin":{paramFormat:{country:"String - Full country name",start:"Number - Start year",end:"Number - End year",basinID:"Number - Basin ID",ext:"String - Response format extension (json, xml, csv)"},infoSource:"https://datahelpdesk.worldbank.org/knowledgebase/articles/902061-climate-data-api",example:{basinID:123,start:1980,end:1999,exampleRequest:"http://climatedataapi.worldbank.org/climateweb/rest/v1/mavg/pr/basin/123/1980/1999"}},"annualavgs-basin":{paramFormat:{country:"String - Full country name",start:"Number - Start year",end:"Number - End year",basinID:"Number - Basin ID",ext:"String - Response format extension (json, xml, csv)"},infoSource:"https://datahelpdesk.worldbank.org/knowledgebase/articles/902061-climate-data-api",example:{basinID:123,start:1980,end:1999,exampleRequest:"http://climatedataapi.worldbank.org/climateweb/rest/v1/annualavg/pr/basin/123/1980/1999"}},"dailyprec-country":{paramFormat:{country:"String - Full country name",start:"Number - Start year",end:"Number - End year",ISO3:"String - ISO3 country code (e.g., 'USA', 'GBR')",ext:"String - Response format extension (json, xml, csv)"},infoSource:"https://datahelpdesk.worldbank.org/knowledgebase/articles/902061-climate-data-api",example:{ISO3:"USA",start:1980,end:1999,exampleRequest:"http://climatedataapi.worldbank.org/climateweb/rest/v1/ensemble/ppt_means/USA/1980/1999"}},"dailyprec-basin":{paramFormat:{country:"String - Full country name",start:"Number - Start year",end:"Number - End year",basinID:"Number - Basin ID",ext:"String - Response format extension (json, xml, csv)"},infoSource:"https://datahelpdesk.worldbank.org/knowledgebase/articles/902061-climate-data-api",example:{basinID:123,start:1980,end:1999,exampleRequest:"http://climatedataapi.worldbank.org/climateweb/rest/v1/ensemble/ppt_means/basin/123/1980/1999"}},"temperature-country":{paramFormat:{country:"String - Full country name",start:"Number - Start year",end:"Number - End year",ISO3:"String - ISO3 country code (e.g., 'USA', 'GBR')",ext:"String - Response format extension (json, xml, csv)"},infoSource:"https://datahelpdesk.worldbank.org/knowledgebase/articles/902061-climate-data-api",example:{ISO3:"USA",start:1980,end:1999,exampleRequest:"http://climatedataapi.worldbank.org/climateweb/rest/v1/mavg/tas/USA/1980/1999"}},"temperature-basin":{paramFormat:{country:"String - Full country name",start:"Number - Start year",end:"Number - End year",basinID:"Number - Basin ID",ext:"String - Response format extension (json, xml, csv)"},infoSource:"https://datahelpdesk.worldbank.org/knowledgebase/articles/902061-climate-data-api",example:{basinID:123,start:1980,end:1999,exampleRequest:"http://climatedataapi.worldbank.org/climateweb/rest/v1/mavg/tas/basin/123/1980/1999"}},indicators:{paramFormat:{format:"String - Response format (json, xml)",page:"Number - Page number for pagination",per_page:"Number - Number of results per page",source:"Number - Source ID for indicators",topic:"Number - Topic ID for indicators"},infoSource:"https://datahelpdesk.worldbank.org/knowledgebase/articles/889392-api-documentation",example:{format:"json",per_page:50,topic:19,exampleRequest:"https://api.worldbank.org/v2/indicator?format=json&per_page=50&topic=19"}},"country-indicators":{paramFormat:{country:"String - ISO2 or ISO3 country code or 'all' for all countries",indicator:"String - Indicator code (e.g., 'NY.GDP.MKTP.CD' for GDP)",date:"String - Date range (e.g., '2010:2020')",format:"String - Response format (json, xml)",per_page:"Number - Number of results per page",page:"Number - Page number for pagination"},infoSource:"https://datahelpdesk.worldbank.org/knowledgebase/articles/889392-api-documentation",example:{country:"USA",indicator:"NY.GDP.MKTP.CD",date:"2010:2020",format:"json",per_page:100,exampleRequest:"https://api.worldbank.org/v2/countries/USA/indicators/NY.GDP.MKTP.CD?format=json&date=2010:2020&per_page=100"}}}},s={"find-stations":{endpoint:"https://api.meteostat.net/v2/stations/search",params:{query:null,limit:null},methods:{type:"json",method:"GET"}},"nearby-stations":{endpoint:"https://api.meteostat.net/v2/stations/nearby",params:{lat:null,long:null,limit:null,radius:null},methods:{type:"json",method:"GET"}},"hourlydata-stations":{endpoint:"https://api.meteostat.net/v2/stations/hourly",params:{station:null,start:null,end:null,model:null},methods:{type:"json",method:"GET"}},"dailydata-station":{endpoint:"https://api.meteostat.net/v2/stations/daily",params:{station:null,start:null,end:null},methods:{type:"json",method:"GET"}},"hourlydata-point":{endpoint:"https://api.meteostat.net/v2/point/hourly",params:{lat:null,lon:null,alt:null,start:null,end:null,tz:null},methods:{type:"json",method:"GET"}},"dailydata-point":{endpoint:"https://api.meteostat.net/v2/point/daily",params:{lat:null,lon:null,alt:null,start:null,end:null},methods:{type:"json",method:"GET"}},bulkdata:{endpoint:"https://bulk.meteostat.net",params:{station:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!0,keyname:"x-api-key"},info:{returnFormats:"json",MoreInfo:"https://dev.meteostat.net/",About:"Meteostat data retrieval API. The API retrieves all the variables that are measured in a given station. Activation key format and name is 'x-api-key'."},"endpoint-info":{"find-stations":{paramFormat:{query:"String - Search query (e.g., 'Berlin')",limit:"Number - Maximum number of results to return"},infoSource:"https://dev.meteostat.net/api/stations/search.html",example:"https://api.meteostat.net/v2/stations/search?query=Berlin&limit=5"},"nearby-stations":{paramFormat:{lat:"Number - Latitude coordinate",long:"Number - Longitude coordinate",limit:"Number - Maximum number of results to return",radius:"Number - Search radius in kilometers"},infoSource:"https://dev.meteostat.net/api/stations/nearby.html",example:"https://api.meteostat.net/v2/stations/nearby?lat=52.52&lon=13.41&limit=5&radius=20"},"hourlydata-stations":{paramFormat:{station:"String - Station ID (e.g., '10382')",start:"String - Start date (YYYY-MM-DD format)",end:"String - End date (YYYY-MM-DD format)",model:"Boolean - Include model data (true/false)"},infoSource:"https://dev.meteostat.net/api/stations/hourly.html",example:"https://api.meteostat.net/v2/stations/hourly?station=10382&start=2020-01-01&end=2020-01-02"},"dailydata-station":{paramFormat:{station:"String - Station ID (e.g., '10382')",start:"String - Start date (YYYY-MM-DD format)",end:"String - End date (YYYY-MM-DD format)"},infoSource:"https://dev.meteostat.net/api/stations/daily.html",example:"https://api.meteostat.net/v2/stations/daily?station=10382&start=2020-01-01&end=2020-01-31"},"hourlydata-point":{paramFormat:{lat:"Number - Latitude coordinate",lon:"Number - Longitude coordinate",alt:"Number - Altitude in meters",start:"String - Start date (YYYY-MM-DD format)",end:"String - End date (YYYY-MM-DD format)",tz:"String - Timezone (e.g., 'Europe/Berlin')"},infoSource:"https://dev.meteostat.net/api/point/hourly.html",example:"https://api.meteostat.net/v2/point/hourly?lat=52.52&lon=13.41&start=2020-01-01&end=2020-01-10"},"dailydata-point":{paramFormat:{lat:"Number - Latitude coordinate",lon:"Number - Longitude coordinate",alt:"Number - Altitude in meters",start:"String - Start date (YYYY-MM-DD format)",end:"String - End date (YYYY-MM-DD format)"},infoSource:"https://dev.meteostat.net/api/point/daily.html",example:"https://api.meteostat.net/v2/point/daily?lat=52.52&lon=13.41&start=2020-01-01&end=2020-01-31"},bulkdata:{paramFormat:{station:"String - Station ID (e.g., '10382')"},infoSource:"https://dev.meteostat.net/bulk/",example:"https://bulk.meteostat.net/daily/10382.csv.gz"}}},l={stations:{endpoint:"https://opendata.aemet.es/opendata/api/observacion/convencional/datos/estacion/",params:{idema:null},methods:{type:"json",method:"GET"}},"stations-all":{endpoint:"https://opendata.aemet.es/opendata/api/observacion/convencional/todas",params:{},methods:{type:"json",method:"GET"}},messages:{endpoint:"https://opendata.aemet.es/opendata/api/observacion/convencional/mensajes/tipomensaje/",params:{tipomensaje:null},methods:{type:"json",method:"GET"}},"forecast-municipality-daily":{endpoint:"https://opendata.aemet.es/opendata/api/prediccion/especifica/municipio/diaria/",params:{municipio:null},methods:{type:"json",method:"GET"}},"forecast-municipality-hourly":{endpoint:"https://opendata.aemet.es/opendata/api/prediccion/especifica/municipio/horaria/",params:{municipio:null},methods:{type:"json",method:"GET"}},"forecast-beach":{endpoint:"https://opendata.aemet.es/opendata/api/prediccion/especifica/playa/",params:{playa:null},methods:{type:"json",method:"GET"}},"forecast-uv":{endpoint:"https://opendata.aemet.es/opendata/api/prediccion/especifica/uvi/",params:{dia:null},methods:{type:"json",method:"GET"}},"forecast-mountain-area":{endpoint:"https://opendata.aemet.es/opendata/api/prediccion/especifica/montaña/pasada/area/",params:{area:null},methods:{type:"json",method:"GET"}},"daily-station":{endpoint:"https://opendata.aemet.es/opendata/api/valores/climatologicos/diarios/datos/fechaini/",params:{fechaIniStr:null,fechaFinStr:null,idema:null},methods:{type:"json",method:"GET"}},"clima-daily-all":{endpoint:"https://opendata.aemet.es/opendata/api/valores/climatologicos/diarios/datos/fechaini/",params:{fechaIniStr:null,fechaFinStr:null,suffix:"todasestaciones"},methods:{type:"json",method:"GET"}},"clima-inventory-station":{endpoint:"https://opendata.aemet.es/opendata/api/valores/climatologicos/inventarioestaciones/estaciones/",params:{estaciones:null},methods:{type:"json",method:"GET"}},"clima-inventory-all":{endpoint:"https://opendata.aemet.es/opendata/api/valores/climatologicos/inventarioestaciones/todasestaciones",params:{},methods:{type:"json",method:"GET"}},"clima-monthly-annual":{endpoint:"https://opendata.aemet.es/opendata/api/valores/climatologicos/mensualesanuales/datos/anioini/",params:{anioIniStr:null,anioFinStr:null,idema:null},methods:{type:"json",method:"GET"}},"clima-normals":{endpoint:"https://opendata.aemet.es/opendata/api/valores/climatologicos/normales/estacion/",params:{idema:null},methods:{type:"json",method:"GET"}},"clima-extremes":{endpoint:"https://opendata.aemet.es/opendata/api/valores/climatologicos/valoresextremos/parametro/",params:{parametro:null,idema:null},methods:{type:"json",method:"GET"}},"sat-ndvi":{endpoint:"https://opendata.aemet.es/opendata/api/satelites/producto/nvdi",params:{},methods:{type:"json",method:"GET"}},"sat-sst":{endpoint:"https://opendata.aemet.es/opendata/api/satelites/producto/sst",params:{},methods:{type:"json",method:"GET"}},"map-analysis":{endpoint:"https://opendata.aemet.es/opendata/api/mapasygraficos/analisis",params:{},methods:{type:"json",method:"GET"}},"map-significant":{endpoint:"https://opendata.aemet.es/opendata/api/mapasygraficos/mapassignificativos/fecha/",params:{fecha:null,ambito:null,dia:null},methods:{type:"json",method:"GET"}},"master-municipality":{endpoint:"https://opendata.aemet.es/opendata/api/maestro/municipio/",params:{municipio:null},methods:{type:"json",method:"GET"}},"master-municipalities":{endpoint:"https://opendata.aemet.es/opendata/api/maestro/municipios",params:{},methods:{type:"json",method:"GET"}},"product-water-balance":{endpoint:"https://opendata.aemet.es/opendata/api/productos/climatologicos/balancehidrico/",params:{anio:null,decena:null},methods:{type:"json",method:"GET"}},"product-climate-summary":{endpoint:"https://opendata.aemet.es/opendata/api/productos/climatologicos/resumenclimatologico/nacional/",params:{anio:null,mes:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!0,keyname:"api_key"},info:{returnFormats:"json",MoreInfo:"https://opendata.aemet.es/dist/index.html",About:"AEMET: API REST from the Spanish Meteorological Service. Requires API key."},"endpoint-info":{stations:{paramFormat:{idema:"String - Station identifier (e.g., '3195')"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/observacion-convencional/Datos_de_observaci%C3%B3n_Tiempo_actual_1",example:{idema:"3195"}},"stations-all":{paramFormat:{},infoSource:"https://opendata.aemet.es/dist/index.html?#!/observacion-convencional/Datos_de_observaci%C3%B3n_Tiempo_actual_1",example:{}},messages:{paramFormat:{tipomensaje:"String - Message type (e.g., 'synop', 'temp', 'climat')"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/observacion-convencional/Mensajes_de_observaci%C3%B3n_1",example:{tipomensaje:"synop"}},"forecast-municipality-daily":{paramFormat:{municipio:"String - Municipality code (e.g., '28079' for Madrid)"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/predicciones-especificas/Predicci_n_por_municipios_diaria_1",example:{municipio:"28079"}},"forecast-municipality-hourly":{paramFormat:{municipio:"String - Municipality code (e.g., '28079')"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/predicciones-especificas/Predicci_n_por_municipios_horaria_1",example:{municipio:"28079"}},"forecast-beach":{paramFormat:{playa:"String - Beach code (e.g., '1100101')"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/predicciones-especificas/Predicci_n_mar_tima_de_playas_1",example:{playa:"1100101"}},"forecast-uv":{paramFormat:{dia:"Integer - Day offset (0=today, 1=tomorrow, etc.)"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/predicciones-especificas/Predicci_n_de_radiaci_n_ultravioleta_UVI_1",example:{dia:"0"}},"forecast-mountain-area":{paramFormat:{area:"String - Mountain area code (e.g., 'py1' for Pirineo Aragonés)"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/predicciones-especificas/Predicci_n_de_monta_a_pasada_1",example:{area:"py1"}},"daily-station":{paramFormat:{fechaIniStr:"String - Start date (YYYY-MM-DDTHH:MM:SSUTC)",fechaFinStr:"String - End date (YYYY-MM-DDTHH:MM:SSUTC)",idema:"String - Station ID"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/valores-climatologicos/Climatolog_as_diarias_1",example:{fechaIniStr:"2020-01-01T00:00:00UTC",fechaFinStr:"2020-01-31T23:59:59UTC",idema:"3195"}},"clima-daily-all":{paramFormat:{fechaIniStr:"String - Start date (YYYY-MM-DDTHH:MM:SSUTC)",fechaFinStr:"String - End date (YYYY-MM-DDTHH:MM:SSUTC)"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/valores-climatologicos/Climatolog_as_diarias_1",example:{fechaIniStr:"2020-01-01T00:00:00UTC",fechaFinStr:"2020-01-02T23:59:59UTC"}},"clima-inventory-station":{paramFormat:{estaciones:"String - Station ID"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/valores-climatologicos/Inventario_de_estaciones_1",example:{estaciones:"3195"}},"clima-inventory-all":{paramFormat:{},infoSource:"https://opendata.aemet.es/dist/index.html?#!/valores-climatologicos/Inventario_de_estaciones_1",example:{}},"clima-monthly-annual":{paramFormat:{anioIniStr:"String - Start Year (YYYY)",anioFinStr:"String - End Year (YYYY)",idema:"String - Station ID"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/valores-climatologicos/Climatolog_as_mensuales_anuales_1",example:{anioIniStr:"2015",anioFinStr:"2020",idema:"3195"}},"clima-normals":{paramFormat:{idema:"String - Station ID"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/valores-climatologicos/Valores_normales_1",example:{idema:"3195"}},"clima-extremes":{paramFormat:{parametro:"String - Parameter (P, T, V)",idema:"String - Station ID"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/valores-climatologicos/Valores_extremos_1",example:{parametro:"T",idema:"3195"}},"sat-ndvi":{paramFormat:{},infoSource:"https://opendata.aemet.es/dist/index.html?#!/informacion-satelite/Producto_NDVI_1",example:{}},"sat-sst":{paramFormat:{},infoSource:"https://opendata.aemet.es/dist/index.html?#!/informacion-satelite/Producto_SST_1",example:{}},"map-analysis":{paramFormat:{},infoSource:"https://opendata.aemet.es/dist/index.html?#!/mapas-y-graficos/Mapas_de_an_lisis_1",example:{}},"map-significant":{paramFormat:{fecha:"String - Date (YYYY-MM-DD)",ambito:"String - Scope (esp, eur)",dia:"String - Day offset (a, b, c...)"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/mapas-y-graficos/Mapas_significativos_1",example:{fecha:"2024-01-01",ambito:"esp",dia:"a"}},"master-municipality":{paramFormat:{municipio:"String - Municipality ID"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/maestro/Municipios_1",example:{municipio:"28079"}},"master-municipalities":{paramFormat:{},infoSource:"https://opendata.aemet.es/dist/index.html?#!/maestro/Municipios_1",example:{}},"product-water-balance":{paramFormat:{anio:"String - Year",decena:"String - Decad (01-36)"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/productos-climatologicos/Balance_h_drico_nacional_por_decenas_1",example:{anio:"2024",decena:"01"}},"product-climate-summary":{paramFormat:{anio:"String - Year",mes:"String - Month (01-12)"},infoSource:"https://opendata.aemet.es/dist/index.html?#!/productos-climatologicos/Resumen_climatol_gico_mensual_nacional_1",example:{anio:"2024",mes:"01"}}}},d={"flood-warnings":{endpoint:"http://environment.data.gov.uk/flood-monitoring/id/floods",params:{"min-severity":null,county:null,lat:null,long:null},methods:{type:"json",method:"GET"}},"flood-areas":{endpoint:"http://environment.data.gov.uk/flood-monitoring/id/floodAreas/context.jsonId",params:{search:null,lat:null,long:null,dist:null},methods:{type:"json",method:"GET"}},"flood-stations":{endpoint:"http://environment.data.gov.uk/flood-monitoring/id/stations",params:{parameterName:null,qualifier:null,label:null,town:null,catchmentName:null,search:null},methods:{type:"json",method:"GET"}},"list-floodstations":{endpoint:"http://environment.data.gov.uk/flood-monitoring/id/stations",params:{parameter:null,label:null,stationReference:null,search:null,lat:null,long:null,dist:null},methods:{type:"json",method:"GET"}},"data-floodstations":{endpoint:"http://environment.data.gov.uk/flood-monitoring/data/readings",params:{parameter:null,latest:null,today:null,date:null,startdate:null,enddate:null,since:null,stationReference:null},methods:{type:"json",method:"GET"}},"list-wq-sampling":{endpoint:"http://environment.data.gov.uk/water-quality/id/sampling-point",params:{lat:null,lon:null,easting:null,northing:null,dist:null},methods:{type:"json",method:"GET"}},"data-wqsite":{endpoint:"http://environment.data.gov.uk/water-quality/id/sampling-point/{id}/measurements",params:{startDate:null,endDate:null,year:null,purpose:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://environment.data.gov.uk/apiportal",About:"Data gov uk: provides API for free datasets from the UK and other parts of the world. The service does not require an API key, but, size limitations should be considered when downloading data."},"endpoint-info":{"flood-warnings":{paramFormat:{"min-severity":"String - Minimum severity level (e.g., 1, 2, 3, 4)",county:"String - County name",lat:"Number - Latitude coordinate",long:"Number - Longitude coordinate"},infoSource:"https://environment.data.gov.uk/flood-monitoring/doc/reference",example:"http://environment.data.gov.uk/flood-monitoring/id/floods?county=Gloucestershire"},"flood-areas":{paramFormat:{search:"String - Search term",lat:"Number - Latitude coordinate",long:"Number - Longitude coordinate",dist:"Number - Search radius in km"},infoSource:"https://environment.data.gov.uk/flood-monitoring/doc/reference",example:"http://environment.data.gov.uk/flood-monitoring/id/floodAreas/context.jsonId?search=Severn&lat=51.86&long=-2.24&dist=5"},"flood-stations":{paramFormat:{parameterName:"String - Parameter name (e.g., 'rainfall', 'flow', 'level')",qualifier:"String - Qualifier for the parameter",label:"String - Station label",town:"String - Town name",catchmentName:"String - Catchment name",search:"String - Search term"},infoSource:"https://environment.data.gov.uk/flood-monitoring/doc/reference",example:"http://environment.data.gov.uk/flood-monitoring/id/stations?parameterName=rainfall&town=Gloucester"},"list-floodstations":{paramFormat:{parameter:"String - Parameter name (e.g., 'rainfall', 'flow', 'level')",label:"String - Station label",stationReference:"String - Station reference code",search:"String - Search term",lat:"Number - Latitude coordinate",long:"Number - Longitude coordinate",dist:"Number - Search radius in km"},infoSource:"https://environment.data.gov.uk/flood-monitoring/doc/reference",example:"http://environment.data.gov.uk/flood-monitoring/id/stations?parameter=rainfall&lat=51.86&long=-2.24&dist=5"},"data-floodstations":{paramFormat:{parameter:"String - Parameter name (e.g., 'rainfall', 'flow', 'level')",latest:"Boolean - Return only latest readings",today:"Boolean - Return only today's readings",date:"String - Specific date (YYYY-MM-DD)",startdate:"String - Start date (YYYY-MM-DD)",enddate:"String - End date (YYYY-MM-DD)",since:"String - Date-time since when to return data",stationReference:"String - Station reference code"},infoSource:"https://environment.data.gov.uk/flood-monitoring/doc/reference",example:"http://environment.data.gov.uk/flood-monitoring/data/readings?parameter=rainfall&stationReference=E2043&startdate=2020-01-01&enddate=2020-01-07"},"list-wq-sampling":{paramFormat:{lat:"Number - Latitude coordinate",lon:"Number - Longitude coordinate",easting:"Number - Easting coordinate (OSGB36)",northing:"Number - Northing coordinate (OSGB36)",dist:"Number - Search radius in km"},infoSource:"https://environment.data.gov.uk/water-quality/doc/reference",example:"http://environment.data.gov.uk/water-quality/id/sampling-point?lat=51.86&lon=-2.24&dist=5"},"data-wqsite":{paramFormat:{startDate:"String - Start date (YYYY-MM-DD)",endDate:"String - End date (YYYY-MM-DD)",year:"Number - Specific year",purpose:"String - Sampling purpose"},infoSource:"https://environment.data.gov.uk/water-quality/doc/reference",example:"http://environment.data.gov.uk/water-quality/id/sampling-point/AN-WAL01/measurements?startDate=2020-01-01&endDate=2020-12-31"}}},c={"station-daily":{endpoint:"https://api.meteonetwork.it/v3/data-daily",params:{station_code:null,observation_date:null,data_quality:null},methods:{type:"json",method:"POST"}},"stations-lastdays":{endpoint:"http://api.meteonetwork.it/xml_rpc/public/jsonrpc/getDailyStationLastDays",params:{username:null,token:null,stationCode:null,stationValidity:null},methods:{type:"json",method:"POST"}},"station-singledate":{endpoint:"http://api.meteonetwork.it/xml_rpc/public/jsonrpc/getDailyStationSingleDate",params:{username:null,token:null,stationCode:null,date:null,stationValidity:null},methods:{type:"json",method:"POST"}},"stations-singledate":{endpoint:"http://api.meteonetwork.it/xml_rpc/public/jsonrpc/getDailyStationsSingleDate",params:{username:null,token:null,date:null,stationValidity:null},methods:{type:"json",method:"POST"}},"stations-singledate-country":{endpoint:"http://api.meteonetwork.it/xml_rpc/public/jsonrpc/getDailyStationsSingleDateByCountry",params:{username:null,token:null,date:null,countryCode:null,stationValidity:null},methods:{type:"json",method:"POST"}},NearStations:{endpoint:"http://api.meteonetwork.it/xml_rpc/public/jsonrpc/getNearStations",params:{username:null,token:null,lat:null,lon:null,range:null,stationValidity:null},methods:{type:"json",method:"POST"}},requirements:{needProxy:!0,requireskey:!0,keyname:"token"},info:{returnFormats:"json",MoreInfo:"http://api.meteonetwork.it/docs/",About:"MeteoNetwork API: free datasets from Italy and some surrounding places. The service requires the creation of an account and the generation of a new token."},"endpoint-info":{"station-daily":{paramFormat:{station_code:"String - Station code",observation_date:"String - Observation date (YYYY-MM-DD format)",data_quality:"String - Data quality filter"},infoSource:"http://api.meteonetwork.it/docs/",example:'POST to https://api.meteonetwork.it/v3/data-daily with body: {"station_code":"1","observation_date":"2020-01-01"}'},"stations-lastdays":{paramFormat:{username:"String - Your username",token:"String - Your API token",stationCode:"String - Station code",stationValidity:"String - Station validity status"},infoSource:"http://api.meteonetwork.it/docs/",example:'POST to http://api.meteonetwork.it/xml_rpc/public/jsonrpc/getDailyStationLastDays with body: {"username":"yourusername","token":"yourtoken","stationCode":"1"}'},"station-singledate":{paramFormat:{username:"String - Your username",token:"String - Your API token",stationCode:"String - Station code",date:"String - Date (YYYY-MM-DD format)",stationValidity:"String - Station validity status"},infoSource:"http://api.meteonetwork.it/docs/",example:'POST to http://api.meteonetwork.it/xml_rpc/public/jsonrpc/getDailyStationSingleDate with body: {"username":"yourusername","token":"yourtoken","stationCode":"1","date":"2020-01-01"}'},"stations-singledate":{paramFormat:{username:"String - Your username",token:"String - Your API token",date:"String - Date (YYYY-MM-DD format)",stationValidity:"String - Station validity status"},infoSource:"http://api.meteonetwork.it/docs/",example:'POST to http://api.meteonetwork.it/xml_rpc/public/jsonrpc/getDailyStationsSingleDate with body: {"username":"yourusername","token":"yourtoken","date":"2020-01-01"}'},"stations-singledate-country":{paramFormat:{username:"String - Your username",token:"String - Your API token",date:"String - Date (YYYY-MM-DD format)",countryCode:"String - Country code (e.g., 'IT')",stationValidity:"String - Station validity status"},infoSource:"http://api.meteonetwork.it/docs/",example:'POST to http://api.meteonetwork.it/xml_rpc/public/jsonrpc/getDailyStationsSingleDateByCountry with body: {"username":"yourusername","token":"yourtoken","date":"2020-01-01","countryCode":"IT"}'},NearStations:{paramFormat:{username:"String - Your username",token:"String - Your API token",lat:"Number - Latitude coordinate",lon:"Number - Longitude coordinate",range:"Number - Search radius in kilometers",stationValidity:"String - Station validity status"},infoSource:"http://api.meteonetwork.it/docs/",example:'POST to http://api.meteonetwork.it/xml_rpc/public/jsonrpc/getNearStations with body: {"username":"yourusername","token":"yourtoken","lat":45.4642,"lon":9.1900,"range":10}'}}},u={"stream-data":{endpoint:"http://ifis.iowafloodcenter.org/ifis/ws/sites.php?",params:{site:null,period:null,format:null},methods:{type:"xml",method:"GET"}},"sensor-elevation":{endpoint:"http://ifis.iowafloodcenter.org/ifis/ws/elev_sites.php?",params:{site:null,period:null,format:null},methods:{type:"xml",method:"GET"}},"soil-moisture":{endpoint:"http://ifis.iowafloodcenter.org/ifis/ws/elev_sites.php?",params:{site:null,period:null,format:null},methods:{type:"xml",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"xml",MoreInfo:"https://ifis.iowafloodcenter.org/ifis/ws/",About:"This API returns data from the IFIS web service."},"endpoint-info":{"stream-data":{paramFormat:{site:"String - Site code (e.g., 'AMEI4')",period:"String - Time period (e.g., '7d' for 7 days)",format:"String - Output format (xml is default)"},infoSource:"https://ifis.iowafloodcenter.org/ifis/ws/",example:"http://ifis.iowafloodcenter.org/ifis/ws/sites.php?site=AMEI4&period=7d"},"sensor-elevation":{paramFormat:{site:"String - Site code (e.g., 'AMEI4')",period:"String - Time period (e.g., '7d' for 7 days)",format:"String - Output format (xml is default)"},infoSource:"https://ifis.iowafloodcenter.org/ifis/ws/",example:"http://ifis.iowafloodcenter.org/ifis/ws/elev_sites.php?site=CR02&period=7d"},"soil-moisture":{paramFormat:{site:"String - Site code (e.g., 'SM01')",period:"String - Time period (e.g., '7d' for 7 days)",format:"String - Output format (xml is default)"},infoSource:"https://ifis.iowafloodcenter.org/ifis/ws/",example:"http://ifis.iowafloodcenter.org/ifis/ws/elev_sites.php?site=SM01&period=7d"}}},m={"req-data":{endpoint:"https://bmi-data-service.herokuapp.com/links/",params:{link:null,startDate:null,endDate:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!1,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://ifis.iowafloodcenter.org/ifis/sc/modelplus/",About:"Data specific for the development of a case study for the implementation of BMI.js standard. This application has been developed and deployed using MRMS-Stage IV data obtained for the IFC HLM model for the Clear Creek in Iowa."},"endpoint-info":{"req-data":{paramFormat:{link:"String - Link identifier for the dataset",startDate:"String - Start date (YYYY-MM-DD format)",endDate:"String - End date (YYYY-MM-DD format)"},infoSource:"https://ifis.iowafloodcenter.org/ifis/sc/modelplus/",example:"https://bmi-data-service.herokuapp.com/links/?startDate=2020-01-01&endDate=2020-01-31"}}},p={precipitation:{endpoint:"https://qed.epa.gov/hms/rest/api/meteorology/precipitation",params:{source:null,dateTimeSpan:{startDate:null,endDate:null,dateTimeFormat:"yyyy-MM-dd HH"},geometry:{hucID:null,stationID:null,point:{latitude:null,longitude:null},geometryMetadata:null,timezone:null},dataValueFormat:"E3",temporalResolution:"default",timeLocalized:!1,units:"metric",outputFormat:"null",baseURL:null,inputTimeSeries:null},methods:{type:"json",method:"POST"}},evapotranspiration:{endpoint:"https://qed.epa.gov/hms/rest/api/v3/hydrology/evapotranspiration",params:{source:null,dateTimeSpan:{startDate:null,endDate:null,dateTimeFormat:"yyyy-MM-dd HH"},geometry:{hucID:null,stationID:null,point:{latitude:null,longitude:null},geometryMetadata:null,timezone:null},dataValueFormat:"E3",temporalResolution:"default",timeLocalized:!1,units:"metric",outputFormat:"null",baseURL:null,inputTimeSeries:null},methods:{type:"json",method:"POST"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://qed.epa.gov/hms/meteorology/precipitation/data_request/",About:"Data endpoints for the Hydrologic Micro Services from the EPA. HydroLang supports the requests through AJAX calls to the server."},"endpoint-info":{precipitation:{paramFormat:{source:"String - Data source (e.g., 'nldas', 'gldas', 'nexrad', 'ncei', 'prism')",dateTimeSpan:{startDate:"String - Start date (YYYY-MM-DD HH format)",endDate:"String - End date (YYYY-MM-DD HH format)",dateTimeFormat:"String - Format of date-time (yyyy-MM-dd HH)"},geometry:{hucID:"String - HUC ID (e.g., '03120001')",stationID:"String - Station ID",point:{latitude:"Number - Latitude coordinate",longitude:"Number - Longitude coordinate"},geometryMetadata:"Object - Additional metadata",timezone:"String - Timezone"},dataValueFormat:"String - Data value format (e.g., 'E3')",temporalResolution:"String - Temporal resolution (e.g., 'default', 'hourly')",timeLocalized:"Boolean - Whether time is localized",units:"String - Units (e.g., 'metric', 'imperial')",outputFormat:"String - Output format"},infoSource:"https://qed.epa.gov/hms/meteorology/precipitation/#output_parameters",example:'POST to https://qed.epa.gov/hms/rest/api/meteorology/precipitation\n      {\n        "source": "nldas",\n        "dateTimeSpan": {\n          "startDate": "2020-01-01 00",\n          "endDate": "2020-01-07 00",\n          "dateTimeFormat": "yyyy-MM-dd HH"\n        },\n        "geometry": {\n          "point": {\n            "latitude": 33.925,\n            "longitude": -83.356\n          }\n        },\n        "dataValueFormat": "E3",\n        "temporalResolution": "hourly",\n        "units": "metric"\n      }'},evapotranspiration:{paramFormat:{source:"String - Data source (e.g., 'nldas', 'gldas')",dateTimeSpan:{startDate:"String - Start date (YYYY-MM-DD HH format)",endDate:"String - End date (YYYY-MM-DD HH format)",dateTimeFormat:"String - Format of date-time (yyyy-MM-dd HH)"},geometry:{hucID:"String - HUC ID (e.g., '03120001')",stationID:"String - Station ID",point:{latitude:"Number - Latitude coordinate",longitude:"Number - Longitude coordinate"},geometryMetadata:"Object - Additional metadata",timezone:"String - Timezone"},dataValueFormat:"String - Data value format (e.g., 'E3')",temporalResolution:"String - Temporal resolution (e.g., 'default', 'hourly')",timeLocalized:"Boolean - Whether time is localized",units:"String - Units (e.g., 'metric', 'imperial')",outputFormat:"String - Output format"},infoSource:"https://qed.epa.gov/hms/hydrology/evapotranspiration/#input_parameters",example:'POST to https://qed.epa.gov/hms/rest/api/v3/hydrology/evapotranspiration\n      {\n        "source": "nldas",\n        "dateTimeSpan": {\n          "startDate": "2020-01-01 00",\n          "endDate": "2020-01-07 00",\n          "dateTimeFormat": "yyyy-MM-dd HH"\n        },\n        "geometry": {\n          "point": {\n            "latitude": 33.925,\n            "longitude": -83.356\n          }\n        },\n        "dataValueFormat": "E3",\n        "temporalResolution": "hourly",\n        "units": "metric"\n      }'}}},h={availableSources:["USGS Daily Values","USGS GroundWater","USGS Unit Values","Andrew Forest StreamFlow","Curated Brazilian Savana","Aquatic Habitat Lab CALVIN","Crowd Hydrology","Corpus Christi Bay","California DEC","Cedar River WS Forest","Clarksburg CSU","Commmunity Rain Network","Coopercreek Watershed","Charles River Watershed","Cornell Six Mile Isotopes","Delaware River WS","Farmington River Watershed","Florida Everglades LTER","FSU Hydrowell","NOAA GHCN","Boston Harbor","MOPEX","Swedish Monitoring","Humedales Atacama","Global Rivers","NLDAS Hourly Forcings","NLDAS Hourly NOAH Data"],action:"http://www.cuahsi.org/his/1.1/ws/",sourceType:e=>{var t="";switch(e){case"USGS Daily Values":t="nwisdv";break;case"USGS GroundWater":t="nwisgw";break;case"USGS Unit Values":t="nwisuv";break;case"Andrew Forest StreamFlow":t="Andrewsforestlter";break;case"Curated Brazilian Savana":t="Brazil_UCB";break;case"Aquatic Habitat Lab CALVIN":t="CALVIN_HHS";break;case"Crowd Hydrology":t="MobileCrowdHydrology";break;case"Corpus Christi Bay":t="CCBEPDAP";break;case"California DEC":t="CDEC";break;case"Cedar River WS Forest":t="cedarriver";break;case"Clarksburg CSU":t="clarksburg_sp";break;case"Commmunity Rain Network":t="CocoRaHs";break;case"Coopercreek Watershed":t="Coopercreek";break;case"Charles River Watershed":t="Charles_River_WA";break;case"Cornell Six Mile Isotopes":t="CUISO";break;case"Delaware River WS":t="DRWI";break;case"Farmington River Watershed":t="FRWA";break;case"Florida Everglades LTER":t="FCELTER";break;case"FSU Hydrowell":t="FSUHydro";break;case"NOAA GHCN":t="ghcn";break;case"Boston Harbor":t="MWRA";break;case"MOPEX":t="MOPEX";break;case"Swedish Monitoring":t="SwedishMonitoringData";break;case"Humedales Atacama":t="Ramsar_atacama";break;case"Global Rivers":t="GlobalRiversObservatory";break;case"NLDAS Hourly Forcings":t="NLDAS_FORA";break;case"NLDAS Hourly NOAH Data":t="NLDAS_NOAH";break;default:console.log("Default value returned, there might be an error on the request. Revise parameters."),t="ipswich"}return`https://hydroportal.cuahsi.org/${t}/cuahsi_1_1.asmx`},GetSiteInfo:{body:e=>`<GetSiteInfo xmlns="${h.action}"><site>${Object.values(e).map(e=>`NetworkName:${e}`).join("")}</site></GetSiteInfo>`,methods:{type:"soap",method:"POST"}},GetSiteInfoMultpleObject:{body:e=>`<GetSiteInfoMultpleObject xmlns="${h.action}"><site>${Object.values(e).map(e=>`<string>NetworkName:${e}</string>`).join("")}</site></GetSiteInfoMultpleObject>`,methods:{type:"soap",method:"POST"}},GetSiteInfoObject:{body:e=>`<GetSiteInfoObject xmlns="${h.action}"><site>${Object.values(e).map(e=>`NetworkName:${e}`).join("")}</site></GetSiteInfoObject>`,methods:{type:"soap",method:"POST"}},GetSites:{body:e=>`<GetSites xmlns="${h.action}"><site>${Object.values(e).map(e=>`<string>NetworkName:${e}</string>`).join("")}</site></GetSites>`,methods:{type:"soap",method:"POST"}},GetSitesByBoxObject:{body:e=>`<GetSitesByBoxObject xmlns="${h.action}"><west>${e.west}</west><south>${e.south}</south><east>${e.east}</east><north>${e.north}</north><IncludeSeries>true</IncludeSeries></GetSitesByBoxObject>`,methods:{type:"soap",method:"POST"}},GetSitesObject:{body:e=>`<GetSitesObject xmlns="${h.action}"><site>${Object.values(e).map(e=>`<string>NetworkName:${e}</string>`).join("")}</site></GetSitesObject>`,methods:{type:"soap",method:"POST"}},GetValues:{body:e=>`<GetValues xmlns="${h.action}"><location>NetworkName:${e.location}</location><variable>NetworkName:${e.variable}</variable><startDate>${e.startDate}</startDate><endDate>${e.endDate}</endDate></GetValues>`,methods:{type:"soap",method:"POST"}},GetValuesForASiteObject:{body:e=>`<GetValuesForASiteObject xmlns="${h.action}"><site>NetworkName:${e.site}</site><startDate>${e.startDate}</startDate><endDate>${e.endDate}</endDate></GetValuesForASiteObject>`,methods:{type:"soap",method:"POST"}},GetValuesObject:{body:e=>`<GetValuesObject xmlns="${h.action}"><location>NetworkName:${e.location}</location><variable>NetworkName:${e.variable}</variable><startDate>${e.startDate}</startDate><endDate>${e.endDate}</endDate></GetValuesObject>`,methods:{type:"soap",method:"POST"}},GetVariableInfo:{body:e=>`<GetVariableInfo xmlns="${h.action}"><variable>${Object.values(e).map(e=>`NetworkName:${e}`).join("")}</variable></GetVariableInfo>`,methods:{type:"soap",method:"POST"}},GetVariableInfoObject:{body:e=>`<GetVariableInfoObject xmlns="${h.action}"><variable>${Object.values(e).map(e=>`NetworkName:${e}`).join("")}</variable></GetVariableInfoObject>`,methods:{type:"soap",method:"POST"}},GetVariables:{body:()=>`<GetVariables xmlns="${h.action}"></GetVariables>`,methods:{type:"soap",method:"POST"}},GetVariablesObject:{body:()=>`<GetVariablesObject xmlns="${h.action}"></GetVariablesObject>`,methods:{type:"soap",method:"POST"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"soap",MoreInfo:"https://hydroportal.cuahsi.org/ipswich/",About:"Data endpoints for the CUAHSI HIS WaterOneFlow services. The services accessed require POST requests through SOAP protocol."},"endpoint-info":{sourceType:{paramFormat:{type:"String - Name of the data source (e.g., 'USGS Daily Values', 'USGS GroundWater')"},infoSource:"https://hydroportal.cuahsi.org/",example:"waterOneFlow.sourceType('USGS Daily Values') returns 'https://hydroportal.cuahsi.org/nwisdv/cuahsi_1_1.asmx'"},GetSiteInfo:{paramFormat:{site:"String/Array - Network name and site code (e.g., 'NetworkName:01234567')"},infoSource:"https://hydroportal.cuahsi.org/ipswich/cuahsi_1_1.asmx?op=GetSiteInfo",example:'Requires SOAP request with body: <GetSiteInfo xmlns="http://www.cuahsi.org/his/1.1/ws/"><site>NetworkName:01234567</site></GetSiteInfo>'},GetSites:{paramFormat:{site:"Array - Array of network name and site codes (e.g., ['NetworkName:01234567', 'NetworkName:01234568'])"},infoSource:"https://hydroportal.cuahsi.org/ipswich/cuahsi_1_1.asmx?op=GetSites",example:'Requires SOAP request with body: <GetSites xmlns="http://www.cuahsi.org/his/1.1/ws/"><site><string>NetworkName:01234567</string><string>NetworkName:01234568</string></site></GetSites>'},GetSitesByBoxObject:{paramFormat:{west:"Number - Western longitude boundary",south:"Number - Southern latitude boundary",east:"Number - Eastern longitude boundary",north:"Number - Northern latitude boundary"},infoSource:"https://hydroportal.cuahsi.org/ipswich/cuahsi_1_1.asmx?op=GetSitesByBoxObject",example:'Requires SOAP request with body: <GetSitesByBoxObject xmlns="http://www.cuahsi.org/his/1.1/ws/"><west>-71.5</west><south>42.2</south><east>-70.5</east><north>43.0</north><IncludeSeries>true</IncludeSeries></GetSitesByBoxObject>'},GetValues:{paramFormat:{location:"String - Network name and site code (e.g., 'NetworkName:01234567')",variable:"String - Network name and variable code (e.g., 'NetworkName:00060')",startDate:"String - Start date (YYYY-MM-DD format)",endDate:"String - End date (YYYY-MM-DD format)"},infoSource:"https://hydroportal.cuahsi.org/ipswich/cuahsi_1_1.asmx?op=GetValues",example:'Requires SOAP request with body: <GetValues xmlns="http://www.cuahsi.org/his/1.1/ws/"><location>NetworkName:01234567</location><variable>NetworkName:00060</variable><startDate>2020-01-01</startDate><endDate>2020-01-31</endDate></GetValues>'},GetVariables:{paramFormat:{},infoSource:"https://hydroportal.cuahsi.org/ipswich/cuahsi_1_1.asmx?op=GetVariables",example:'Requires SOAP request with body: <GetVariables xmlns="http://www.cuahsi.org/his/1.1/ws/"></GetVariables>'}}},f={action:"http://hiscentral.cuahsi.org/20100205/",sourceType:e=>(void 0===typeof e&&(e=""),"https://hiscentral.cuahsi.org/webservices/hiscentral.asmx"),GetControlledVocabulary:{endpoint:"https://hiscentral.cuahsi.org/webservices/hiscentral.asmx",body:e=>`<GetControlledVocabulary xmlns="${f.action}"><cvField>${e.cvField}</cvField></GetControlledVocabulary>`,methods:{type:"soap",method:"POST"}},GetWaterOneFlowServiceInfo:{endpoint:"https://hiscentral.cuahsi.org/webservices/hiscentral.asmx",body:()=>`<GetWaterOneFlowServiceInfo xmlns="${f.action}"></GetWaterOneFlowServiceInfo>`,methods:{type:"soap",method:"POST"}},GetCountOrData:{endpoint:"https://hiscentral.cuahsi.org/webservices/hiscentral.asmx",body:e=>`<GetCountOrData xmlns="${f.action}">\n        <getData>true</getData>\n        <getFacetOnCV>true</getFacetOnCV>\n        <xmin>${void 0===e.xmin?"":e.xmin}</xmin>\n        <xmax>${void 0===e.xmax?"":e.xmax}</xmax>\n        <ymin>${void 0===e.ymin?"":e.ymin}</ymin>\n        <ymax>${void 0===e.ymax?"":e.ymax}</ymax>\n        <sampleMedium>${void 0===e.sampleMedium?"":e.sampleMedium}</sampleMedium>\n        <dataType>${void 0===e.dataType?"":e.dataType}</dataType>\n        <valueType>${void 0===e.valueType?"":e.valueType}</valueType>\n        <generalCategory>${void 0===e.generalCat?"":e.generalCat}</generalCategory>\n        <conceptKeyword>${void 0===e.conceptKey?"":e.conceptKey}</conceptKeyword>\n        <networkIDs>${void 0===e.networkID?"":e.networkID}</networkIDs>\n        <beginDate>${void 0===e.startDate?"":e.startDate}</beginDate>\n        <endDate>${void 0===e.endDate?"":e.endDate}</endDate>\n        </GetCountOrData>`,methods:{type:"soap",method:"POST"}},GetSearchableConcepts:{endpoint:"https://hiscentral.cuahsi.org/webservices/hiscentral.asmx",body:()=>`<GetSearchableConcepts xmlns="${f.action}"></GetSearchableConcepts>`,methods:{type:"soap",method:"POST"}},GetSeriesCatalogForBox2:{endpoint:"https://hiscentral.cuahsi.org/webservices/hiscentral.asmx",body:e=>`<GetSeriesCatalogForBox2 xmlns="${f.action}">\n        <xmin>${void 0===e.xmin?"":e.xmin}</xmin>\n        <xmax>${void 0===e.xmax?"":e.xmax}</xmax>\n        <ymin>${void 0===e.ymin?"":e.ymin}</ymin>\n        <ymax>${void 0===e.ymax?"":e.ymax}</ymax>\n        <conceptKeyword>${void 0===e.conceptKey?"":e.conceptKey}</conceptKeyword>\n        <networkIDs>${void 0===e.networkID?"":e.networkID}</networkIDs>\n        <beginDate>${void 0===e.startDate?"":e.startDate}</beginDate>\n        <endDate>${void 0===e.endDate?"":e.endDate}</endDate>\n        </GetSeriesCatalogForBox2>`,methods:{type:"soap",method:"POST"}},GetSeriesCatalogForBox3:{endpoint:"https://hiscentral.cuahsi.org/webservices/hiscentral.asmx",body:e=>`<GetSeriesCatalogForBox3 xmlns="${f.action}">\n        <xmin>${void 0===e.xmin?"":e.xmin}</xmin>\n        <xmax>${void 0===e.xmax?"":e.xmax}</xmax>\n        <ymin>${void 0===e.ymin?"":e.ymin}</ymin>\n        <ymax>${void 0===e.ymax?"":e.ymax}</ymax>\n        <conceptKeyword>${void 0===e.conceptKey?"":e.conceptKey}</conceptKeyword>\n        <networkIDs>${void 0===e.networkID?"":e.networkID}</networkIDs>\n        <beginDate>${void 0===e.startDate?"":e.startDate}</beginDate>\n        <endDate>${void 0===e.endDate?"":e.endDate}</endDate>\n        </GetSeriesCatalogForBox3>`,methods:{type:"soap",method:"POST"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"soap",MoreInfo:"https://his.cuahsi.org/",About:"HIS Central serves as the main functions that can be used for a specific resource. It allows for users to obtain specific data from a resource without the need of manipulation a large chunk of data."},"endpoint-info":{sourceType:{paramFormat:{type:"String - Type parameter (optional)"},infoSource:"https://his.cuahsi.org/",example:"hisCentral.sourceType() returns 'https://hiscentral.cuahsi.org/webservices/hiscentral.asmx'"},GetControlledVocabulary:{paramFormat:{cvField:"String - Controlled vocabulary field"},infoSource:"https://hiscentral.cuahsi.org/webservices/hiscentral.asmx?op=GetControlledVocabulary",example:'Requires SOAP request with body: <GetControlledVocabulary xmlns="http://hiscentral.cuahsi.org/20100205/"><cvField>SampleMedium</cvField></GetControlledVocabulary>'},GetWaterOneFlowServiceInfo:{paramFormat:{},infoSource:"https://hiscentral.cuahsi.org/webservices/hiscentral.asmx?op=GetWaterOneFlowServiceInfo",example:'Requires SOAP request with body: <GetWaterOneFlowServiceInfo xmlns="http://hiscentral.cuahsi.org/20100205/"></GetWaterOneFlowServiceInfo>'},GetCountOrData:{paramFormat:{xmin:"Number - Minimum longitude",xmax:"Number - Maximum longitude",ymin:"Number - Minimum latitude",ymax:"Number - Maximum latitude",sampleMedium:"String - Sample medium (e.g., 'Surface Water')",dataType:"String - Data type",valueType:"String - Value type",generalCat:"String - General category",conceptKey:"String - Concept keyword",networkID:"String - Network ID",startDate:"String - Start date (YYYY-MM-DD format)",endDate:"String - End date (YYYY-MM-DD format)"},infoSource:"https://hiscentral.cuahsi.org/webservices/hiscentral.asmx?op=GetCountOrData",example:"Requires SOAP request with body containing xmin, xmax, ymin, ymax parameters"}}},g={resource_list:{endpoint:"https://www.hydroshare.org/hsapi/resource",params:{page:null,count:null,creator:null,author:null,group:null,user:null,owner:null,from_date:null,to_date:null,subject:null,full_text_search:null,edit_permission:null,published:null,type:null,coverage_type:null,north:null,south:null,east:null,west:null,include_obsolete:!1},methods:{type:"json",method:"POST"}},resource_create:{endpoint:"https://www.hydroshare.org/hsapi/resource",params:{string:null,metadata:null,extra_metadata:null,edit_users:null,view_users:null,view_groups:null,keywords:[null],abstract:null,resource_type:"CompositeResource"},methods:{type:"json",method:"POST"}},content_types:{endpoint:"https://www.hydroshare.org/hsapi/resource/content_types",params:{},methods:{type:"json",method:"POST"}},search:{endpoint:"https://www.hydroshare.org/hsapi/resource/search",params:{page:null,count:null,text:null,author:null,contributor:[null],subject:[null],abstract:null,resource_type:null,content_type:[null],coverage_type:[null],availability:null,created:null,modified:null,start_date:null,end_date:null,east:null,north:null,eastlimit:null,westlimit:null,northlimit:null,southlimit:null},methods:{type:"json",method:"GET"}},types:{endpoint:"https://www.hydroshare.org/hsapi/resource/types",params:{},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://www.hydroshare.org/hsapi/",About:"HydroShare API, enabling acccess to data resources, examples, models and more hosted within the HydroShare sphere."},"endpoint-info":{resource_list:{paramFormat:{page:"Number - Page number for pagination",count:"Number - Number of results per page",creator:"String - Filter by creator",author:"String - Filter by author",group:"String - Filter by group",user:"String - Filter by user",owner:"String - Filter by owner",from_date:"String - Start date filter (YYYY-MM-DD)",to_date:"String - End date filter (YYYY-MM-DD)",subject:"String - Filter by subject",full_text_search:"String - Full text search term",edit_permission:"Boolean - Filter by edit permission",published:"Boolean - Filter by published status",type:"String - Filter by resource type",coverage_type:"String - Filter by coverage type",north:"Number - Northern boundary",south:"Number - Southern boundary",east:"Number - Eastern boundary",west:"Number - Western boundary",include_obsolete:"Boolean - Include obsolete resources"},infoSource:"https://www.hydroshare.org/hsapi/",example:"https://www.hydroshare.org/hsapi/resource?count=10&published=true"},resource_create:{paramFormat:{metadata:"Object - Resource metadata",abstract:"String - Resource abstract",keywords:"Array - Keywords for the resource",resource_type:"String - Type of resource (default: 'CompositeResource')"},infoSource:"https://www.hydroshare.org/hsapi/",example:"POST to https://www.hydroshare.org/hsapi/resource with appropriate parameters"},search:{paramFormat:{text:"String - Search text",author:"String - Filter by author",subject:"Array - Filter by subjects",abstract:"String - Filter by abstract content",resource_type:"String - Filter by resource type",coverage_type:"Array - Filter by coverage types",start_date:"String - Start date filter",end_date:"String - End date filter"},infoSource:"https://www.hydroshare.org/hsapi/",example:"https://www.hydroshare.org/hsapi/resource/search?text=water&resource_type=CompositeResource"}}};var y=a(670);const b=e=>`<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body>${e}</soap:Body></soap:Envelope>`,w={gridpoints:{endpoint:"https://api.weather.gov/gridpoints/{office}/{gridX},{gridY}/forecast",params:{office:null,gridX:null,gridY:null},methods:{type:"json",method:"GET"}},points:{endpoint:"https://api.weather.gov/points/{latitude},{longitude}",params:{latitude:null,longitude:null},methods:{type:"json",method:"GET"}},stations:{endpoint:"https://api.weather.gov/stations/",params:{id:null,state:null,limit:null},methods:{type:"json",method:"GET"}},glossary:{endpoint:"https://api.weather.gov/glossary/",methods:{type:"json",method:"GET"}},stationObservations:{endpoint:"https://api.weather.gov/stations/{stationId}/observations",params:{stationId:null,start:null,end:null,observations:null},methods:{type:"json",method:"GET"}},singleStationObs:{endpoint:"https://api.weather.gov/stations/{stationId}/observations/{time}",params:{stationId:null,time:null},methods:{type:"json",method:"GET"}},radarsStations:{endpoint:"https://api.weather.gov/radar/stations/",methods:{type:"json",method:"GET"}},alerts:{endpoint:"https://api.weather.gov/alerts",params:{status:null,message_type:null,event:null,code:null,area:null,point:null,region:null,region_type:null,zone:null,urgency:null,severity:null,certainty:null,limit:null},methods:{type:"json",method:"GET"}},products:{endpoint:"https://api.weather.gov/products",params:{location:null,start:null,end:null,office:null,limit:null,type:null},methods:{type:"json",method:"GET"}},zones:{endpoint:"https://api.weather.gov/zones",params:{type:null,id:null,area:null,region:null,point:null,include_geometry:null,limit:null,effective:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://www.weather.gov/documentation/services-web-api#/default/obs_stations",About:"National Weather Service (NWS) API that allows access to forecasts, alerts, and observations and other weather data that allows JSON-LD machine data discovery."},"endpoint-info":{gridpoints:{paramFormat:{office:"String - NWS office identifier (e.g., 'LWX')",gridX:"Number - Grid X coordinate",gridY:"Number - Grid Y coordinate"},infoSource:"https://www.weather.gov/documentation/services-web-api#/default/gridpoint_forecast",example:{office:"LWX",gridX:"97",gridY:"71",exampleRequest:"https://api.weather.gov/gridpoints/LWX/97,71/forecast"}},points:{paramFormat:{latitude:"Number - Latitude coordinate",longitude:"Number - Longitude coordinate"},infoSource:"https://www.weather.gov/documentation/services-web-api#/default/point",example:{latitude:38.8894,longitude:-77.0352,exampleRequest:"https://api.weather.gov/points/38.8894,-77.0352"}},stations:{paramFormat:{id:"String - Station ID",state:"String - State code (e.g., 'VA')",limit:"Number - Maximum number of results to return"},infoSource:"https://www.weather.gov/documentation/services-web-api#/default/observation_stations_list",example:{state:"VA",limit:10,exampleRequest:"https://api.weather.gov/stations?state=VA&limit=10"}},glossary:{paramFormat:{},infoSource:"https://www.weather.gov/documentation/services-web-api",example:{exampleRequest:"https://api.weather.gov/glossary"}},stationObservations:{paramFormat:{stationId:"String - Station ID (e.g., 'KDCA')",start:"String - Start time (ISO format)",end:"String - End time (ISO format)",observations:"Boolean - Include observations"},infoSource:"https://www.weather.gov/documentation/services-web-api#/default/observation_station_observations_list",example:{stationId:"KDCA",start:"2020-01-01T00:00:00Z",end:"2020-01-02T00:00:00Z",exampleRequest:"https://api.weather.gov/stations/KDCA/observations?start=2020-01-01T00:00:00Z&end=2020-01-02T00:00:00Z"}},singleStationObs:{paramFormat:{stationId:"String - Station ID (e.g., 'KDCA')",time:"String - Observation time (ISO format)"},infoSource:"https://www.weather.gov/documentation/services-web-api#/default/observation_station_observation_latest",example:{stationId:"KDCA",time:"2020-01-01T12:00:00Z",exampleRequest:"https://api.weather.gov/stations/KDCA/observations/2020-01-01T12:00:00Z"}},radarsStations:{paramFormat:{},infoSource:"https://www.weather.gov/documentation/services-web-api",example:{exampleRequest:"https://api.weather.gov/radar/stations"}},alerts:{paramFormat:{status:"String - Status of the alert (e.g., 'actual', 'exercise', 'test')",message_type:"String - Type of message (e.g., 'alert', 'update', 'cancel')",event:"String - Event name (e.g., 'Flood Warning', 'Tornado Watch')",code:"String - Event code",area:"String - Area ID",point:"String - Point coordinates (lat,lon)",region:"String - Region name or ID",region_type:"String - Type of region",zone:"String - Zone ID",urgency:"String - Urgency level (e.g., 'immediate', 'expected')",severity:"String - Severity level (e.g., 'extreme', 'severe', 'moderate')",certainty:"String - Certainty level (e.g., 'observed', 'likely')",limit:"Number - Maximum number of results to return"},infoSource:"https://www.weather.gov/documentation/services-web-api#/default/alerts_active_list",example:{status:"actual",message_type:"alert",severity:"severe",limit:10,exampleRequest:"https://api.weather.gov/alerts?status=actual&message_type=alert&severity=severe&limit=10"}},products:{paramFormat:{location:"String - Location ID",start:"String - Start time (ISO format)",end:"String - End time (ISO format)",office:"String - Office ID",limit:"Number - Maximum number of results to return",type:"String - Product type"},infoSource:"https://www.weather.gov/documentation/services-web-api#/default/products_list",example:{office:"LWX",limit:5,exampleRequest:"https://api.weather.gov/products?office=LWX&limit=5"}},zones:{paramFormat:{type:"String - Zone type (e.g., 'forecast', 'county', 'fire')",id:"String - Zone ID",area:"String - Area ID",region:"String - Region ID",point:"String - Point coordinates (lat,lon)",include_geometry:"Boolean - Include geometry in response",limit:"Number - Maximum number of results to return",effective:"String - Effective date (ISO format)"},infoSource:"https://www.weather.gov/documentation/services-web-api#/default/zones_list",example:{type:"forecast",area:"VA",limit:10,exampleRequest:"https://api.weather.gov/zones?type=forecast&area=VA&limit=10"}}}},v={gauges:{endpoint:"https://api.weather.gov/gridpoints/{office}/{gridX},{gridY}/forecast",params:{"bbox.xmin":null,"bbox.ymin":null,"bbox.xmax":null,"bbox.ymin":null,srid:null,catfim:null},methods:{type:"json",method:"GET"}},gauge:{endpoint:"https://api.water.noaa.gov/nwps/v1/gauges/{identifier}",params:{identifier:null},methods:{type:"json",method:"GET"}},gauge_raitings:{endpoint:"https://api.water.noaa.gov/nwps/v1/gauges/{identifier}/ratings",params:{identifier:null},methods:{type:"json",method:"GET"}},gauge_stageflow:{endpoint:"https://api.water.noaa.gov/nwps/v1/gauges/{identifier}/stageflow",params:{identifier:null},methods:{type:"json",method:"GET"}},gauge_product:{endpoint:"https://api.water.noaa.gov/nwps/v1/gauges/{identifier}/stageflow/{product}",params:{identifier:null,product:null},methods:{type:"json",method:"GET"}},reach:{endpoint:"https://api.water.noaa.gov/nwps/v1/reaches/{reachId}",params:{reachId:null},methods:{type:"json",method:"GET"}},reach_streamflow:{endpoint:"https://api.water.noaa.gov/nwps/v1/reaches/{reachId}/streamflow",params:{reachId:null,series:null},methods:{type:"json",method:"GET"}},reservoirs:{endpoint:"https://api.water.noaa.gov/nwps/v1/reservoirs",params:{"bbox.xmin":null,"bbox.ymin":null,"bbox.xmax":null,"bbox.ymax":null,srid:null,status:null,limit:null},methods:{type:"json",method:"GET"}},reservoir:{endpoint:"https://api.water.noaa.gov/nwps/v1/reservoirs/{reservoirId}",params:{reservoirId:null},methods:{type:"json",method:"GET"}},basin_analysis:{endpoint:"https://api.water.noaa.gov/nwps/v1/basins/{basinId}/analysis",params:{basinId:null,startDate:null,endDate:null,dataType:null},methods:{type:"json",method:"GET"}},flood_outlook:{endpoint:"https://api.water.noaa.gov/nwps/v1/flood/outlook",params:{region:null,date:null,format:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://api.water.noaa.gov/nwps/v1/docs/#/Gauges/Gauges_GetStageFlowAll",About:"National Weather Prediction Service (NWPS) API that allows access to forecasts, alerts, and observations and other weather data in hydrology."},"endpoint-info":{gauges:{paramFormat:{"bbox.xmin":"Number - Minimum x-coordinate of bounding box","bbox.ymin":"Number - Minimum y-coordinate of bounding box","bbox.xmax":"Number - Maximum x-coordinate of bounding box","bbox.ymax":"Number - Maximum y-coordinate of bounding box",srid:"Number - Spatial reference ID",catfim:"Boolean - Include CATFIM data"},infoSource:"https://api.water.noaa.gov/nwps/v1/docs/#/Gauges/Gauges_GetAll",example:{"bbox.xmin":-85,"bbox.ymin":30,"bbox.xmax":-80,"bbox.ymax":35,exampleRequest:"https://api.weather.gov/gridpoints/LWX/97,71/forecast?bbox.xmin=-85&bbox.ymin=30&bbox.xmax=-80&bbox.ymax=35"}},gauge:{paramFormat:{identifier:"String - Gauge identifier"},infoSource:"https://api.water.noaa.gov/nwps/v1/docs/#/Gauges/Gauges_Get",example:{identifier:"USGS-01646500",exampleRequest:"https://api.water.noaa.gov/nwps/v1/gauges/USGS-01646500"}},gauge_raitings:{paramFormat:{identifier:"String - Gauge identifier"},infoSource:"https://api.water.noaa.gov/nwps/v1/docs/#/Gauges/Gauges_GetRatings",example:{identifier:"USGS-01646500",exampleRequest:"https://api.water.noaa.gov/nwps/v1/gauges/USGS-01646500/ratings"}},gauge_stageflow:{paramFormat:{identifier:"String - Gauge identifier"},infoSource:"https://api.water.noaa.gov/nwps/v1/docs/#/Gauges/Gauges_GetStageFlowAll",example:{identifier:"USGS-01646500",exampleRequest:"https://api.water.noaa.gov/nwps/v1/gauges/USGS-01646500/stageflow"}},gauge_product:{paramFormat:{identifier:"String - Gauge identifier",product:"String - Product type (e.g., 'observed' or 'forecast')"},infoSource:"https://api.water.noaa.gov/nwps/v1/docs/#/Gauges/Gauges_GetStageFlowProd",example:{identifier:"USGS-01646500",product:"observed",exampleRequest:"https://api.water.noaa.gov/nwps/v1/gauges/USGS-01646500/stageflow/observed"}},reach:{paramFormat:{reachId:"String - Reach identifier"},infoSource:"https://api.water.noaa.gov/nwps/v1/docs/#/Reaches/Reaches_Get",example:{reachId:"NWM-12345",exampleRequest:"https://api.water.noaa.gov/nwps/v1/reaches/NWM-12345"}},reach_streamflow:{paramFormat:{reachId:"String - Reach identifier",series:"String - Series type"},infoSource:"https://api.water.noaa.gov/nwps/v1/docs/#/Reaches/Reaches_GetStreamflow",example:{reachId:"NWM-12345",series:"time",exampleRequest:"https://api.water.noaa.gov/nwps/v1/reaches/NWM-12345/streamflow?series=time"}},reservoirs:{paramFormat:{"bbox.xmin":"Number - Minimum x-coordinate of bounding box","bbox.ymin":"Number - Minimum y-coordinate of bounding box","bbox.xmax":"Number - Maximum x-coordinate of bounding box","bbox.ymax":"Number - Maximum y-coordinate of bounding box",srid:"Number - Spatial reference ID",status:"String - Reservoir status (e.g., 'normal', 'below', 'above')",limit:"Number - Maximum number of results to return"},infoSource:"https://api.water.noaa.gov/nwps/v1/docs/#/Reservoirs",example:{"bbox.xmin":-85,"bbox.ymin":30,"bbox.xmax":-80,"bbox.ymax":35,limit:10,exampleRequest:"https://api.water.noaa.gov/nwps/v1/reservoirs?bbox.xmin=-85&bbox.ymin=30&bbox.xmax=-80&bbox.ymax=35&limit=10"}},reservoir:{paramFormat:{reservoirId:"String - Reservoir identifier"},infoSource:"https://api.water.noaa.gov/nwps/v1/docs/#/Reservoirs",example:{reservoirId:"USACE-12345",exampleRequest:"https://api.water.noaa.gov/nwps/v1/reservoirs/USACE-12345"}},basin_analysis:{paramFormat:{basinId:"String - Basin identifier",startDate:"String - Start date (YYYY-MM-DD format)",endDate:"String - End date (YYYY-MM-DD format)",dataType:"String - Type of data to retrieve (e.g., 'precipitation', 'runoff')"},infoSource:"https://api.water.noaa.gov/nwps/v1/docs/#/Basins",example:{basinId:"HUC8-12345678",startDate:"2020-01-01",endDate:"2020-01-31",dataType:"precipitation",exampleRequest:"https://api.water.noaa.gov/nwps/v1/basins/HUC8-12345678/analysis?startDate=2020-01-01&endDate=2020-01-31&dataType=precipitation"}},flood_outlook:{paramFormat:{region:"String - Region identifier (e.g., 'northeast', 'midwest')",date:"String - Date for outlook (YYYY-MM-DD format)",format:"String - Response format (e.g., 'json', 'geojson')"},infoSource:"https://api.water.noaa.gov/nwps/v1/docs/#/Flood",example:{region:"northeast",date:"2020-01-15",format:"json",exampleRequest:"https://api.water.noaa.gov/nwps/v1/flood/outlook?region=northeast&date=2020-01-15&format=json"}}}},S={"project-data":{endpoint:"https://www.waterqualitydata.us/data/Project/search?",params:{bBox:null,lat:null,long:null,within:null,countryCode:null,stateCode:null,siteType:null,organization:null,siteid:null,huc:null,sampleMedia:null,startDateHi:null,startDateLo:null},methods:{type:"json",method:"POST"}},results:{endpoint:"https://www.waterqualitydata.us/data/Result/search?",params:{bBox:null,lat:null,long:null,within:null,countryCode:null,stateCode:null,siteType:null,organization:null,siteid:null,huc:null,sampleMedia:null,startDateHi:null,startDateLo:null},methods:{type:"json",method:"POST"}},station:{endpoint:"https://www.waterqualitydata.us/data/Station/search?",params:{bBox:null,lat:null,long:null,within:null,countryCode:null,stateCode:null,siteType:null,organization:null,siteid:null,huc:null,sampleMedia:null,startDateHi:null,startDateLo:null},methods:{type:"json",method:"GET"}},"result-detection":{endpoint:"https://www.waterqualitydata.us/data/ResultDetectionQuantitationLimit/search?",params:{bBox:null,lat:null,long:null,within:null,countryCode:null,stateCode:null,siteType:null,organization:null,siteid:null,huc:null,sampleMedia:null,startDateHi:null,startDateLo:null},methods:{type:"json",method:"GET"}},activity:{endpoint:"https://www.waterqualitydata.us/data/Activity/search?",params:{bBox:null,lat:null,long:null,within:null,countryCode:null,stateCode:null,siteType:null,organization:null,siteid:null,huc:null,sampleMedia:null,startDateHi:null,startDateLo:null,activityId:null,projectId:null,assemblage:null},methods:{type:"json",method:"GET"}},biological:{endpoint:"https://www.waterqualitydata.us/data/BiologicalResult/search?",params:{bBox:null,lat:null,long:null,within:null,countryCode:null,stateCode:null,siteType:null,organization:null,siteid:null,huc:null,sampleMedia:null,startDateHi:null,startDateLo:null,assemblage:null,characteristicName:null,taxonomicName:null},methods:{type:"json",method:"GET"}},"simple-station":{endpoint:"https://www.waterqualitydata.us/data/simplestation?",params:{bBox:null,lat:null,long:null,within:null,countryCode:null,stateCode:null,siteType:null,organization:null,siteid:null,huc:null,sampleMedia:null,startDateHi:null,startDateLo:null,mimeType:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://www.waterqualitydata.us/webservices_documentation/#example-summary-service-call-geojson",About:"This API serves as a viewer for data quality monitoring in CONUS. In collaboration with USGS/EPA data."},"endpoint-info":{"project-data":{paramFormat:{bBox:"String - Bounding box (comma-separated: west,south,east,north)",lat:"Number - Latitude coordinate",long:"Number - Longitude coordinate",within:"Number - Search radius in miles",countryCode:"String - Country code (e.g., 'US')",stateCode:"String - State code (e.g., 'US:55' for Wisconsin)",siteType:"String - Site type (e.g., 'Stream', 'Well')",organization:"String - Organization identifier",siteid:"String - Site identifier",huc:"String - Hydrologic Unit Code",sampleMedia:"String - Sample media (e.g., 'Water', 'Sediment')",startDateHi:"String - Start date (MM-DD-YYYY)",startDateLo:"String - End date (MM-DD-YYYY)"},infoSource:"https://www.waterqualitydata.us/webservices_documentation/#wqp-web-services-data-retrieval-service",example:{huc:"05",sampleMedia:"Water",startDateLo:"01-01-2020",startDateHi:"01-31-2020",exampleRequest:"POST to https://www.waterqualitydata.us/data/Project/search?huc=05&sampleMedia=Water&startDateLo=01-01-2020&startDateHi=01-31-2020"}},results:{paramFormat:{bBox:"String - Bounding box (comma-separated: west,south,east,north)",lat:"Number - Latitude coordinate",long:"Number - Longitude coordinate",within:"Number - Search radius in miles",countryCode:"String - Country code (e.g., 'US')",stateCode:"String - State code (e.g., 'US:55' for Wisconsin)",siteType:"String - Site type (e.g., 'Stream', 'Well')",organization:"String - Organization identifier",siteid:"String - Site identifier",huc:"String - Hydrologic Unit Code",sampleMedia:"String - Sample media (e.g., 'Water', 'Sediment')",startDateHi:"String - Start date (MM-DD-YYYY)",startDateLo:"String - End date (MM-DD-YYYY)"},infoSource:"https://www.waterqualitydata.us/webservices_documentation/#wqp-web-services-data-retrieval-service",example:{huc:"05",sampleMedia:"Water",startDateLo:"01-01-2020",startDateHi:"01-31-2020",exampleRequest:"POST to https://www.waterqualitydata.us/data/Result/search?huc=05&sampleMedia=Water&startDateLo=01-01-2020&startDateHi=01-31-2020"}},station:{paramFormat:{bBox:"String - Bounding box (comma-separated: west,south,east,north)",lat:"Number - Latitude coordinate",long:"Number - Longitude coordinate",within:"Number - Search radius in miles",countryCode:"String - Country code (e.g., 'US')",stateCode:"String - State code (e.g., 'US:55' for Wisconsin)",siteType:"String - Site type (e.g., 'Stream', 'Well')",organization:"String - Organization identifier",siteid:"String - Site identifier",huc:"String - Hydrologic Unit Code",sampleMedia:"String - Sample media (e.g., 'Water', 'Sediment')",startDateHi:"String - Start date (MM-DD-YYYY)",startDateLo:"String - End date (MM-DD-YYYY)"},infoSource:"https://www.waterqualitydata.us/webservices_documentation/#wqp-web-services-station-service",example:{huc:"05",sampleMedia:"Water",startDateLo:"01-01-2020",startDateHi:"01-31-2020",exampleRequest:"https://www.waterqualitydata.us/data/Station/search?huc=05&sampleMedia=Water&startDateLo=01-01-2020&startDateHi=01-31-2020"}},"result-detection":{paramFormat:{bBox:"String - Bounding box (comma-separated: west,south,east,north)",lat:"Number - Latitude coordinate",long:"Number - Longitude coordinate",within:"Number - Search radius in miles",countryCode:"String - Country code (e.g., 'US')",stateCode:"String - State code (e.g., 'US:55' for Wisconsin)",siteType:"String - Site type (e.g., 'Stream', 'Well')",organization:"String - Organization identifier",siteid:"String - Site identifier",huc:"String - Hydrologic Unit Code",sampleMedia:"String - Sample media (e.g., 'Water', 'Sediment')",startDateHi:"String - Start date (MM-DD-YYYY)",startDateLo:"String - End date (MM-DD-YYYY)"},infoSource:"https://www.waterqualitydata.us/webservices_documentation/#wqp-web-services-result-detection-quantitation-limit-service",example:{huc:"05",sampleMedia:"Water",startDateLo:"01-01-2020",startDateHi:"01-31-2020",exampleRequest:"https://www.waterqualitydata.us/data/ResultDetectionQuantitationLimit/search?huc=05&sampleMedia=Water&startDateLo=01-01-2020&startDateHi=01-31-2020"}},activity:{paramFormat:{bBox:"String - Bounding box (comma-separated: west,south,east,north)",lat:"Number - Latitude coordinate",long:"Number - Longitude coordinate",within:"Number - Search radius in miles",countryCode:"String - Country code (e.g., 'US')",stateCode:"String - State code (e.g., 'US:55' for Wisconsin)",siteType:"String - Site type (e.g., 'Stream', 'Well')",organization:"String - Organization identifier",siteid:"String - Site identifier",huc:"String - Hydrologic Unit Code",sampleMedia:"String - Sample media (e.g., 'Water', 'Sediment')",startDateHi:"String - Start date (MM-DD-YYYY)",startDateLo:"String - End date (MM-DD-YYYY)",activityId:"String - Activity identifier",projectId:"String - Project identifier",assemblage:"String - Biological assemblage (e.g., 'Fish', 'Macroinvertebrate')"},infoSource:"https://www.waterqualitydata.us/webservices_documentation/#wqp-web-services-activity-service",example:{huc:"05",sampleMedia:"Water",startDateLo:"01-01-2020",startDateHi:"01-31-2020",exampleRequest:"https://www.waterqualitydata.us/data/Activity/search?huc=05&sampleMedia=Water&startDateLo=01-01-2020&startDateHi=01-31-2020"}},biological:{paramFormat:{bBox:"String - Bounding box (comma-separated: west,south,east,north)",lat:"Number - Latitude coordinate",long:"Number - Longitude coordinate",within:"Number - Search radius in miles",countryCode:"String - Country code (e.g., 'US')",stateCode:"String - State code (e.g., 'US:55' for Wisconsin)",siteType:"String - Site type (e.g., 'Stream', 'Well')",organization:"String - Organization identifier",siteid:"String - Site identifier",huc:"String - Hydrologic Unit Code",sampleMedia:"String - Sample media (e.g., 'Water', 'Sediment')",startDateHi:"String - Start date (MM-DD-YYYY)",startDateLo:"String - End date (MM-DD-YYYY)",assemblage:"String - Biological assemblage (e.g., 'Fish', 'Macroinvertebrate')",characteristicName:"String - Characteristic name",taxonomicName:"String - Taxonomic name"},infoSource:"https://www.waterqualitydata.us/webservices_documentation/#wqp-web-services-biological-result-service",example:{huc:"05",assemblage:"Fish",startDateLo:"01-01-2020",startDateHi:"01-31-2020",exampleRequest:"https://www.waterqualitydata.us/data/BiologicalResult/search?huc=05&assemblage=Fish&startDateLo=01-01-2020&startDateHi=01-31-2020"}},"simple-station":{paramFormat:{bBox:"String - Bounding box (comma-separated: west,south,east,north)",lat:"Number - Latitude coordinate",long:"Number - Longitude coordinate",within:"Number - Search radius in miles",countryCode:"String - Country code (e.g., 'US')",stateCode:"String - State code (e.g., 'US:55' for Wisconsin)",siteType:"String - Site type (e.g., 'Stream', 'Well')",organization:"String - Organization identifier",siteid:"String - Site identifier",huc:"String - Hydrologic Unit Code",sampleMedia:"String - Sample media (e.g., 'Water', 'Sediment')",startDateHi:"String - Start date (MM-DD-YYYY)",startDateLo:"String - End date (MM-DD-YYYY)",mimeType:"String - Response format (e.g., 'json', 'geojson')"},infoSource:"https://www.waterqualitydata.us/webservices_documentation/#wqp-web-services-simple-station-service",example:{huc:"05",siteType:"Stream",mimeType:"geojson",exampleRequest:"https://www.waterqualitydata.us/data/simplestation?huc=05&siteType=Stream&mimeType=geojson"}}}},x={sourceType:(e,t)=>{let a="";switch(t){case"community_flood_damage":switch(a="https://hydroinformatics.uiowa.edu/lab/midas/communities/",e){case"Waterloo":a+="waterloo.json";break;case"Cedar Rapids":a+="cedar_rapids.json";break;case"Cedar Falls":a+="cedar_falls.json"}break;case"community_flood_inundation":switch(a="https://hydroinformatics.uiowa.edu/lab/midas/communities/",e){case"Waterloo":a+="waterloo.geojson";break;case"Cedar Rapids":a+="cedar_rapids.geojson";break;case"Cedar Falls":a+="cedar_falls.geojson"}break;case"property_mitigation_cost":a="https://hydroinformatics.uiowa.edu/lab/midas/jsons/mitigations.json"}return a},community_flood_damage:{endpoint:"https://hydroinformatics.uiowa.edu/lab/midas/communities/<community>.json",params:{},"data-fields":{},methods:{type:"json",method:"GET"}},community_flood_inundation:{endpoint:"https://hydroinformatics.uiowa.edu/lab/midas/communities/<community>.geojson",params:{},"data-fields":{},methods:{type:"json",method:"GET"}},property_mitigation_cost:{endpoint:"https://hydroinformatics.uiowa.edu/lab/midas/jsons/mitigations.json",params:{},"data-fields":{},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://hydroinformatics.uiowa.edu/lab/midas/communities",About:"This API returns community scope flood damage for Cedar Rapids, Cedar Falls and Waterloo. This is an example of the data retrieval for flood damage estimations to be set up in a map interface."},"endpoint-info":{community_flood_damage:{paramFormat:{sourceType:"String - Name of the community ('Cedar Rapids', 'Cedar Falls', or 'Waterloo')"},infoSource:"https://hydroinformatics.uiowa.edu/lab/midas/communities",example:"Usage with sourceType function: sourceType('Cedar Rapids', 'community_flood_damage') returns 'https://hydroinformatics.uiowa.edu/lab/midas/communities/cedar_rapids.json'"},community_flood_inundation:{paramFormat:{sourceType:"String - Name of the community ('Cedar Rapids', 'Cedar Falls', or 'Waterloo')"},infoSource:"https://hydroinformatics.uiowa.edu/lab/midas/communities",example:"Usage with sourceType function: sourceType('Cedar Rapids', 'community_flood_inundation') returns 'https://hydroinformatics.uiowa.edu/lab/midas/communities/cedar_rapids.geojson'"},property_mitigation_cost:{paramFormat:{},infoSource:"https://hydroinformatics.uiowa.edu/lab/midas/communities",example:"Usage with sourceType function: sourceType(null, 'property_mitigation_cost') returns 'https://hydroinformatics.uiowa.edu/lab/midas/jsons/mitigations.json'"}}},_={sourceType:(e,t)=>{let a="https://hydroinformatics.uiowa.edu/lab/fidas/data/",r="";if("x100_year"===t)switch(r+="/flood_extent_100yr.geojson",e){case"Bettendorf":a+="bettendorf"+r;break;case"Cedar Falls":a+="cedar_falls"+r;break;case"Cedar Rapids":a+="cedar_rapids"+r;break;case"Davenport":a+="davenport"+r;break;case"Iowa City":a+="iowa_city"+r;break;case"Waterloo":a+="waterloo"+r;break;case"Waverly":a+="waverly"+r}if("x500_year"===t)switch(r+="/flood_extent_500yr.geojson",e){case"Bettendorf":a+="bettendorf"+r;break;case"Cedar Falls":a+="cedar_falls"+r;break;case"Cedar Rapids":a+="cedar_rapids"+r;break;case"Davenport":a+="davenport"+r;break;case"Iowa City":a+="iowa_city"+r;break;case"Waterloo":a+="waterloo"+r;break;case"Waverly":a+="waverly"+r}if("utilities"===t&&(r+="/utility.geojson","Cedar Falls"===e)&&(a+="cedar_falls"+r),"vehicles"===t)switch(r+="/vehicle_Day_Night.geojson",e){case"Bettendorf":a+="bettendorf"+r;break;case"Cedar Falls":a+="cedar_falls"+r;break;case"Cedar Rapids":a+="cedar_rapids"+r;break;case"Davenport":a+="davenport"+r;break;case"Iowa City":a+="iowa_city"+r;break;case"Waterloo":a+="waterloo"+r;break;case"Waverly":a+="waverly"+r}if("buildings"===t)switch(r+="/buildings.geojson",e){case"Bettendorf":a+="bettendorf"+r;break;case"Cedar Falls":a+="cedar_falls"+r;break;case"Cedar Rapids":a+="cedar_rapids"+r;break;case"Davenport":a+="davenport"+r;break;case"Iowa City":a+="iowa_city"+r;break;case"Waterloo":a+="waterloo"+r;break;case"Waverly":a+="waverly"+r}if("bridges"===t)switch(r+="/bridge_locations.geojson",e){case"Cedar Falls":a+="cedar_falls"+r;break;case"Cedar Rapids":a+="cedar_rapids"+r;break;case"Davenport":a+="davenport"+r;break;case"Waverly":a+="waverly"+r}return a},x100_year:{endpoint:"https://hydroinformatics.uiowa.edu/lab/fidas/data/<community>/<source>.json",params:{},"data-fields":{},methods:{type:"text",method:"GET"}},x500_year:{endpoint:"https://hydroinformatics.uiowa.edu/lab/fidas/data/<community>/<source>.json",params:{},"data-fields":{},methods:{type:"text",method:"GET"}},vehicles:{endpoint:"https://hydroinformatics.uiowa.edu/lab/fidas/data/<community>/<source>.json",params:{},"data-fields":{},methods:{type:"text",method:"GET"}},utilities:{endpoint:"https://hydroinformatics.uiowa.edu/lab/fidas/data/<community>/<source>.json",params:{},"data-fields":{},methods:{type:"text",method:"GET"}},buildings:{endpoint:"https://hydroinformatics.uiowa.edu/lab/fidas/data/<community>/<source>.json",params:{},"data-fields":{},methods:{type:"text",method:"GET"}},bridges:{endpoint:"https://hydroinformatics.uiowa.edu/lab/fidas/data/<community>/<source>.json",params:{},"data-fields":{},methods:{type:"text",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"text",MoreInfo:"https://hydroinformatics.uiowa.edu/lab/fidas/data/functions",About:"This API returns community scope flood damage for Cedar Rapids, Cedar Falls and Waterloo. This is an example of the data retrieval for flood damage estimations to be set up in a map interface."},"endpoint-info":{x100_year:{paramFormat:{sourceType:"String - Name of the community (e.g., 'Cedar Rapids', 'Cedar Falls', 'Waterloo', 'Bettendorf', 'Davenport', 'Iowa City', 'Waverly')"},infoSource:"https://hydroinformatics.uiowa.edu/lab/fidas/data/functions",example:"Usage with sourceType function: sourceType('Cedar Rapids', 'x100_year') returns 'https://hydroinformatics.uiowa.edu/lab/fidas/data/cedar_rapids/flood_extent_100yr.geojson'"},x500_year:{paramFormat:{sourceType:"String - Name of the community (e.g., 'Cedar Rapids', 'Cedar Falls', 'Waterloo', 'Bettendorf', 'Davenport', 'Iowa City', 'Waverly')"},infoSource:"https://hydroinformatics.uiowa.edu/lab/fidas/data/functions",example:"Usage with sourceType function: sourceType('Cedar Rapids', 'x500_year') returns 'https://hydroinformatics.uiowa.edu/lab/fidas/data/cedar_rapids/flood_extent_500yr.geojson'"},vehicles:{paramFormat:{sourceType:"String - Name of the community (e.g., 'Cedar Rapids', 'Cedar Falls', 'Waterloo', 'Bettendorf', 'Davenport', 'Iowa City', 'Waverly')"},infoSource:"https://hydroinformatics.uiowa.edu/lab/fidas/data/functions",example:"Usage with sourceType function: sourceType('Cedar Rapids', 'vehicles') returns 'https://hydroinformatics.uiowa.edu/lab/fidas/data/cedar_rapids/vehicle_Day_Night.geojson'"},utilities:{paramFormat:{sourceType:"String - Name of the community (currently only 'Cedar Falls' is supported)"},infoSource:"htt ps://hydroinformatics.uiowa.edu/lab/fidas/data/functions",example:"Usage with sourceType function: sourceType('Cedar Falls', 'utilities') returns 'https://hydroinformatics.uiowa.edu/lab/fidas/data/cedar_falls/utility.geojson'"},buildings:{paramFormat:{sourceType:"String - Name of the community (e.g., 'Cedar Rapids', 'Cedar Falls', 'Waterloo', 'Bettendorf', 'Davenport', 'Iowa City', 'Waverly')"},infoSource:"https://hydroinformatics.uiowa.edu/lab/fidas/data/functions",example:"Usage with sourceType function: sourceType('Cedar Rapids', 'buildings') returns 'https://hydroinformatics.uiowa.edu/lab/fidas/data/cedar_rapids/buildings.geojson'"},bridges:{paramFormat:{sourceType:"String - Name of the community (e.g., 'Cedar Rapids', 'Cedar Falls', 'Davenport', 'Waverly')"},infoSource:"https://hydroinformatics.uiowa.edu/lab/fidas/data/functions",example:"Usage with sourceType function: sourceType('Cedar Rapids', 'bridges') returns 'https://hydroinformatics.uiowa.edu/lab/fidas/data/cedar_rapids/bridge_locations.geojson'"}}},D={"mars-data":{endpoint:"https://api.ecmwf.int/v1/services/mars/requests",params:{dataset:null,date:null,expver:null,levtype:null,param:null,step:null,stream:null,time:null,type:null,target:null,format:null,area:null},methods:{type:"json",method:"POST"}},era5:{endpoint:"https://api.ecmwf.int/v1/services/cds/datasets/reanalysis-era5-single-levels",params:{product_type:null,format:null,variable:null,year:null,month:null,day:null,time:null,area:null},methods:{type:"json",method:"POST"}},"seasonal-forecast":{endpoint:"https://api.ecmwf.int/v1/services/cds/datasets/seasonal-monthly-single-levels",params:{originating_centre:null,system:null,variable:null,product_type:null,year:null,month:null,leadtime_month:null,format:null},methods:{type:"json",method:"POST"}},"climate-projections":{endpoint:"https://api.ecmwf.int/v1/services/cds/datasets/projections-cmip6",params:{format:null,experiment:null,temporal_resolution:null,variable:null,model:null,date:null,area:null},methods:{type:"json",method:"POST"}},"grib2-data":{endpoint:null,params:{product:null,date:null,time:null,step:null,param:null,levtype:null,levelist:null,area:null,grid:null,format:"grib2"},methods:{type:"binary",method:"GET"}},"era5-grib2":{endpoint:"https://cds.climate.copernicus.eu/api/v2",params:{dataset:"reanalysis-era5-single-levels",product_type:"reanalysis",format:"grib",variable:null,year:null,month:null,day:null,time:null,area:null},methods:{type:"json",method:"POST"}},"forecast-grib2":{endpoint:"https://api.ecmwf.int/v1/services/mars/requests",params:{class:"od",date:null,expver:"1",levtype:null,param:null,step:null,stream:null,time:null,type:"fc",target:null,format:"grib2",area:null},methods:{type:"json",method:"POST"}},"point-data":{endpoint:null,params:{dataset:null,variable:null,latitude:null,longitude:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"grid-data":{endpoint:null,params:{dataset:null,variable:null,bbox:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"timeseries-data":{endpoint:null,params:{dataset:null,variable:null,latitude:null,longitude:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"available-variables":{endpoint:null,params:{},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!0,keyname:"key"},info:{returnFormats:"grib, grib2, netcdf, json",MoreInfo:"https://confluence.ecmwf.int/display/WEBAPI/ECMWF+Web+API",About:"European Centre for Medium-Range Weather Forecasts (ECMWF) API provides access to various weather and climate data products including GRIB2 format support. Requires registration and an API key."},"endpoint-info":{"mars-data":{paramFormat:{dataset:"String - Dataset name (e.g., 'oper', 'era5')",date:"String - Date in YYYYMMDD format",expver:"String - Experiment version",levtype:"String - Level type (e.g., 'sfc' for surface)",param:"String - Parameter(s) to retrieve (e.g., 't2m,tp')",step:"String - Forecast step(s)",stream:"String - Stream type (e.g., 'oper', 'enfo')",time:"String - Time of day in HH:MM format",type:"String - Type of data (e.g., 'an' for analysis, 'fc' for forecast)",target:"String - Target filename",format:"String - Output format (e.g., 'grib', 'netcdf')",area:"String - Geographic area [north, west, south, east]"},infoSource:"https://confluence.ecmwf.int/display/WEBAPI/MARS+service",example:{dataset:"era5",date:"20200101",levtype:"sfc",param:"t2m",target:"output.grib",exampleRequest:"POST to https://api.ecmwf.int/v1/services/mars/requests with parameters: {'dataset': 'era5', 'date': '20200101', 'levtype': 'sfc', 'param': 't2m', 'target': 'output.grib'}"}},era5:{paramFormat:{product_type:"String - Product type (e.g., 'reanalysis')",format:"String - Output format (e.g., 'grib', 'netcdf')",variable:"Array - Variables to retrieve (e.g., ['2m_temperature', 'total_precipitation'])",year:"String/Array - Year(s) to retrieve data for",month:"String/Array - Month(s) to retrieve data for",day:"String/Array - Day(s) to retrieve data for",time:"String/Array - Time(s) of day (e.g., ['00:00', '12:00'])",area:"Array - Geographic area [north, west, south, east]"},infoSource:"https://confluence.ecmwf.int/display/CKB/ERA5%3A+data+documentation",example:{product_type:"reanalysis",variable:["2m_temperature"],year:"2020",month:"01",day:"01",time:["00:00","12:00"],format:"netcdf",exampleRequest:"POST to https://api.ecmwf.int/v1/services/cds/datasets/reanalysis-era5-single-levels with parameters: {'product_type': 'reanalysis', 'variable': ['2m_temperature'], 'year': '2020', 'month': '01', 'day': '01', 'time': ['00:00', '12:00'], 'format': 'netcdf'}"}},"seasonal-forecast":{paramFormat:{originating_centre:"String - Originating center (e.g., 'ecmwf')",system:"String - System version",variable:"Array - Variables to retrieve",product_type:"String - Product type (e.g., 'monthly_mean')",year:"String/Array - Year(s) to retrieve data for",month:"String/Array - Month(s) to retrieve data for",leadtime_month:"String/Array - Lead time in months",format:"String - Output format"},infoSource:"https://confluence.ecmwf.int/display/CKB/Seasonal+forecasts+and+the+Copernicus+Climate+Change+Service",example:{originating_centre:"ecmwf",variable:["2m_temperature"],product_type:"monthly_mean",year:"2020",month:"01",leadtime_month:["1","2","3"],format:"netcdf",exampleRequest:"POST to https://api.ecmwf.int/v1/services/cds/datasets/seasonal-monthly-single-levels with parameters: {'originating_centre': 'ecmwf', 'variable': ['2m_temperature'], 'product_type': 'monthly_mean', 'year': '2020', 'month': '01', 'leadtime_month': ['1', '2', '3'], 'format': 'netcdf'}"}},"climate-projections":{paramFormat:{format:"String - Output format (e.g., 'zip', 'netcdf')",experiment:"String - Experiment name (e.g., 'historical', 'ssp5_8_5')",temporal_resolution:"String - Temporal resolution (e.g., 'monthly', 'daily')",variable:"Array - Variables to retrieve",model:"String - Climate model name",date:"String - Date range",area:"Array - Geographic area [north, west, south, east]"},infoSource:"https://confluence.ecmwf.int/display/CKB/CMIP6%3A+Global+climate+projections",example:{experiment:"historical",temporal_resolution:"monthly",variable:["near_surface_air_temperature"],model:"mpi_esm1_2_hr",date:"2000-2010",format:"netcdf",exampleRequest:"POST to https://api.ecmwf.int/v1/services/cds/datasets/projections-cmip6 with parameters: {'experiment': 'historical', 'temporal_resolution': 'monthly', 'variable': ['near_surface_air_temperature'], 'model': 'mpi_esm1_2_hr', 'date': '2000-2010', 'format': 'netcdf'}"}},"grib2-data":{paramFormat:{product:"String - Product type ('oper', 'enfo', 'wave', 'seasonal', 'monthly')",date:"String - Date in YYYYMMDD format",time:"String - Time in HH format (e.g., '00', '12')",step:"String - Forecast step in hours (e.g., '0', '6', '12')",param:"String - GRIB2 parameter code (e.g., '167' for 2m temperature)",levtype:"String - Level type ('sfc' for surface, 'pl' for pressure levels, 'ml' for model levels)",levelist:"String - Level values (for non-surface data)",area:"String - Geographic area [north, west, south, east]",grid:"String - Grid resolution (e.g., '0.25/0.25' for 0.25 degree)",format:"String - Always 'grib2'"},infoSource:"https://confluence.ecmwf.int/display/UDOC/GRIB2+parameter+codes",example:{product:"oper",date:"20240101",time:"00",step:"0",param:"167",levtype:"sfc",area:"60/-10/50/5",grid:"0.25/0.25",format:"grib2",exampleRequest:"Retrieve surface temperature from operational forecast for Europe"}},"era5-grib2":{paramFormat:{dataset:"String - Dataset identifier (usually 'reanalysis-era5-single-levels')",product_type:"String - Product type ('reanalysis')",format:"String - 'grib' for GRIB2 format",variable:"Array - Variable names (e.g., ['2m_temperature', 'total_precipitation'])",year:"String/Array - Year(s) to retrieve",month:"String/Array - Month(s) to retrieve",day:"String/Array - Day(s) to retrieve",time:"String/Array - Time(s) of day",area:"Array - Geographic area [north, west, south, east]"},infoSource:"https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-single-levels",example:{dataset:"reanalysis-era5-single-levels",product_type:"reanalysis",format:"grib",variable:["2m_temperature","total_precipitation"],year:"2020",month:"01",day:"01",time:["00:00","12:00"],area:[60,-10,50,5],exampleRequest:"Retrieve ERA5 temperature and precipitation data in GRIB2 format for January 1, 2020"}},"forecast-grib2":{paramFormat:{class:"String - Data class ('od' for operational dissemination)",date:"String - Forecast date in YYYYMMDD format",expver:"String - Experiment version ('1' for operational)",levtype:"String - Level type ('sfc', 'pl', 'ml')",param:"String - GRIB2 parameter code",step:"String/Array - Forecast steps in hours",stream:"String - Data stream ('oper' for operational, 'enfo' for ensemble)",time:"String - Forecast base time in HH format",type:"String - Data type ('fc' for forecast)",target:"String - Output filename",format:"String - 'grib2'",area:"String - Geographic area [north, west, south, east]"},infoSource:"https://confluence.ecmwf.int/display/UDOC/MARS+user+documentation",example:{class:"od",date:"20240101",expver:"1",levtype:"sfc",param:"167",step:"6",stream:"oper",time:"00",type:"fc",target:"forecast.grib2",format:"grib2",area:"60/-10/50/5",exampleRequest:"Retrieve 6-hour surface temperature forecast for Europe in GRIB2 format"}}}};var T=a(658);const M={"instant-values":{endpoint:"http://waterservices.usgs.gov/nwis/iv/",params:{format:null,site:null,stateCd:null,huc:null,countyCd:null,startDT:null,endDT:null},"data-fields":{},methods:{type:"json",method:"GET"}},"daily-values":{endpoint:"http://waterservices.usgs.gov/nwis/dv/",params:{format:null,site:null,stateCd:null,huc:null,countyCd:null,startDT:null,endDT:null},"data-fields":{},methods:{type:"json",method:"GET"}},groundwater:{endpoint:"http://waterservices.usgs.gov/nwis/gwlevels/",params:{format:null,site:null,stateCd:null,huc:null,countyCd:null,startDT:null,endDT:null},"data-fields":{},methods:{type:"json",method:"GET"}},"drought-monitor":{endpoint:"https://droughtmonitor.unl.edu/data/json/",params:{aoi:null,fips:null,hucLevel:null,hucId:null,week:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://waterservices.usgs.gov/rest/IV-Service.html",About:"This API returns stream stages for US"},"endpoint-info":{"instant-values":{paramFormat:{format:"String - Response format (json, waterml, etc.)",site:"String - Site number(s), comma-separated",stateCd:"String - State code (e.g., 'ia' for Iowa)",huc:"String - Hydrologic Unit Code",countyCd:"String - County code",startDT:"String - Start date (YYYY-MM-DD format)",endDT:"String - End date (YYYY-MM-DD format)"},infoSource:"https://waterservices.usgs.gov/rest/IV-Service.html",example:{format:"json",site:"01646500",startDT:"2020-01-01",endDT:"2020-01-31",exampleRequest:"http://waterservices.usgs.gov/nwis/iv/?format=json&sites=01646500&startDT=2020-01-01&endDT=2020-01-31"}},"daily-values":{paramFormat:{format:"String - Response format (json, waterml, etc.)",site:"String - Site number(s), comma-separated",stateCd:"String - State code (e.g., 'ia' for Iowa)",huc:"String - Hydrologic Unit Code",countyCd:"String - County code",startDT:"String - Start date (YYYY-MM-DD format)",endDT:"String - End date (YYYY-MM-DD format)"},infoSource:"https://waterservices.usgs.gov/rest/DV-Service.html",example:{format:"json",site:"01646500",startDT:"2020-01-01",endDT:"2020-01-31",exampleRequest:"http://waterservices.usgs.gov/nwis/dv/?format=json&sites=01646500&startDT=2020-01-01&endDT=2020-01-31"}},groundwater:{paramFormat:{format:"String - Response format (json, waterml, etc.)",site:"String - Site number(s), comma-separated",stateCd:"String - State code (e.g., 'ia' for Iowa)",huc:"String - Hydrologic Unit Code",countyCd:"String - County code",startDT:"String - Start date (YYYY-MM-DD format)",endDT:"String - End date (YYYY-MM-DD format)"},infoSource:"https://waterservices.usgs.gov/rest/GW-Levels-Service.html",example:{format:"json",site:"414638088384201",startDT:"2020-01-01",endDT:"2020-12-31",exampleRequest:"http://waterservices.usgs.gov/nwis/gwlevels/?format=json&sites=414638088384201&startDT=2020-01-01&endDT=2020-12-31"}},"drought-monitor":{paramFormat:{aoi:"String - Area of interest (e.g., 'state', 'county', 'huc')",fips:"String - FIPS code (when aoi='county' or 'state')",hucLevel:"Number - HUC level (when aoi='huc')",hucId:"String - HUC ID (when aoi='huc')",week:"String - Week date (YYYYMMDD format)"},infoSource:"https://droughtmonitor.unl.edu/Data/GISData.aspx",example:{aoi:"state",fips:"06",week:"20200101",exampleRequest:"https://droughtmonitor.unl.edu/data/json/state_06_20200101.json"}}}},I={"point-data":{endpoint:"https://power.larc.nasa.gov/api/temporal/daily/point",params:{parameters:null,community:null,longitude:null,latitude:null,start:null,end:null,format:null,header:null},methods:{type:"json",method:"GET"}},"regional-data":{endpoint:"https://power.larc.nasa.gov/api/temporal/daily/regional",params:{parameters:null,community:null,longitude_min:null,longitude_max:null,latitude_min:null,latitude_max:null,start:null,end:null,format:null,header:null},methods:{type:"json",method:"GET"}},"global-data":{endpoint:"https://power.larc.nasa.gov/api/temporal/monthly/global",params:{parameters:null,community:null,start:null,end:null,format:null,header:null},methods:{type:"json",method:"GET"}},climatology:{endpoint:"https://power.larc.nasa.gov/api/temporal/climatology/point",params:{parameters:null,community:null,longitude:null,latitude:null,format:null,header:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json, csv, netcdf, geotiff",MoreInfo:"https://power.larc.nasa.gov/docs/services/api/",About:"NASA POWER (Prediction of Worldwide Energy Resource) API provides global meteorology and solar energy data for multiple applications."},"endpoint-info":{"point-data":{paramFormat:{parameters:"String - Comma-separated list of parameters (e.g., 'T2M,PRECTOTCORR,RH2M')",community:"String - User community ('ag' for agricultural, 're' for renewable energy, 'sb' for sustainable buildings)",longitude:"Number - Longitude coordinate",latitude:"Number - Latitude coordinate",start:"String - Start date (YYYYMMDD format)",end:"String - End date (YYYYMMDD format)",format:"String - Response format ('JSON', 'CSV', 'NETCDF')",header:"Boolean - Include header in response (true/false)"},infoSource:"https://power.larc.nasa.gov/docs/services/api/temporal/daily/point/",example:{parameters:"T2M,PRECTOTCORR,RH2M",community:"re",longitude:-76.3,latitude:38.5,start:"20200101",end:"20200131",format:"JSON",exampleRequest:"https://power.larc.nasa.gov/api/temporal/daily/point?parameters=T2M,PRECTOTCORR,RH2M&community=re&longitude=-76.3&latitude=38.5&start=20200101&end=20200131&format=JSON"}},"regional-data":{paramFormat:{parameters:"String - Comma-separated list of parameters (e.g., 'T2M,PRECTOTCORR,RH2M')",community:"String - User community ('ag' for agricultural, 're' for renewable energy, 'sb' for sustainable buildings)",longitude_min:"Number - Minimum longitude coordinate",longitude_max:"Number - Maximum longitude coordinate",latitude_min:"Number - Minimum latitude coordinate",latitude_max:"Number - Maximum latitude coordinate",start:"String - Start date (YYYYMMDD format)",end:"String - End date (YYYYMMDD format)",format:"String - Response format ('JSON', 'CSV', 'NETCDF', 'GEOTIFF')",header:"Boolean - Include header in response (true/false)"},infoSource:"https://power.larc.nasa.gov/docs/services/api/temporal/daily/regional/",example:{parameters:"T2M",community:"re",longitude_min:-76.5,longitude_max:-76,latitude_min:38,latitude_max:39,start:"20200101",end:"20200107",format:"GEOTIFF",exampleRequest:"https://power.larc.nasa.gov/api/temporal/daily/regional?parameters=T2M&community=re&longitude-min=-76.5&longitude-max=-76.0&latitude-min=38.0&latitude-max=39.0&start=20200101&end=20200107&format=GEOTIFF"}},"global-data":{paramFormat:{parameters:"String - Comma-separated list of parameters (e.g., 'T2M,PRECTOTCORR')",community:"String - User community ('ag' for agricultural, 're' for renewable energy, 'sb' for sustainable buildings)",start:"String - Start date (YYYYMM format)",end:"String - End date (YYYYMM format)",format:"String - Response format ('JSON', 'CSV', 'NETCDF')",header:"Boolean - Include header in response (true/false)"},infoSource:"https://power.larc.nasa.gov/docs/services/api/temporal/monthly/global/",example:{parameters:"T2M,PRECTOTCORR",community:"re",start:"202001",end:"202012",format:"JSON",exampleRequest:"https://power.larc.nasa.gov/api/temporal/monthly/global?parameters=T2M,PRECTOTCORR&community=re&start=202001&end=202012&format=JSON"}},climatology:{paramFormat:{parameters:"String - Comma-separated list of parameters (e.g., 'T2M,PRECTOTCORR,RH2M')",community:"String - User community ('ag' for agricultural, 're' for renewable energy, 'sb' for sustainable buildings)",longitude:"Number - Longitude coordinate",latitude:"Number - Latitude coordinate",format:"String - Response format ('JSON', 'CSV')",header:"Boolean - Include header in response (true/false)"},infoSource:"https://power.larc.nasa.gov/docs/services/api/temporal/climatology/point/",example:{parameters:"T2M,PRECTOTCORR",community:"re",longitude:-76.3,latitude:38.5,format:"JSON",exampleRequest:"https://power.larc.nasa.gov/api/temporal/climatology/point?parameters=T2M,PRECTOTCORR&community=re&longitude=-76.3&latitude=38.5&format=JSON"}}}},C="https://api.water.usgs.gov/nldi/",F={lookups:{endpoint:`${C}/lookups`,params:{},methods:{type:"json",method:"GET"}},characteristics:{endpoint:`${C}/lookups/{characteristicType}/characteristics`,params:{characteristicType:null},methods:{type:"json",method:"GET"}},linkedData:{endpoint:`${C}/linked-data`,params:{},methods:{type:"json",method:"GET"}},features:{endpoint:`${C}/linked-data/{featureSource}`,params:{featureSource:null},methods:{type:"json",method:"GET"}},getBasin:{endpoint:`${C}/linked-data/{featureSource}/{featureId}/basin`,params:{featureSource:null,featureId:null},methods:{type:"json",method:"GET"}},getNavigationTypes:{endpoint:`${C}/linked-data/{featureSource}/{featureId}/navigation-types`,params:{featureSource:null,featureId:null},methods:{type:"json",method:"GET"}},getNavigationFeatures:{endpoint:`${C}/linked-data/{featureSource}/{featureId}/navigation/{navigationMode}/{dataSource}/{distance}`,params:{featureSource:null,featureId:null,navigationMode:null,dataSource:null,distance:null},methods:{type:"json",method:"GET"}},getComid:{endpoint:`${C}/linked-data/comid/{comid}`,params:{comid:null},methods:{type:"json",method:"GET"}},getFeatureByCoordinates:{endpoint:`${C}/linked-data/comid/position`,params:{coords:null},methods:{type:"json",method:"GET"}},getHydrologicLocation:{endpoint:`${C}/linked-data/hydrolocation`,params:{coords:null},methods:{type:"json",method:"GET"}},getFlowlines:{endpoint:`${C}/linked-data/comid/{comid}/navigation/{navigationMode}/flowlines`,params:{comid:null,navigationMode:null,distance:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://waterdata.usgs.gov/blog/nldi-intro/",About:"USGS National Land Data Interoperability (NLDI) API that allows access to hydrological data including basin boundaries, navigation features, and watershed characteristics."},"endpoint-info":{lookups:{paramFormat:{},infoSource:"https://waterdata.usgs.gov/blog/nldi-intro/",example:{exampleRequest:"https://api.water.usgs.gov/nldi/lookups"}},characteristics:{paramFormat:{characteristicType:"String - Type of characteristic (e.g., 'local', 'total')"},infoSource:"https://waterdata.usgs.gov/blog/nldi-intro/",example:{characteristicType:"local",exampleRequest:"https://api.water.usgs.gov/nldi/lookups/local/characteristics"}},linkedData:{paramFormat:{},infoSource:"https://waterdata.usgs.gov/blog/nldi-intro/",example:{exampleRequest:"https://api.water.usgs.gov/nldi/linked-data"}},features:{paramFormat:{featureSource:"String - Feature source identifier (e.g., 'comid', 'huc12pp', 'nwissite')"},infoSource:"https://waterdata.usgs.gov/blog/nldi-intro/",example:{featureSource:"comid",exampleRequest:"https://api.water.usgs.gov/nldi/linked-data/comid"}},getBasin:{paramFormat:{featureSource:"String - Feature source identifier (e.g., 'comid')",featureId:"String - Feature identifier"},infoSource:"https://waterdata.usgs.gov/blog/nldi-intro/",example:{featureSource:"comid",featureId:"13297246",exampleRequest:"https://api.water.usgs.gov/nldi/linked-data/comid/13297246/basin"}},getNavigationTypes:{paramFormat:{featureSource:"String - Feature source identifier (e.g., 'comid')",featureId:"String - Feature identifier"},infoSource:"https://waterdata.usgs.gov/blog/nldi-intro/",example:{featureSource:"comid",featureId:"13297246",exampleRequest:"https://api.water.usgs.gov/nldi/linked-data/comid/13297246/navigation-types"}},getNavigationFeatures:{paramFormat:{featureSource:"String - Feature source identifier (e.g., 'comid')",featureId:"String - Feature identifier",navigationMode:"String - Navigation mode (e.g., 'UM', 'UT', 'DM', 'DD')",dataSource:"String - Data source for navigation",distance:"Number - Distance in kilometers"},infoSource:"https://waterdata.usgs.gov/blog/nldi-intro/",example:{featureSource:"comid",featureId:"13297246",navigationMode:"UM",dataSource:"flowlines",distance:10,exampleRequest:"https://api.water.usgs.gov/nldi/linked-data/comid/13297246/navigation/UM/flowlines/10"}},getComid:{paramFormat:{comid:"String - COMID identifier"},infoSource:"https://waterdata.usgs.gov/blog/nldi-intro/",example:{comid:"13297246",exampleRequest:"https://api.water.usgs.gov/nldi/linked-data/13297246"}},getFeatureByCoordinates:{paramFormat:{coords:"String - Point coordinates in format 'POINT(longitude latitude)'"},infoSource:"https://waterdata.usgs.gov/blog/nldi-intro/",example:{coords:"POINT(-89.509 43.087)",exampleRequest:"https://api.water.usgs.gov/nldi/linked-data/comid/position?coords=POINT(-89.509 43.087)"}},getHydrologicLocation:{paramFormat:{coords:"String - Point coordinates in format 'POINT(longitude latitude)'"},infoSource:"https://waterdata.usgs.gov/blog/nldi-intro/",example:{coords:"POINT(-89.509 43.087)",exampleRequest:"https://api.water.usgs.gov/nldi/linked-data/hydrolocation?coords=POINT(-89.509 43.087)"}},getFlowlines:{paramFormat:{comid:"String - COMID identifier",navigationMode:"String - Navigation mode (UM, UT, DM, DD)",distance:"Number - Distance in kilometers"},infoSource:"https://waterdata.usgs.gov/blog/nldi-intro/",example:{comid:"13297246",navigationMode:"UM",distance:10,exampleRequest:"https://api.water.usgs.gov/nldi/linked-data/comid/13297246/navigation/UM/flowlines?distance=10"}}}},E={"nldas-3-hourly":{baseUrl:"https://nasa-waterinsight.s3.amazonaws.com/NLDAS3/forcing/hourly",description:"NLDAS-3 Meteorological Forcing Data - Hourly resolution",format:"netcdf",temporalResolution:"1H",spatial:{coverage:"North and Central America (CONUS, Alaska, Hawaii, Puerto Rico, Central America)",resolution:"0.01° × 0.01° (~1km)",latitude:{min:0,max:53,resolution:.01},longitude:{min:-130,max:-60,resolution:.01},crs:"EPSG:4326 (WGS84)",gridDimensions:"5300 × 7000 (latitude × longitude)"},temporal:{resolution:"1H",start:"1979-01-01T00:00:00Z",end:"2020-12-31T23:00:00Z",timeZone:"UTC",fileFrequency:"daily",availableVariables:["Tair","Qair","PSurf","Wind_N","Wind_E","LWdown","SWdown","Rainf"]},features:{compression:"NetCDF-4 with internal compression",variables:"8 meteorological variables",dataQuality:"Quality-controlled meteorological observations"}},"nldas-3-daily":{baseUrl:"https://nasa-waterinsight.s3.amazonaws.com/NLDAS3/forcing/daily",description:"NLDAS-3 Meteorological Forcing Data - Daily averages",format:"netcdf",temporalResolution:"1D",spatial:{coverage:"North and Central America (CONUS, Alaska, Hawaii, Puerto Rico, Central America)",resolution:"0.01° × 0.01° (~1km)",latitude:{min:0,max:53,resolution:.01},longitude:{min:-130,max:-60,resolution:.01},crs:"EPSG:4326 (WGS84)",gridDimensions:"5300 × 7000 (latitude × longitude)"},temporal:{resolution:"1D",start:"1979-01-01T00:00:00Z",end:"2020-12-31T00:00:00Z",timeZone:"UTC",fileFrequency:"daily",availableVariables:["Tair","Tair_min","Tair_max","Qair","PSurf","Wind_N","Wind_E","LWdown","SWdown","Rainf"]},features:{compression:"NetCDF-4 with internal compression",variables:"10 meteorological variables",dataQuality:"Quality-controlled meteorological observations"}},"nldas-3-monthly":{baseUrl:"https://nasa-waterinsight.s3.amazonaws.com/NLDAS3/forcing/monthly",description:"NLDAS-3 Meteorological Forcing Data - Monthly averages",format:"netcdf",temporalResolution:"1M",spatial:{coverage:"North and Central America (CONUS, Alaska, Hawaii, Puerto Rico, Central America)",resolution:"0.01° × 0.01° (~1km)",latitude:{min:0,max:53,resolution:.01},longitude:{min:-130,max:-60,resolution:.01},crs:"EPSG:4326 (WGS84)",gridDimensions:"5300 × 7000 (latitude × longitude)"},temporal:{resolution:"1M",start:"1979-01-01T00:00:00Z",end:"2020-12-31T00:00:00Z",timeZone:"UTC",fileFrequency:"monthly",availableVariables:["Tair","Qair","PSurf","Wind_N","Wind_E","LWdown","SWdown","Rainf"]},features:{compression:"NetCDF-4 with internal compression",variables:"8 meteorological variables",dataQuality:"Quality-controlled meteorological observations"}}},k={sourceType:(e,t,a)=>{const r=E[e];if(!r)throw new Error(`Unknown NLDAS dataset: ${e}`);let o="";if("raw-netcdf"!==t)return null;{const{year:t,month:n,day:i,hour:s}=a;if(!t||!n||!i)throw new Error("Year, month, and day are required for raw-netcdf access");let l;if("nldas-3-hourly"===e){if(null==s)throw new Error("Hour is required for hourly NLDAS data");l=`NLDAS_FOR0010_H.A${t}${n.padStart(2,"0")}${i.padStart(2,"0")}.${s.toString().padStart(2,"0")}0.beta.nc`}else"nldas-3-daily"===e?l=`NLDAS_FOR0010_D.A${t}${n.padStart(2,"0")}${i.padStart(2,"0")}.beta.nc`:"nldas-3-monthly"===e&&(l=`NLDAS_FOR0010_M.A${t}${n.padStart(2,"0")}.beta.nc`);o=`${r.baseUrl}/${t}${n.padStart(2,"0")}/${l}`}return o},"point-data":{endpoint:null,params:{dataset:null,variables:null,latitude:null,longitude:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"grid-data":{endpoint:null,params:{dataset:null,variables:null,bbox:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"timeseries-data":{endpoint:null,params:{dataset:null,variables:null,locations:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"dataset-info":{endpoint:null,params:{dataset:null,info:null},methods:{type:"json",method:"GET"}},"raw-netcdf":{endpoint:null,params:{dataset:null,year:null,month:null,day:null,hour:null},methods:{type:"arraybuffer",method:"GET"}},requirements:{needProxy:!1,requireskey:!1},info:{returnFormats:"json, csv, netcdf, geotiff, arraybuffer",MoreInfo:"https://ldas.gsfc.nasa.gov/nldas/NLDAS2forcing.php",About:"NLDAS-3 provides high-resolution meteorological forcing data for hydrologic modeling across North and Central America. Data includes precipitation, temperature, humidity, wind, and radiation variables at hourly temporal resolution and ~1km spatial resolution."},datasets:E,variables:{Tair:{longName:"Near-surface air temperature",units:"K",scaleFactor:1,fillValue:-9999,dtype:"float32",description:"Near-surface air temperature",category:"temperature",temporalResolutions:["1H","1D","1M"],spatialResolution:"0.01° (~1km)"},Tair_min:{longName:"Daily minimum near-surface air temperature",units:"K",scaleFactor:1,fillValue:-9999,dtype:"float32",description:"Daily minimum near-surface air temperature",category:"temperature",temporalResolutions:["1D"],spatialResolution:"0.01° (~1km)"},Tair_max:{longName:"Daily maximum near-surface air temperature",units:"K",scaleFactor:1,fillValue:-9999,dtype:"float32",description:"Daily maximum near-surface air temperature",category:"temperature",temporalResolutions:["1D"],spatialResolution:"0.01° (~1km)"},Qair:{longName:"Near-surface specific humidity",units:"kg kg⁻¹",scaleFactor:1,fillValue:-9999,dtype:"float32",description:"Near-surface specific humidity",category:"moisture",temporalResolutions:["1H","1D","1M"],spatialResolution:"0.01° (~1km)"},PSurf:{longName:"Surface pressure",units:"Pa",scaleFactor:1,fillValue:-9999,dtype:"float32",description:"Surface pressure",category:"pressure",temporalResolutions:["1H","1D","1M"],spatialResolution:"0.01° (~1km)"},Wind_N:{longName:"Northward wind",units:"m s⁻¹",scaleFactor:1,fillValue:-9999,dtype:"float32",description:"Northward wind component",category:"wind",temporalResolutions:["1H","1D","1M"],spatialResolution:"0.01° (~1km)"},Wind_E:{longName:"Eastward wind",units:"m s⁻¹",scaleFactor:1,fillValue:-9999,dtype:"float32",description:"Eastward wind component",category:"wind",temporalResolutions:["1H","1D","1M"],spatialResolution:"0.01° (~1km)"},LWdown:{longName:"Downward longwave radiation at the surface",units:"W m⁻²",scaleFactor:1,fillValue:-9999,dtype:"float32",description:"Downward longwave radiation at the surface",category:"radiation",temporalResolutions:["1H","1D","1M"],spatialResolution:"0.01° (~1km)"},SWdown:{longName:"Downward shortwave radiation at the surface",units:"W m⁻²",scaleFactor:1,fillValue:-9999,dtype:"float32",description:"Downward shortwave radiation at the surface",category:"radiation",temporalResolutions:["1H","1D","1M"],spatialResolution:"0.01° (~1km)"},Rainf:{longName:"Total precipitation rate",units:"kg m⁻²",scaleFactor:1,fillValue:-9999,dtype:"float32",description:"Total precipitation rate",category:"precipitation",temporalResolutions:["1H","1D","1M"],spatialResolution:"0.01° (~1km)",notes:"Units are kg/m², which equals mm for water (assuming density of 1000 kg/m³)"}},"endpoint-info":{"point-data":{paramFormat:{dataset:"String - Dataset identifier (e.g., 'nldas-3-forcing')",variables:"Array - Variable names (e.g., ['APCPsfc', 'TMP2m', 'SPFH2m'])",latitude:"Number - Latitude coordinate (-90 to 90)",longitude:"Number - Longitude coordinate (-180 to 180)",startDate:"String - Start date in ISO format (YYYY-MM-DDTHH:mm:ssZ)",endDate:"String - End date in ISO format (YYYY-MM-DDTHH:mm:ssZ)",format:"String - Output format ('json', 'csv', 'netcdf')"},infoSource:"https://ldas.gsfc.nasa.gov/nldas/NLDAS2forcing.php",example:{dataset:"nldas-3-hourly",variables:["Rainf","Tair"],latitude:40.7128,longitude:-74.006,startDate:"2015-01-31T00:00:00Z",endDate:"2015-01-31T23:00:00Z",format:"json",exampleRequest:"Extract precipitation and temperature for New York City on January 31, 2015"}},"grid-data":{paramFormat:{dataset:"String - Dataset identifier",variables:"Array - Variable names",bbox:"Array - Bounding box [west, south, east, north] in decimal degrees",startDate:"String - Start date in ISO format",endDate:"String - End date in ISO format",format:"String - Output format ('json', 'netcdf', 'geotiff')"},infoSource:"https://ldas.gsfc.nasa.gov/nldas/NLDAS2forcing.php",example:{dataset:"nldas-3-hourly",variables:["Rainf","Tair"],bbox:[-75,40,-73,42],startDate:"2015-01-31T12:00:00Z",endDate:"2015-01-31T12:00:00Z",format:"netcdf",exampleRequest:"Extract precipitation and temperature grid for New York region at noon"}},"timeseries-data":{paramFormat:{dataset:"String - Dataset identifier",variables:"Array - Variable names",locations:"Array - Array of [latitude, longitude] coordinate pairs",startDate:"String - Start date in ISO format",endDate:"String - End date in ISO format",format:"String - Output format"},infoSource:"https://ldas.gsfc.nasa.gov/nldas/NLDAS2forcing.php",example:{dataset:"nldas-3-hourly",variables:["Rainf","Tair"],locations:[[40.7128,-74.006],[34.0522,-118.2437]],startDate:"2015-01-31T00:00:00Z",endDate:"2015-01-31T23:00:00Z",format:"csv",exampleRequest:"Extract 24-hour time series for New York and Los Angeles"}},"dataset-info":{paramFormat:{dataset:"String - Dataset identifier",info:"String - Information type ('variables', 'spatial', 'temporal', 'metadata')"},infoSource:"https://ldas.gsfc.nasa.gov/nldas/NLDAS2forcing.php",example:{dataset:"nldas-3-hourly",info:"variables",exampleRequest:"Get information about all available meteorological variables"}},"raw-netcdf":{paramFormat:{dataset:"String - Dataset identifier",year:"String - Year in YYYY format (e.g., '2015')",month:"String - Month in MM format (e.g., '01')",day:"String - Day in DD format (e.g., '31')",hour:"String - Optional hour in HH format (e.g., '12')"},infoSource:"https://ldas.gsfc.nasa.gov/nldas/NLDAS2forcing.php",example:{dataset:"nldas-3-hourly",year:"2015",month:"01",day:"31",hour:"12",exampleRequest:"Get raw NetCDF file for January 31, 2015 at 12:00 UTC"}}}};var R=a(879);const N={"point-data":{endpoint:null,params:{dataset:null,variables:null,comid:null,latitude:null,longitude:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"grid-data":{endpoint:null,params:{dataset:null,variables:null,bbox:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"timeseries-data":{endpoint:null,params:{dataset:null,variable:null,locations:null,startDate:null,endDate:null,format:null},methods:{type:"json",method:"GET"}},"dataset-info":{endpoint:null,params:{dataset:null,info:null},methods:{type:"json",method:"GET"}},"bulk-extraction":{endpoint:null,params:{dataset:null,variables:null,bbox:null,startDate:null,endDate:null,timeStep:null,spatialStep:null,format:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!1,requireskey:!1},info:{returnFormats:"json, csv, netcdf",MoreInfo:"https://docs.ciroh.org/docs/products/Data%20Management%20and%20Access%20Tools/bigquery-api/",About:"National Water Model Retrospective Data provides historical streamflow data for hydrologic modeling and analysis. Data is stored in Zarr format on Amazon S3 with no authentication required."},datasets:{"nwm-retrospective-2-1-zarr-pds":{baseUrl:"https://noaa-nwm-retrospective-2-1-zarr-pds.s3.amazonaws.com",format:"zarr",description:"NWM Retrospective Version 2.1 - Zarr format - 41-year simulation (1979-2020)",spatial:{latitude:{min:24,max:53,resolution:.029},longitude:{min:-125,max:-67,resolution:.029},crs:"Lambert Conformal Conic",proj4:"+proj=lcc +units=m +a=6370000.0 +b=6370000.0 +lat_1=30.0 +lat_2=60.0 +lat_0=40.0 +lon_0=-97.0 +x_0=0 +y_0=0 +k_0=1.0 +nadgrids=@"},temporal:{start:"1979-02-01T01:00:00Z",end:"2020-12-31T23:00:00Z",resolution:"1H",version:"2.1",totalTimeSteps:367439,timeUnits:"hours since 1979-02-01T01:00:00"},features:{totalCount:2776738,description:"NHDPlusv2 ComIDs within CONUS, arbitrary Reach IDs outside of CONUS"},products:{chrtout:{frequency:"1H",description:"Streamflow values at points associated with flow lines",zarrPath:"chrtout.zarr"}}},"nwm-retrospective-2-1-pds":{baseUrl:"https://noaa-nwm-retrospective-2-1-pds.s3.amazonaws.com",format:"netcdf",description:"NWM Retrospective Version 2.1 - NetCDF format - 41-year simulation (1979-2020)",spatial:{latitude:{min:24,max:53,resolution:.029},longitude:{min:-125,max:-67,resolution:.029}},temporal:{start:"1979-02-01T00:00:00Z",end:"2020-12-31T23:00:00Z",resolution:"1H",version:"2.1"},products:{chrtout:{frequency:"1H",description:"Streamflow values at points associated with flow lines"},lakeout:{frequency:"1H",description:"Output values at points associated with reservoirs (lakes)"},ldasout:{frequency:"3H",description:"Land surface model output"},rtout:{frequency:"3H",description:"Ponded water and depth to soil saturation"},gwout:{frequency:"3H",description:"Conceptual nonlinear groundwater reservoir output"}}},"nwm-retrospective-2-0-pds":{baseUrl:"https://noaa-nwm-retro-v2.0-pds.s3.amazonaws.com",description:"NWM Retrospective Version 2.0 - 26-year simulation (1993-2018)",spatial:{latitude:{min:24,max:53,resolution:.029},longitude:{min:-125,max:-67,resolution:.029}},temporal:{start:"1993-01-01T00:00:00Z",end:"2018-12-31T23:00:00Z",resolution:"1H",version:"2.0"},products:{chrtout:{frequency:"1H",description:"Streamflow values at points associated with flow lines"},lakeout:{frequency:"1H",description:"Output values at points associated with reservoirs (lakes)"},ldasout:{frequency:"3H",description:"Land surface model output"},rtout:{frequency:"3H",description:"Ponded water and depth to soil saturation"},gwout:{frequency:"3H",description:"Conceptual nonlinear groundwater reservoir output"}}},"nwm-retrospective-1-2-pds":{baseUrl:"https://nwm-archive.s3.amazonaws.com",description:"NWM Retrospective Version 1.2 - 25-year simulation (1993-2017)",spatial:{latitude:{min:24,max:53,resolution:.029},longitude:{min:-125,max:-67,resolution:.029}},temporal:{start:"1993-01-01T00:00:00Z",end:"2017-12-31T23:00:00Z",resolution:"1H",version:"1.2"},products:{chrtout:{frequency:"1H",description:"Streamflow values at points associated with flow lines"},lakeout:{frequency:"1H",description:"Output values at points associated with reservoirs (lakes)"},ldasout:{frequency:"3H",description:"Land surface model output"},rtout:{frequency:"3H",description:"Ponded water and depth to soil saturation"}}}},variables:{streamflow:{longName:"River Flow",units:"m³/s",scaleFactor:.009999999776482582,addOffset:0,fillValue:-999900,missingValue:-999900,dtype:"<i4",product:"chrtout",versions:["2.1","2.0","1.2"],dimensions:["time","feature_id"],shape:[367439,2776738],chunks:[672,3e4]},velocity:{longName:"River Velocity",units:"m/s",scaleFactor:.009999999776482582,addOffset:0,fillValue:-999900,missingValue:-999900,dtype:"<i4",product:"chrtout",versions:["2.1","2.0","1.2"],dimensions:["time","feature_id"],shape:[367439,2776738],chunks:[672,3e4]},elevation:{longName:"Feature Elevation",units:"m",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"chrtout",versions:["2.1","2.0"]},q_lateral:{longName:"Total runoff into channel reach",units:"m³/s",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"chrtout",versions:["2.1","2.0","1.2"]},velocity:{longName:"River velocity",units:"m/s",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"chrtout",versions:["2.1","2.0","1.2"]},qSfcLatRunoff:{longName:"Runoff from terrain routing into channel",units:"m³/s",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"chrtout",versions:["2.1","2.0","1.2"]},qBucket:{longName:"Flux from conceptual groundwater basin into channel",units:"m³/s",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"chrtout",versions:["2.1","2.0","1.2"]},qBtmVertRunoff:{longName:"Runoff from bottom of soil column to conceptual groundwater basin",units:"m³",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"chrtout",versions:["2.1","2.0","1.2"]},reservoir_type:{longName:"Reservoir Type",units:"dimensionless",scaleFactor:1,fillValue:-999900,dtype:"int32",product:"lakeout",versions:["2.1"]},reservoir_assimilated_value:{longName:"Reservoir Assimilated Value",units:"m³/s",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"lakeout",versions:["2.1"]},water_sfc_elev:{longName:"Water Surface Elevation",units:"m",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"lakeout",versions:["2.1","2.0","1.2"]},inflow:{longName:"Lake Inflow",units:"m³/s",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"lakeout",versions:["2.1","2.0","1.2"]},outflow:{longName:"Lake Outflow",units:"m³/s",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"lakeout",versions:["2.1","2.0","1.2"]},COSZ:{longName:"Cosine of zenith angle",units:"dimensionless",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0"]},FSA:{longName:"Total absorbed shortwave radiation",units:"W/m²",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},FIRA:{longName:"Total net longwave radiation to atmosphere",units:"W/m²",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},HFX:{longName:"Total sensible heat to atmosphere",units:"W/m²",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},LH:{longName:"Total latent heat to the atmosphere",units:"W/m²",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},ALBEDO:{longName:"Surface albedo",units:"dimensionless",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0"]},UGDRNOFF:{longName:"Accumulated underground runoff",units:"mm",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},TRAD:{longName:"Surface radiative temperature",units:"K",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},SOIL_W:{longName:"Liquid volumetric soil moisture",units:"m³/m³",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},SOIL_M:{longName:"Volumetric soil moisture (liquid and frozen)",units:"m³/m³",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},SNOWH:{longName:"Snow depth",units:"m",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},SNEQV:{longName:"Snow water equivalent",units:"kg/m²",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},FSNO:{longName:"Snow-cover fraction on the ground",units:"fraction",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},ACCET:{longName:"Accumulated total ET",units:"mm",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"ldasout",versions:["2.1","2.0","1.2"]},Zwattablrt:{longName:"Depth to saturation, rounded to the highest saturated layer",units:"m",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"rtout",versions:["2.1","2.0","1.2"]},sfcheadsubrt:{longName:"Ponded water depth",units:"mm",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"rtout",versions:["2.1","2.0","1.2"]},inflow:{longName:"Conceptual Groundwater basin inflow",units:"m³/s",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"gwout",versions:["2.1","2.0"]},outflow:{longName:"Conceptual Groundwater basin outflow",units:"m³/s",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"gwout",versions:["2.1","2.0"]},depth:{longName:"Conceptual Groundwater basin storage depth",units:"m",scaleFactor:1,fillValue:-999900,dtype:"float32",product:"gwout",versions:["2.1","2.0"]}},"endpoint-info":{"point-data":{paramFormat:{dataset:"String - Dataset identifier (e.g., 'nwm-retrospective-3-0-pds')",variables:"Array - Variable names (usually ['streamflow'])",latitude:"Number - Latitude coordinate (-90 to 90)",longitude:"Number - Longitude coordinate (-180 to 180)",startDate:"String - Start date in ISO format (YYYY-MM-DDTHH:mm:ssZ)",endDate:"String - End date in ISO format (YYYY-MM-DDTHH:mm:ssZ)",format:"String - Output format ('json', 'csv', 'netcdf')"},infoSource:"https://docs.ciroh.org/docs/products/Data%20Management%20and%20Access%20Tools/bigquery-api/",example:{dataset:"nwm-retrospective-2-1-zarr-pds",variables:["streamflow"],latitude:40.7128,longitude:-74.006,startDate:"2019-07-01T00:00:00Z",endDate:"2019-07-02T00:00:00Z",format:"json",exampleRequest:"Extract streamflow data for New York City - COMID will be auto-found from coordinates"}},"grid-data":{paramFormat:{dataset:"String - Dataset identifier",variables:"Array - Variable names",bbox:"Array - Bounding box [west, south, east, north]",startDate:"String - Start date in ISO format",endDate:"String - End date in ISO format",format:"String - Output format"},infoSource:"https://docs.ciroh.org/docs/products/Data%20Management%20and%20Access%20Tools/bigquery-api/",example:{dataset:"nwm-retrospective-3-0-pds",variables:["streamflow"],bbox:[-75,40,-73,42],startDate:"2020-01-01T00:00:00Z",endDate:"2020-01-02T00:00:00Z",format:"netcdf",exampleRequest:"Extract streamflow data for New York region for 24 hours"}},"timeseries-data":{paramFormat:{dataset:"String - Dataset identifier",variable:"String - Variable name (usually 'streamflow')",locations:"Array - Array of [latitude, longitude] coordinate pairs",startDate:"String - Start date in ISO format",endDate:"String - End date in ISO format",format:"String - Output format"},infoSource:"https://docs.ciroh.org/docs/products/Data%20Management%20and%20Access%20Tools/bigquery-api/",example:{dataset:"nwm-retrospective-3-0-pds",variable:"streamflow",locations:[[40.7128,-74.006],[34.0522,-118.2437]],startDate:"2020-01-01T00:00:00Z",endDate:"2020-01-31T23:00:00Z",format:"csv",exampleRequest:"Extract streamflow time series for New York and Los Angeles"}},"dataset-info":{paramFormat:{dataset:"String - Dataset identifier",info:"String - Information type ('variables', 'spatial', 'temporal', 'metadata')"},infoSource:"https://docs.ciroh.org/docs/products/Data%20Management%20and%20Access%20Tools/bigquery-api/",example:{dataset:"nwm-retrospective-3-0-pds",info:"variables",exampleRequest:"Get information about available variables in the dataset"}},"bulk-extraction":{paramFormat:{dataset:"String - Dataset identifier",variables:"Array - Variable names to extract",bbox:"Array - Bounding box [west, south, east, north]",startDate:"String - Start date in ISO format",endDate:"String - End date in ISO format",timeStep:"String - Temporal aggregation ('1H', '3H', '6H', '12H', '1D')",spatialStep:"Number - Spatial aggregation factor",format:"String - Output format"},infoSource:"https://docs.ciroh.org/docs/products/Data%20Management%20and%20Access%20Tools/bigquery-api/",example:{dataset:"nwm-retrospective-3-0-pds",variables:["streamflow"],bbox:[-125,24,-67,53],startDate:"2020-01-01T00:00:00Z",endDate:"2020-12-31T23:00:00Z",timeStep:"1D",spatialStep:10,format:"json",exampleRequest:"Extract daily streamflow for CONUS with 10x spatial aggregation"}}}},A={flowlines:{endpoint:"https://api.water.usgs.gov/geoserver/wmadata/ows",params:{service:"WFS",version:"2.0.0",request:"GetFeature",typeName:"wmadata:nhdflowline_network",outputFormat:"application/json",bbox:null,maxFeatures:null,cql_filter:null,propertyName:null},methods:{type:"json",method:"GET"}},waterbodies:{endpoint:"https://api.water.usgs.gov/geoserver/wmadata/ows",params:{service:"WFS",version:"2.0.0",request:"GetFeature",typeName:"wmadata:nhdwaterbody",outputFormat:"application/json",bbox:null,maxFeatures:null,cql_filter:null,propertyName:null},methods:{type:"json",method:"GET"}},catchments:{endpoint:"https://api.water.usgs.gov/geoserver/wmadata/ows",params:{service:"WFS",version:"2.0.0",request:"GetFeature",typeName:"wmadata:catchmentsp",outputFormat:"application/json",bbox:null,maxFeatures:null,cql_filter:null,propertyName:null},methods:{type:"json",method:"GET"}},gages:{endpoint:"https://api.water.usgs.gov/geoserver/wmadata/ows",params:{service:"WFS",version:"2.0.0",request:"GetFeature",typeName:"wmadata:gagesii",outputFormat:"application/json",bbox:null,maxFeatures:null,cql_filter:null,propertyName:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://www.usgs.gov/national-hydrography/nhdplus-high",About:"USGS NHDPlus via WFS/GeoServer. Supports spatial queries for hydrographic features using bounding box."},"endpoint-info":{flowlines:{paramFormat:{bbox:"Array - Bounding box [minLon, minLat, maxLon, maxLat]",maxFeatures:"Integer - Max number of features",cql_filter:"String - Custom filter expression",propertyName:"String - Comma-separated list of properties to retrieve"},infoSource:"https://www.usgs.gov/tools/water-geoserver",example:{bbox:[-93.65,41.5,-93.5,41.6],exampleRequest:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WFS&version=2.0.0&request=GetFeature&typeName=wmadata:nhdflowline_network&outputFormat=application/json&bbox=-93.65,41.5,-93.5,41.6,EPSG:4326"}}}};var P=a(299);const j={"grid-data":{endpoint:null,params:{dataset:null,variables:null,bbox:null,resolution:null,format:null},methods:{type:"json",method:"GET"}},"point-data":{endpoint:null,params:{dataset:null,variables:null,latitude:null,longitude:null,format:null},methods:{type:"json",method:"GET"}},"dataset-info":{endpoint:null,params:{dataset:null,info:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!1,requireskey:!1},info:{returnFormats:"geotiff, json, georaster",MoreInfo:"https://www.usgs.gov/3d-elevation-program",About:"The 3D Elevation Program (3DEP) provides high-resolution elevation data for the United States. Data is served through the USGS National Map service as GeoTIFF files."},datasets:{"3dep-dem":{baseUrl:"https://elevation.nationalmap.gov/arcgis/rest/services/3DEPElevation/ImageServer",description:"3D Elevation Program - Digital Elevation Model data from USGS",spatial:{coverage:"CONUS (Continental United States)",resolution:{min:1,max:30,units:"meters"},crs:"EPSG:5070 (Albers Equal Area)",outputCrs:"EPSG:4326 (WGS84)"},temporal:{description:"Static elevation data - no temporal component",version:"Current"},features:{format:"GeoTIFF",pixelType:"32-bit float",compression:"LZ77",maxImageSize:2048}}},variables:{elevation:{longName:"Digital Elevation Model",units:"meters",scaleFactor:1,fillValue:-999999,dtype:"float32",description:"Elevation values above NAVD88 datum",product:"dem",format:"geotiff",spatialReference:"EPSG:5070"}},"endpoint-info":{"grid-data":{paramFormat:{dataset:"String - Dataset identifier (e.g., '3dep-dem')",variables:"Array - Variable names (usually ['elevation'])",bbox:"Array - Bounding box [west, south, east, north] in WGS84 coordinates",resolution:"Number - Resolution in meters (1, 3, 5, 10, 30)",format:"String - Output format ('geotiff', 'json', 'georaster')"},infoSource:"https://www.usgs.gov/3d-elevation-program",example:{dataset:"3dep-dem",variables:["elevation"],bbox:[-75,40,-73,42],resolution:10,format:"georaster",exampleRequest:"Extract DEM data for New York region at 10m resolution"}},"point-data":{paramFormat:{dataset:"String - Dataset identifier",variables:"Array - Variable names (usually ['elevation'])",latitude:"Number - Latitude coordinate (-90 to 90)",longitude:"Number - Longitude coordinate (-180 to 180)",format:"String - Output format"},infoSource:"https://www.usgs.gov/3d-elevation-program",example:{dataset:"3dep-dem",variables:["elevation"],latitude:40.7128,longitude:-74.006,format:"json",exampleRequest:"Get elevation for New York City coordinates"}},"dataset-info":{paramFormat:{dataset:"String - Dataset identifier",info:"String - Information type ('variables', 'spatial', 'metadata')"},infoSource:"https://www.usgs.gov/3d-elevation-program",example:{dataset:"3dep-dem",info:"spatial",exampleRequest:"Get spatial coverage information for 3DEP dataset"}}}};var G=a(91);const O={"forecast-province":{endpoint:"https://data.bmkg.go.id/DataMKG/MEWS/DigitalForecast/DigitalForecast-{province}.xml",params:{province:null},methods:{type:"xml",method:"GET"}},"earthquake-recent":{endpoint:"https://data.bmkg.go.id/DataMKG/TEWS/gempaterkini.xml",params:{},methods:{type:"xml",method:"GET"}},"tsunami-potential":{endpoint:"https://data.bmkg.go.id/DataMKG/TEWS/gempadirasakan.xml",params:{},methods:{type:"xml",method:"GET"}},"airquality-pm25":{endpoint:"https://data.bmkg.go.id/DataMKG/MEWS/KelolaProduk/radcu/airquality/pm25.xml",params:{},methods:{type:"xml",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"xml",MoreInfo:"https://data.bmkg.go.id/",About:"BMKG Open Data. Provides static XML files for forecasts, earthquakes, tsunami potential, and air quality. No API key required."},"endpoint-info":{"forecast-province":{paramFormat:{province:"String - Province name (CamelCase, e.g., 'DKIJakarta')"},infoSource:"https://data.bmkg.go.id/prakiraan-cuaca/",example:{province:"DKIJakarta",exampleRequest:"https://data.bmkg.go.id/DataMKG/MEWS/DigitalForecast/DigitalForecast-DKIJakarta.xml"}},"earthquake-recent":{paramFormat:{},infoSource:"https://data.bmkg.go.id/gempabumi/",example:{exampleRequest:"https://data.bmkg.go.id/DataMKG/TEWS/gempaterkini.xml"}},"tsunami-potential":{paramFormat:{},infoSource:"https://data.bmkg.go.id/gempabumi/",example:{exampleRequest:"https://data.bmkg.go.id/DataMKG/TEWS/gempadirasakan.xml"}},"airquality-pm25":{paramFormat:{},infoSource:"https://data.bmkg.go.id/kualitas-udara/",example:{exampleRequest:"https://data.bmkg.go.id/DataMKG/MEWS/KelolaProduk/radcu/airquality/pm25.xml"}}}},z={"station-surface":{endpoint:"http://data.cma.cn/data/getStationData",params:{stationId:null,element:null,timeRange:null},methods:{type:"json",method:"GET"}},"grid-nwp":{endpoint:"http://data.cma.cn/data/getGridData",params:{model:null,element:null,time:null},methods:{type:"json",method:"GET"}},"s2s-products":{endpoint:"http://s2s.cma.cn/api/getProducts",params:{product:null,date:null},methods:{type:"json",method:"GET"}},"satellite-fy":{endpoint:"http://satellite.cma.gov.cn/portalsite/Data/GetData",params:{satellite:"FY-4A",instrument:"AGRI",product:"L1"},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!0,keyname:"token"},info:{returnFormats:"json, csv",MoreInfo:"https://data.cma.cn/en",About:"CMA Official Data Service. Requires a registered account and token. Provides access to station data, NWP models, S2S products, and satellite metadata."},"endpoint-info":{"station-surface":{paramFormat:{stationId:"String - Station ID (e.g., '54511' for Beijing)",element:"String - Meteorological elements (e.g., 'TEM,PRE,WIN')"},infoSource:"https://data.cma.cn/en",example:{stationId:"54511",element:"TEM",exampleRequest:"http://data.cma.cn/data/getStationData?stationId=54511&element=TEM"}},"grid-nwp":{paramFormat:{model:"String - Model name (e.g., 'GRAPES')",element:"String - Element name"},infoSource:"https://data.cma.cn/en",example:{model:"GRAPES",element:"TEM",exampleRequest:"http://data.cma.cn/data/getGridData?model=GRAPES&element=TEM"}},"s2s-products":{paramFormat:{product:"String - Product name",date:"String - Date"},infoSource:"http://s2s.cma.cn/",example:{product:"precip",date:"20231027",exampleRequest:"http://s2s.cma.cn/api/getProducts?product=precip&date=20231027"}},"satellite-fy":{paramFormat:{satellite:"String - Satellite name (e.g., 'FY-4A')",instrument:"String - Instrument (e.g., 'AGRI')",product:"String - Product level (e.g., 'L1')"},infoSource:"http://satellite.cma.gov.cn/",example:{satellite:"FY-4A",instrument:"AGRI",product:"L1",exampleRequest:"http://satellite.cma.gov.cn/portalsite/Data/GetData?satellite=FY-4A&instrument=AGRI&product=L1"}}}},$={"icon-global":{methods:{type:"grib2",method:"GET"}},"icon-eu":{methods:{type:"grib2",method:"GET"}},"icon-d2":{methods:{type:"grib2",method:"GET"}},mosmix:{methods:{type:"kmz",method:"GET"}},"radar-composite":{methods:{type:"binary",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"grib2, netcdf, kmz, binary",MoreInfo:"https://opendata.dwd.de/readme.txt",About:"Deutscher Wetterdienst (DWD) Open Data Server. Provides raw model data (ICON), MOSMIX forecasts, and Radar composites."},"endpoint-info":{"icon-global":{paramFormat:{run:"String - Model run time (00, 06, 12, 18)",parameter:"String - Meteorological parameter (lowercase for directory). Available: alb_rad, alhfl_s, apab_s, ashfl_s, asob_s, asob_s_cs, asob_t, aswdifd_s, aswdifu_s, aswdir_s, athb_s, athb_t, aumfl_s, avmfl_s, cape_con, cape_ml, ceiling, cin_ml, clc, clch, clcl, clcm, clct, clct_mod, cldepth, depth_lk, fi, fr_lake, fr_land, h_ice, h_snow, hbas_con, hhl, hsurf, htop_con, htop_dc, hzerocl, lai, lpi_con_max, mh, omega, p, plcov, pmsl, ps, qc, qi, qv, qv_2m, qv_s, rain_con, rain_gsp, relhum, relhum_2m, rho_snow, rlat, rlon, rootdp, runoff_g, runoff_s, snow_con, snow_gsp, snowlmt, soiltyp, synmsg_bt_cl_ir10.8, synmsg_bt_cl_wv6.2, t, t_2m, t_g, t_ice, t_snow, t_so, tch, tcm, td_2m, tke, tmax_2m, tmin_2m, tot_prec, tqc, tqi, tqr, tqs, tqv, u, u_10m, v, v_10m, vis, vmax_10m, w, w_snow, w_so, w_so_ice, ww, z0",parameterUpper:"String - Meteorological parameter (uppercase for filename). e.g. T_2M for t_2m",time:"String - Forecast hour (000 to 180)",date:"String - Date in YYYYMMDD format"},infoSource:"https://opendata.dwd.de/weather/nwp/icon/grib/",example:{run:"00",parameter:"t_2m",parameterUpper:"T_2M",time:"000",date:"20231025",exampleRequest:"https://opendata.dwd.de/weather/nwp/icon/grib/00/t_2m/icon_global_icosahedral_single-level_2023102500_000_T_2M.grib2.bz2"}},"icon-eu":{paramFormat:{run:"String - Model run time (00, 06, 12, 18)",parameter:"String - Meteorological parameter (e.g., 't_2m')",parameterUpper:"String - Meteorological parameter (uppercase for filename). e.g. T_2M for t_2m",time:"String - Forecast hour (000 to 120)",date:"String - Date in YYYYMMDD format"},infoSource:"https://opendata.dwd.de/weather/nwp/icon-eu/grib/",example:{run:"06",parameter:"tot_prec",parameterUpper:"TOT_PREC",time:"001",date:"20231025",exampleRequest:"https://opendata.dwd.de/weather/nwp/icon-eu/grib/06/tot_prec/icon-eu_europe_regular-lat-lon_single-level_2023102506_001_TOT_PREC.grib2.bz2"}},"icon-d2":{paramFormat:{run:"String - Model run time (00, 03, 06, ...)",parameter:"String - Meteorological parameter (e.g., 't_2m')",time:"String - Forecast hour (000 to 048)",date:"String - Date in YYYYMMDD format"},infoSource:"https://opendata.dwd.de/weather/nwp/icon-d2/grib/",example:{run:"12",parameter:"t_2m",time:"002",date:"20231025",exampleRequest:"https://opendata.dwd.de/weather/nwp/icon-d2/grib/12/t_2m/icon-d2_germany_regular-lat-lon_single-level_2023102512_002_2d_t_2m.grib2.bz2"}},mosmix:{paramFormat:{station:"String - Station ID (e.g., '10382' for Berlin-Tegel)"},infoSource:"https://opendata.dwd.de/weather/local_forecasts/mos/",example:{station:"10382",exampleRequest:"https://opendata.dwd.de/weather/local_forecasts/mos/MOSMIX_L/single_stations/10382/kml/MOSMIX_L_LATEST_10382.kmz"}},"radar-composite":{paramFormat:{product:"String - Radar product code (wn, hx, rs, rv, dmax, hg, pg, vii, hymecng)",date:"String/Date - Date object or ISO string (e.g. '2025-12-06T04:10:00Z')"},infoSource:"https://opendata.dwd.de/weather/radar/composite/",example:{product:"wn",date:"2025-12-06T04:10:00Z",exampleRequest:"https://opendata.dwd.de/weather/radar/composite/wn/composite_wn_20251206_0410.tar"},example_hx:{product:"hx",date:"2025-12-06T04:15:00Z",exampleRequest:"https://opendata.dwd.de/weather/radar/composite/hx/composite_hx_20251206_0415-hd5"},example_pg:{product:"pg",date:"2025-12-06T04:15:00Z",exampleRequest:"https://opendata.dwd.de/weather/radar/composite/pg/PAAH21EDZW060415.buf"}}},sourceType:(e,t)=>{const a="https://opendata.dwd.de/weather";if("radar-composite"===t){const t=e.product||"wn",r=e.date?new Date(e.date):new Date,o=e=>String(e).padStart(2,"0"),n=r.getUTCFullYear(),i=String(n).slice(2),s=o(r.getUTCMonth()+1),l=o(r.getUTCDate()),d=o(r.getUTCHours());let c=r.getUTCMinutes();c=5*Math.floor(c/5);const u=`${n}${s}${l}`,m=`${d}${o(c)}`,p=`${i}${s}${l}${m}`,h={wn:{name:"wn",suffix:".tar",pattern:"composite"},hx:{name:"hx",suffix:"-hd5",pattern:"composite"},rs:{name:"rs",suffix:".tar",pattern:"composite"},rv:{prefix:"DE1200_RV",suffix:".tar.bz2",pattern:"short"},dmax:{name:"dmax",suffix:"-hd5",pattern:"composite"},hg:{prefix:"HG",suffix:"_000.bz2",pattern:"short"},vii:{name:"VII",suffix:"-hd5",pattern:"composite"},hymecng:{name:"HymecNG",suffix:"_000-hd5",pattern:"composite"},pg:{prefix:"PAAH21EDZW",suffix:".buf",pattern:"pg"}}[t];if(!h)throw new Error(`Unknown radar product: ${t}`);let f="";return"composite"===h.pattern?f=`composite_${h.name}_${u}_${m}${h.suffix}`:"short"===h.pattern?f=`${h.prefix}${p}${h.suffix}`:"pg"===h.pattern&&(f=`${h.prefix}${l}${m}${h.suffix}`),`${a}/radar/composite/${t}/${f}`}if(t.startsWith("icon")){const r=e.run||"00",o=e.parameter||"t_2m",n=e.parameterUpper||o.toUpperCase(),i=e.time||"000";let s=e.date;if(!s){const e=new Date;s=`${e.getUTCFullYear()}${String(e.getUTCMonth()+1).padStart(2,"0")}${String(e.getUTCDate()).padStart(2,"0")}`}if("icon-global"===t)return`${a}/nwp/icon/grib/${r}/${o}/icon_global_icosahedral_single-level_${s}${r}_${i}_${n}.grib2.bz2`;if("icon-eu"===t)return`${a}/nwp/icon-eu/grib/${r}/${o}/icon-eu_europe_regular-lat-lon_single-level_${s}${r}_${i}_${n}.grib2.bz2`;if("icon-d2"===t)return`${a}/nwp/icon-d2/grib/${r}/${o}/icon-d2_germany_regular-lat-lon_single-level_${s}${r}_${i}_2d_${o}.grib2.bz2`}else if("mosmix"===t){const t=e.station;if(!t)throw new Error("Station ID is required for MOSMIX data.");return`${a}/local_forecasts/mos/MOSMIX_L/single_stations/${t}/kml/MOSMIX_L_LATEST_${t}.kmz`}throw new Error(`Unsupported data type: ${t}`)}},L={"forecast-city":{endpoint:"https://api.data.gov.in/resource/{resource_id}",params:{"api-key":null,format:"json",offset:"0",limit:"10","filters[city]":null},methods:{type:"json",method:"GET"}},"rainfall-district":{endpoint:"https://api.data.gov.in/resource/{resource_id}",params:{"api-key":null,format:"json",limit:"100"},methods:{type:"json",method:"GET"}},"cyclone-data":{endpoint:"https://api.data.gov.in/resource/{resource_id}",params:{"api-key":null,format:"json"},methods:{type:"json",method:"GET"}},"forecast-tourism":{endpoint:"https://api.data.gov.in/resource/{resource_id}",params:{"api-key":null,format:"json","filters[station]":null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!0,keyname:"api-key"},info:{returnFormats:"json, xml, csv",MoreInfo:"https://data.gov.in/",About:"IMD Data via OGD Platform. Requires a free API Key. Resource IDs change frequently; check the portal for the latest IDs for Cyclones and Tourism."},"endpoint-info":{"forecast-city":{paramFormat:{resource_id:"String - Resource ID from OGD portal (changes frequently)","filters[city]":"String - City name (e.g., 'New Delhi')"},infoSource:"https://data.gov.in/",example:{resource_id:"3b01bcb8-0b14-4abf-b6f2-c1bfd384ba69","filters[city]":"New Delhi",exampleRequest:"https://api.data.gov.in/resource/3b01bcb8-0b14-4abf-b6f2-c1bfd384ba69?api-key=YOUR_KEY&format=json&filters[city]=New Delhi"}},"rainfall-district":{paramFormat:{resource_id:"String - Resource ID for District Rainfall"},infoSource:"https://data.gov.in/",example:{resource_id:"rainfall-resource-id",exampleRequest:"https://api.data.gov.in/resource/rainfall-resource-id?api-key=YOUR_KEY&format=json&limit=100"}},"cyclone-data":{paramFormat:{resource_id:"String - Resource ID for Cyclone Data"},infoSource:"https://data.gov.in/",example:{resource_id:"cyclone-resource-id",exampleRequest:"https://api.data.gov.in/resource/cyclone-resource-id?api-key=YOUR_KEY&format=json"}},"forecast-tourism":{paramFormat:{resource_id:"String - Resource ID for Tourism Forecast","filters[station]":"String - Station Name"},infoSource:"https://data.gov.in/",example:{resource_id:"tourism-resource-id","filters[station]":"Shimla",exampleRequest:"https://api.data.gov.in/resource/tourism-resource-id?api-key=YOUR_KEY&format=json&filters[station]=Shimla"}}}},q={"feed-regular":{endpoint:"http://www.data.jma.go.jp/developer/xml/feed/regular.xml",params:{},methods:{type:"xml",method:"GET"}},"feed-extra":{endpoint:"http://www.data.jma.go.jp/developer/xml/feed/extra.xml",params:{},methods:{type:"xml",method:"GET"}},"tsunami-info":{endpoint:"http://www.data.jma.go.jp/developer/xml/feed/eqvol.xml",params:{},methods:{type:"xml",method:"GET"}},"himawari-image":{endpoint:"https://www.jma.go.jp/bosai/himawari/data/satimg/{target}/{validtime}/{band}/{z}/{x}/{y}.jpg",params:{target:null,validtime:null,band:null,z:null,x:null,y:null},methods:{type:"image",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"xml, image",MoreInfo:"http://xml.kishou.go.jp/xml_data.html",About:"JMA Public Data Feeds. Provides XML Atom feeds for warnings, forecasts, tsunami info, and public Himawari satellite imagery tiles."},"endpoint-info":{"feed-regular":{paramFormat:{},infoSource:"http://xml.kishou.go.jp/xml_data.html",example:{exampleRequest:"http://www.data.jma.go.jp/developer/xml/feed/regular.xml"}},"feed-extra":{paramFormat:{},infoSource:"http://xml.kishou.go.jp/xml_data.html",example:{exampleRequest:"http://www.data.jma.go.jp/developer/xml/feed/extra.xml"}},"tsunami-info":{paramFormat:{},infoSource:"http://xml.kishou.go.jp/xml_data.html",example:{exampleRequest:"http://www.data.jma.go.jp/developer/xml/feed/eqvol.xml"}},"himawari-image":{paramFormat:{target:"String - Target area (e.g., 'fd' for Full Disk)",validtime:"String - Valid time (YYYYMMDDHHMMSS)",band:"String - Band (e.g., 'B13')",z:"String - Zoom level",x:"String - Tile X",y:"String - Tile Y"},infoSource:"https://www.jma.go.jp/jma/kishou/know/satellite/index.html",example:{target:"fd",validtime:"20231027030000",band:"B13",z:"4",x:"0",y:"0",exampleRequest:"https://www.jma.go.jp/bosai/himawari/data/satimg/fd/20231027030000/B13/4/0/0.jpg"}}}},U={"obs-asos":{endpoint:"http://apis.data.go.kr/1360000/AsosHourlyInfoService/getWthrDataList",params:{serviceKey:null,pageNo:"1",numOfRows:"10",dataType:"JSON",dataCd:"ASOS",dateCd:"HR",startDt:null,startHh:null,endDt:null,endHh:null,stnIds:null},methods:{type:"json",method:"GET"}},"forecast-village":{endpoint:"http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getVilageFcst",params:{serviceKey:null,pageNo:"1",numOfRows:"10",dataType:"JSON",base_date:null,base_time:null,nx:null,ny:null},methods:{type:"json",method:"GET"}},"typhoon-track":{endpoint:"https://data.kma.go.kr/data/typhoonData/typTrack.do",params:{pgmNo:"704",typId:null},methods:{type:"json",method:"GET"}},"atmospheric-dust":{endpoint:"http://apis.data.go.kr/1360000/AtmosphericEnvironmentService/getDustData",params:{serviceKey:null,stationId:null,date:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!0,keyname:"serviceKey"},info:{returnFormats:"json, xml",MoreInfo:"https://data.kma.go.kr/cmmn/static/staticPage.do?page=intro_api",About:"KMA Open Data Portal. Requires a Service Key. Provides extensive observation, forecast, typhoon, and atmospheric data."},"endpoint-info":{"obs-asos":{paramFormat:{startDt:"String - Start Date (YYYYMMDD)",stnIds:"String - Station ID (e.g., '108' for Seoul)"},infoSource:"https://www.data.go.kr/data/15057210/openapi.do",example:{startDt:"20231026",stnIds:"108",exampleRequest:"http://apis.data.go.kr/1360000/AsosHourlyInfoService/getWthrDataList?serviceKey=YOUR_KEY&startDt=20231026&stnIds=108"}},"forecast-village":{paramFormat:{base_date:"String - Base Date (YYYYMMDD)",base_time:"String - Base Time (HHMM)",nx:"Number - Grid X",ny:"Number - Grid Y"},infoSource:"https://www.data.go.kr/data/15084084/openapi.do",example:{base_date:"20231026",base_time:"0500",nx:55,ny:127,exampleRequest:"http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getVilageFcst?serviceKey=YOUR_KEY&base_date=20231026&base_time=0500&nx=55&ny=127"}},"typhoon-track":{paramFormat:{typId:"String - Typhoon ID"},infoSource:"https://data.kma.go.kr/data/typhoonData/typTrack.do",example:{typId:"202306",exampleRequest:"https://data.kma.go.kr/data/typhoonData/typTrack.do?pgmNo=704&typId=202306"}},"atmospheric-dust":{paramFormat:{stationId:"String - Station ID",date:"String - Date"},infoSource:"https://data.kma.go.kr/",example:{stationId:"108",date:"20231026",exampleRequest:"http://apis.data.go.kr/1360000/AtmosphericEnvironmentService/getDustData?serviceKey=YOUR_KEY&stationId=108&date=20231026"}}}},B={"dataset-files":{endpoint:"https://api.dataplatform.knmi.nl/open-data/v1/datasets/{datasetName}/versions/{version}/files",params:{datasetName:null,version:null,startAfterFilename:null,maxKeys:null},methods:{type:"json",method:"GET"}},"edr-query":{endpoint:"https://api.dataplatform.knmi.nl/edr/v1/collections/{collectionId}/position",params:{collectionId:null,coords:null,"parameter-name":null,datetime:null},methods:{type:"json",method:"GET"}},"seismology-event":{endpoint:"http://rdsa.knmi.nl/fdsnws/event/1/query",params:{starttime:null,endtime:null,minmag:null,maxmag:null,format:"xml"},methods:{type:"xml",method:"GET"}},"seismology-station":{endpoint:"http://rdsa.knmi.nl/fdsnws/station/1/query",params:{network:null,station:null,level:"station",format:"xml"},methods:{type:"xml",method:"GET"}},requirements:{needProxy:!0,requireskey:!0,keyname:"Authorization"},info:{returnFormats:"json, netcdf (via download), xml",MoreInfo:"https://developer.dataplatform.knmi.nl/",About:"KNMI Data Platform. Requires a free API key. Provides access to raw files (NetCDF, etc.), EDR query endpoints, and FDSN Seismology services."},"endpoint-info":{"dataset-files":{paramFormat:{datasetName:"String - Name of the dataset (e.g., 'Actuele10mindataKNMIstations')",version:"String - Version of the dataset (e.g., '2')"},infoSource:"https://developer.dataplatform.knmi.nl/open-data-api",example:{datasetName:"Actuele10mindataKNMIstations",version:"2",exampleRequest:"https://api.dataplatform.knmi.nl/open-data/v1/datasets/Actuele10mindataKNMIstations/versions/2/files"}},"edr-query":{paramFormat:{collectionId:"String - Collection ID",coords:"String - WKT Coordinates (e.g., 'POINT(5.2 52.1)')","parameter-name":"String - Parameter Name"},infoSource:"https://developer.dataplatform.knmi.nl/edr-api",example:{collectionId:"harmonie_arome_cy43_p1",coords:"POINT(5.2 52.1)",exampleRequest:"https://api.dataplatform.knmi.nl/edr/v1/collections/harmonie_arome_cy43_p1/position?coords=POINT(5.2 52.1)"}},"seismology-event":{paramFormat:{starttime:"String - Start time (ISO8601)",minmag:"Number - Minimum magnitude (e.g., 2.0)"},infoSource:"http://rdsa.knmi.nl/fdsnws/event/1/",example:{minmag:2,exampleRequest:"http://rdsa.knmi.nl/fdsnws/event/1/query?minmag=2.0"}},"seismology-station":{paramFormat:{network:"String - Network Code (e.g., 'NL')",station:"String - Station Code"},infoSource:"http://rdsa.knmi.nl/fdsnws/station/1/",example:{network:"NL",exampleRequest:"http://rdsa.knmi.nl/fdsnws/station/1/query?network=NL&level=station"}}}},Y={arome:{endpoint:"https://public-api.meteofrance.fr/public/arome/1.0/wcs/MF-NWP-HIGHRES-AROME-001-FRANCE-WCS/GetCoverage",params:{service:"WCS",version:"2.0.1",coverageId:null,subset:[],format:"application/json"},methods:{type:"json",method:"GET"}},arpege:{endpoint:"https://public-api.meteofrance.fr/public/arpege/1.0/wcs/MF-NWP-GLOBAL-ARPEGE-05-GLOBE-WCS/GetCoverage",params:{service:"WCS",version:"2.0.1",coverageId:null,subset:[],format:"application/json"},methods:{type:"json",method:"GET"}},"observation-synop":{endpoint:"https://public-api.meteofrance.fr/public/DPPObs/v1/models/synop",params:{id_station:null,date:null},methods:{type:"json",method:"GET"}},vigilance:{endpoint:"https://public-api.meteofrance.fr/public/DPVigilance/v1/map",params:{domain:"vigi-express"},methods:{type:"json",method:"GET"}},"radar-mosaic":{endpoint:"https://public-api.meteofrance.fr/public/DPPrecip/v1/map/mosaic",params:{domain:"FRANCE",dateTime:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!0,keyname:"apikey"},info:{returnFormats:"json, tiff",MoreInfo:"https://portail-api.meteofrance.fr/",About:"Météo-France Official API. Requires a free API key. Provides high-resolution model data (AROME), global data (ARPEGE), alerts, and radar."},"endpoint-info":{arome:{paramFormat:{coverageId:"String - Variable ID (e.g., 'TEMPERATURE__SPECIFIC_HEIGHT_LEVEL_ABOVE_GROUND')",subset:"Array - Subsetting parameters (time, lat, long)"},infoSource:"https://portail-api.meteofrance.fr/",example:{coverageId:"TEMPERATURE__SPECIFIC_HEIGHT_LEVEL_ABOVE_GROUND",subset:["time(2023-10-27T12:00:00Z)","lat(48.85)","long(2.35)"],exampleRequest:"https://public-api.meteofrance.fr/public/arome/1.0/wcs/MF-NWP-HIGHRES-AROME-001-FRANCE-WCS/GetCoverage?service=WCS&version=2.0.1&coverageId=TEMPERATURE__SPECIFIC_HEIGHT_LEVEL_ABOVE_GROUND&subset=time(2023-10-27T12:00:00Z)&subset=lat(48.85)&subset=long(2.35)"}},arpege:{paramFormat:{coverageId:"String - Variable ID (e.g., 'TEMPERATURE__SPECIFIC_HEIGHT_LEVEL_ABOVE_GROUND')",subset:"Array - Subsetting parameters (time, lat, long)"},infoSource:"https://portail-api.meteofrance.fr/",example:{coverageId:"TEMPERATURE__SPECIFIC_HEIGHT_LEVEL_ABOVE_GROUND",subset:["time(2023-10-27T12:00:00Z)","lat(48.85)","long(2.35)"],exampleRequest:"https://public-api.meteofrance.fr/public/arpege/1.0/wcs/MF-NWP-GLOBAL-ARPEGE-05-GLOBE-WCS/GetCoverage?service=WCS&version=2.0.1&coverageId=TEMPERATURE__SPECIFIC_HEIGHT_LEVEL_ABOVE_GROUND&subset=time(2023-10-27T12:00:00Z)&subset=lat(48.85)&subset=long(2.35)"}},"observation-synop":{paramFormat:{id_station:"String - Station ID (e.g., '07149' for Paris-Orly)",date:"String - Date (ISO8601)"},infoSource:"https://portail-api.meteofrance.fr/",example:{id_station:"07149",date:"2023-10-27T12:00:00Z",exampleRequest:"https://public-api.meteofrance.fr/public/DPPObs/v1/models/synop?id_station=07149&date=2023-10-27T12:00:00Z"}},vigilance:{paramFormat:{domain:"String - Domain (e.g., 'vigi-express' or 'vigi-metropole')"},infoSource:"https://portail-api.meteofrance.fr/",example:{domain:"vigi-metropole",exampleRequest:"https://public-api.meteofrance.fr/public/DPVigilance/v1/map?domain=vigi-metropole"}},"radar-mosaic":{paramFormat:{domain:"String - Domain (e.g., 'FRANCE')",dateTime:"String - Date Time (ISO8601)"},infoSource:"https://portail-api.meteofrance.fr/",example:{domain:"FRANCE",dateTime:"2023-10-27T12:00:00Z",exampleRequest:"https://public-api.meteofrance.fr/public/DPPrecip/v1/map/mosaic?domain=FRANCE&dateTime=2023-10-27T12:00:00Z"}}}},V={"locationforecast-compact":{endpoint:"https://api.met.no/weatherapi/locationforecast/2.0/compact",params:{lat:null,lon:null,altitude:null},methods:{type:"json",method:"GET",headers:{"User-Agent":"HydroLang/1.0 https://github.com/uihilab/HydroLang"}}},"locationforecast-complete":{endpoint:"https://api.met.no/weatherapi/locationforecast/2.0/complete",params:{lat:null,lon:null,altitude:null},methods:{type:"json",method:"GET",headers:{"User-Agent":"HydroLang/1.0 https://github.com/uihilab/HydroLang"}}},oceanforecast:{endpoint:"https://api.met.no/weatherapi/oceanforecast/2.0/complete",params:{lat:null,lon:null},methods:{type:"json",method:"GET",headers:{"User-Agent":"HydroLang/1.0 https://github.com/uihilab/HydroLang"}}},nowcast:{endpoint:"https://api.met.no/weatherapi/nowcast/2.0/complete",params:{lat:null,lon:null},methods:{type:"json",method:"GET",headers:{"User-Agent":"HydroLang/1.0 https://github.com/uihilab/HydroLang"}}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://api.met.no/weatherapi/locationforecast/2.0/documentation",About:"Meteorologisk institutt (Met.no) API. Provides global weather, ocean, and nowcast data in JSON format. Requires a unique User-Agent header."},"endpoint-info":{"locationforecast-compact":{paramFormat:{lat:"Number - Latitude (e.g., 59.91)",lon:"Number - Longitude (e.g., 10.75)",altitude:"Number - Altitude in meters (optional)"},infoSource:"https://api.met.no/weatherapi/locationforecast/2.0/documentation",example:{lat:59.91,lon:10.75,exampleRequest:"https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=59.91&lon=10.75"}},"locationforecast-complete":{paramFormat:{lat:"Number - Latitude (e.g., 59.91)",lon:"Number - Longitude (e.g., 10.75)"},infoSource:"https://api.met.no/weatherapi/locationforecast/2.0/documentation",example:{lat:59.91,lon:10.75,exampleRequest:"https://api.met.no/weatherapi/locationforecast/2.0/complete?lat=59.91&lon=10.75"}},oceanforecast:{paramFormat:{lat:"Number - Latitude (e.g., 60.10)",lon:"Number - Longitude (e.g., 9.58)"},infoSource:"https://api.met.no/weatherapi/oceanforecast/2.0/documentation",example:{lat:60.1,lon:9.58,exampleRequest:"https://api.met.no/weatherapi/oceanforecast/2.0/complete?lat=60.10&lon=9.58"}},nowcast:{paramFormat:{lat:"Number - Latitude (e.g., 59.91)",lon:"Number - Longitude (e.g., 10.75)"},infoSource:"https://api.met.no/weatherapi/nowcast/2.0/documentation",example:{lat:59.91,lon:10.75,exampleRequest:"https://api.met.no/weatherapi/nowcast/2.0/complete?lat=59.91&lon=10.75"}}}},H={"met-obs":{endpoint:"https://opendata-download-metobs.smhi.se/api/version/1.0/parameter/{parameter}/station/{station}/period/{period}/data.json",params:{parameter:null,station:null,period:null},methods:{type:"json",method:"GET"}},"met-forecast":{endpoint:"https://opendata-download-metfcst.smhi.se/api/category/pmp3g/version/2/geotype/point/lon/{lon}/lat/{lat}/data.json",params:{lon:null,lat:null},methods:{type:"json",method:"GET"}},"hydro-obs":{endpoint:"https://opendata-download-hydroobs.smhi.se/api/version/1.0/parameter/{parameter}/station/{station}/period/{period}/data.json",params:{parameter:null,station:null,period:null},methods:{type:"json",method:"GET"}},"ocean-obs":{endpoint:"https://opendata-download-ocobs.smhi.se/api/version/1.0/parameter/{parameter}/station/{station}/period/{period}/data.json",params:{parameter:null,station:null,period:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://opendata.smhi.se/",About:"SMHI Open Data API. Provides meteorological, hydrological, and oceanographic observations and forecasts in JSON format."},"endpoint-info":{"met-obs":{paramFormat:{parameter:"String - Parameter ID (e.g., '1' for Air Temp)",station:"String - Station ID (e.g., '98210' for Visby)",period:"String - Data period (e.g., 'latest-hour')"},infoSource:"https://opendata.smhi.se/apidocs/metobs",example:{parameter:"1",station:"98210",period:"latest-hour",exampleRequest:"https://opendata-download-metobs.smhi.se/api/version/1.0/parameter/1/station/98210/period/latest-hour/data.json"}},"met-forecast":{paramFormat:{lon:"Number - Longitude",lat:"Number - Latitude"},infoSource:"https://opendata.smhi.se/apidocs/metfcst",example:{lon:16.158,lat:58.5812,exampleRequest:"https://opendata-download-metfcst.smhi.se/api/category/pmp3g/version/2/geotype/point/lon/16.158/lat/58.5812/data.json"}},"hydro-obs":{paramFormat:{parameter:"String - Parameter ID (e.g., '1' for Water Discharge)",station:"String - Station ID (e.g., '2266')",period:"String - Data period (e.g., 'latest-day')"},infoSource:"https://opendata.smhi.se/apidocs/hydroobs",example:{parameter:"1",station:"2266",period:"latest-day",exampleRequest:"https://opendata-download-hydroobs.smhi.se/api/version/1.0/parameter/1/station/2266/period/latest-day/data.json"}},"ocean-obs":{paramFormat:{parameter:"String - Parameter ID (e.g., '13' for Sea Level)",station:"String - Station ID (e.g., '35101')",period:"String - Data period (e.g., 'latest-hour')"},infoSource:"https://opendata.smhi.se/apidocs/oceanobs",example:{parameter:"13",station:"35101",period:"latest-hour",exampleRequest:"https://opendata-download-ocobs.smhi.se/api/version/1.0/parameter/13/station/35101/period/latest-hour/data.json"}}}},W={"forecast-daily":{endpoint:"https://data.tmd.go.th/api/WeatherForecastDaily/V1/",params:{uid:null,ukey:null,format:"json"},methods:{type:"json",method:"GET"}},"forecast-7day":{endpoint:"https://data.tmd.go.th/api/WeatherForecast7Days/V1/",params:{uid:null,ukey:null,format:"json",Province:null},methods:{type:"json",method:"GET"}},"weather-today":{endpoint:"https://data.tmd.go.th/api/WeatherToday/V1/",params:{uid:null,ukey:null,format:"json"},methods:{type:"json",method:"GET"}},"seismology-daily":{endpoint:"https://data.tmd.go.th/api/DailySeismicEvent/v1/",params:{uid:null,ukey:null,format:"json"},methods:{type:"json",method:"GET"}},"radar-support":{endpoint:"https://data.tmd.go.th/api/WeatherRadar/v1/",params:{uid:null,ukey:null,format:"json"},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!0,keyname:"ukey"},info:{returnFormats:"json, xml",MoreInfo:"https://data.tmd.go.th/api/index_en.php",About:"TMD Open Data API. Requires registration for UID and UKEY. Provides forecasts, current weather, seismology, and radar data."},"endpoint-info":{"forecast-daily":{paramFormat:{uid:"String - User ID",ukey:"String - User Key"},infoSource:"https://data.tmd.go.th/api/index_en.php",example:{uid:"YOUR_UID",ukey:"YOUR_UKEY",exampleRequest:"https://data.tmd.go.th/api/WeatherForecastDaily/V1/?uid=YOUR_UID&ukey=YOUR_UKEY&format=json"}},"forecast-7day":{paramFormat:{uid:"String - User ID",ukey:"String - User Key",Province:"String - Province Name (Optional)"},infoSource:"https://data.tmd.go.th/api/index_en.php",example:{uid:"YOUR_UID",ukey:"YOUR_UKEY",Province:"Bangkok",exampleRequest:"https://data.tmd.go.th/api/WeatherForecast7Days/V1/?uid=YOUR_UID&ukey=YOUR_UKEY&format=json&Province=Bangkok"}},"weather-today":{paramFormat:{uid:"String - User ID",ukey:"String - User Key"},infoSource:"https://data.tmd.go.th/api/index_en.php",example:{uid:"YOUR_UID",ukey:"YOUR_UKEY",exampleRequest:"https://data.tmd.go.th/api/WeatherToday/V1/?uid=YOUR_UID&ukey=YOUR_UKEY&format=json"}},"seismology-daily":{paramFormat:{uid:"String - User ID",ukey:"String - User Key"},infoSource:"https://data.tmd.go.th/api/index_en.php",example:{uid:"YOUR_UID",ukey:"YOUR_UKEY",exampleRequest:"https://data.tmd.go.th/api/DailySeismicEvent/v1/?uid=YOUR_UID&ukey=YOUR_UKEY&format=json"}},"radar-support":{paramFormat:{uid:"String - User ID",ukey:"String - User Key"},infoSource:"https://data.tmd.go.th/api/index_en.php",example:{uid:"YOUR_UID",ukey:"YOUR_UKEY",exampleRequest:"https://data.tmd.go.th/api/WeatherRadar/v1/?uid=YOUR_UID&ukey=YOUR_UKEY&format=json"}}}},K={huc02:{endpoint:"https://api.water.usgs.gov/geoserver/wmadata/ows",params:{service:"WFS",version:"1.0.0",request:"GetFeature",typeName:"wmadata:wbd02_20201006",outputFormat:"application/json",bbox:null,maxFeatures:null,cql_filter:null,propertyName:null},methods:{type:"json, geojson, xml"}},huc04:{endpoint:"https://api.water.usgs.gov/geoserver/wmadata/ows",params:{service:"WFS",version:"1.0.0",request:"GetFeature",typeName:"wmadata:wbd04_20201006",outputFormat:"application/json",bbox:null,maxFeatures:null,cql_filter:null,propertyName:null},methods:{type:"json, geojson, xml"}},huc06:{endpoint:"https://api.water.usgs.gov/geoserver/wmadata/ows",params:{service:"WFS",version:"1.0.0",request:"GetFeature",typeName:"wmadata:wbd06_20201006",outputFormat:"application/json",bbox:null,maxFeatures:null,cql_filter:null,propertyName:null},methods:{type:"json, geojson, xml"}},huc08:{endpoint:"https://api.water.usgs.gov/geoserver/wmadata/ows",params:{service:"WFS",version:"1.0.0",request:"GetFeature",typeName:"wmadata:wbd08_20201006",outputFormat:"application/json",bbox:null,maxFeatures:null,cql_filter:null,propertyName:null},methods:{type:"json, geojson, xml"}},huc10:{endpoint:"https://api.water.usgs.gov/geoserver/wmadata/ows",params:{service:"WFS",version:"1.0.0",request:"GetFeature",typeName:"wmadata:wbd10_20201006",outputFormat:"application/json",bbox:null,maxFeatures:null,cql_filter:null,propertyName:null},methods:{type:"json, geojson, xml"}},huc12:{endpoint:"https://api.water.usgs.gov/geoserver/wmadata/ows",params:{service:"WFS",version:"1.0.0",request:"GetFeature",typeName:"wmadata:wbd12_20201006",outputFormat:"application/json",bbox:null,maxFeatures:null,cql_filter:null,propertyName:null},methods:{type:"json, geojson, xml"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://www.usgs.gov/national-hydrography/watershed-boundary-dataset",About:"USGS Watershed Boundary Dataset provides hierarchical watershed boundaries at multiple scales from HUC 2 (regions) to HUC 12 (subwatersheds). Supports spatial queries and CQL filtering."},"endpoint-info":{huc02:{paramFormat:{bbox:"String - Bounding box in format 'west,south,east,north,EPSG:4326'",maxFeatures:"Integer - Maximum number of features to return",cql_filter:"String - Custom CQL filter expression (e.g., name='Colorado Region')",propertyName:"String - Comma-separated list of properties to retrieve"},infoSource:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WMS&request=GetCapabilities",example:{bbox:"-125,32,-66,49,EPSG:4326",maxFeatures:50,exampleRequest:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=wmadata:wbd02_20201006&outputFormat=application/json&bbox=-125,32,-66,49,EPSG:4326&maxFeatures=50"}},huc04:{paramFormat:{bbox:"String - Bounding box in format 'west,south,east,north,EPSG:4326'",maxFeatures:"Integer - Maximum number of features to return",cql_filter:"String - Custom CQL filter expression",propertyName:"String - Comma-separated list of properties to retrieve"},infoSource:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WMS&request=GetCapabilities",example:{bbox:"-93.65,41.5,-93.5,41.6,EPSG:4326",maxFeatures:100,exampleRequest:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=wmadata:wbd04_20201006&outputFormat=application/json&bbox=-93.65,41.5,-93.5,41.6,EPSG:4326&maxFeatures=100"}},huc06:{paramFormat:{bbox:"String - Bounding box in format 'west,south,east,north,EPSG:4326'",maxFeatures:"Integer - Maximum number of features to return",cql_filter:"String - Custom CQL filter expression",propertyName:"String - Comma-separated list of properties to retrieve"},infoSource:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WMS&request=GetCapabilities",example:{bbox:"-93.65,41.5,-93.5,41.6,EPSG:4326",maxFeatures:200,exampleRequest:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=wmadata:wbd06_20201006&outputFormat=application/json&bbox=-93.65,41.5,-93.5,41.6,EPSG:4326&maxFeatures=200"}},huc08:{paramFormat:{bbox:"String - Bounding box in format 'west,south,east,north,EPSG:4326'",maxFeatures:"Integer - Maximum number of features to return",cql_filter:"String - Custom CQL filter expression (e.g., name='Upper Grand River')",propertyName:"String - Comma-separated list of properties to retrieve"},infoSource:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WMS&request=GetCapabilities",example:{bbox:"-93.65,41.5,-93.5,41.6,EPSG:4326",maxFeatures:500,exampleRequest:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=wmadata:wbd08_20201006&outputFormat=application/json&bbox=-93.65,41.5,-93.5,41.6,EPSG:4326&maxFeatures=500"}},huc10:{paramFormat:{bbox:"String - Bounding box in format 'west,south,east,north,EPSG:4326'",maxFeatures:"Integer - Maximum number of features to return",cql_filter:"String - Custom CQL filter expression",propertyName:"String - Comma-separated list of properties to retrieve"},infoSource:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WMS&request=GetCapabilities",example:{bbox:"-93.65,41.5,-93.5,41.6,EPSG:4326",maxFeatures:1e3,exampleRequest:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=wmadata:wbd10_20201006&outputFormat=application/json&bbox=-93.65,41.5,-93.5,41.6,EPSG:4326&maxFeatures=1000"}},huc12:{paramFormat:{bbox:"String - Bounding box in format 'west,south,east,north,EPSG:4326'",maxFeatures:"Integer - Maximum number of features to return",cql_filter:"String - Custom CQL filter expression",propertyName:"String - Comma-separated list of properties to retrieve"},infoSource:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WMS&request=GetCapabilities",example:{bbox:"-93.65,41.5,-93.5,41.6,EPSG:4326",maxFeatures:2e3,exampleRequest:"https://api.water.usgs.gov/geoserver/wmadata/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=wmadata:wbd12_20201006&outputFormat=application/json&bbox=-93.65,41.5,-93.5,41.6,EPSG:4326&maxFeatures=2000"}}}},Z={"rainfall-estimate":{endpoint:"https://www.tamsat.org.uk/public_data/data/v3.1/daily/",params:{year:null,month:null,day:null,format:"nc"},methods:{type:"netcdf",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"netcdf",MoreInfo:"http://www.tamsat.org.uk/",About:"TAMSAT provides daily rainfall estimates for Africa based on Meteosat thermal infrared imagery calibrated against ground-based rain gauge data."},"endpoint-info":{"rainfall-estimate":{paramFormat:{year:"String - Year (YYYY)",month:"String - Month (MM)",day:"String - Day (DD)",format:"String - File format (default: 'nc')"},infoSource:"http://www.tamsat.org.uk/data/rfe/",example:{year:"2023",month:"01",day:"01",exampleRequest:"https://www.tamsat.org.uk/public_data/data/v3.1/daily/2023/01/rfe2023_01_01.v3.1.nc"}}}},Q={baseUrl:"https://data.chc.ucsb.edu/products/CHIRPS-2.0/",datasets:{"africa_6-hourly":{path:"africa_6-hourly/",formats:["bin"],resolutions:["0p1"],structure:"year_month"},africa_daily:{path:"africa_daily/",formats:["tifs","bils"],resolutions:["p05","p25"],structure:"standard"},africa_dekad:{path:"africa_dekad/",formats:["tifs","bils","pngs"],resolutions:["p05","p25"],structure:"flat_format_folder"},africa_monthly:{path:"africa_monthly/",formats:["tifs","bils","pngs"],resolutions:["p05","p25"],structure:"flat_format_folder"},africa_pentad:{path:"africa_pentad/",formats:["tifs","bils","pngs"],resolutions:["p05","p25"],structure:"flat_format_folder"},global_daily:{path:"global_daily/",formats:["tifs","netcdf"],resolutions:["p05","p25"],structure:"standard"},global_monthly:{path:"global_monthly/",formats:["tifs","netcdf","bils"],resolutions:["p05","p25"],structure:"standard"},global_annual:{path:"global_annual/",formats:["tifs","netcdf"],resolutions:["p05","p25"],structure:"flat_format_folder"}}},X={sourceType:function(e,t){const a=t&&Q.datasets[t]?t:"global_daily",r=Q.datasets[a];if(!r)throw new Error(`Dataset '${t}' is not supported or invalid.`);const o=e.year||(new Date).getFullYear().toString(),n=e.month?e.month.toString().padStart(2,"0"):null;let i=e.format||"tifs";"tiff"!==i&&"tif"!==i||(i="tifs"),"bil"===i&&(i="bils"),"png"===i&&(i="pngs"),r.formats.includes(i)||(i=r.formats[0]);let s=e.resolution||"p05";"0.05"===s&&(s="p05"),"0.25"===s&&(s="p25"),"0.1"===s&&(s="0p1");let l=e.filename;if(!l)if(a.includes("daily")){const t=o;let a="tifs"===i?".tif.gz":"netcdf"===i?".nc":"";"tifs"===i&&(a=".tif.gz"),"netcdf"===i&&(a=".nc"),l=`chirps-v2.0.${t}.${n||"01"}.${e.day?e.day.toString().padStart(2,"0"):"01"}${a}`,"netcdf"===i&&(l=`chirps-v2.0.${t}.days_${s}.nc`)}else a.includes("monthly")&&(l=`chirps-v2.0.${o}.${n||"01"}${"tifs"===i?".tif.gz":"netcdf"===i?".nc":""}`);let d=Q.baseUrl+r.path;return"standard"===r.structure?(d+=`${i}/`,r.resolutions.length>0&&(d+=`${s}/`),"netcdf"!==i&&"standard"===r.structure&&(d+=`${o}/`),d+=l):"flat_format_folder"===r.structure&&(d+=`${i}/`,r.resolutions.length,d+=l),d},"global-daily":{endpoint:"dynamic",params:{year:null,month:null,day:null,format:"tiff",resolution:"0.05"},methods:{type:"tiff",method:"GET"}},"africa-daily":{endpoint:"dynamic",params:{year:null,format:"tiff"},methods:{type:"tiff",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"netcdf, tiff, bil, png",MoreInfo:"https://www.chc.ucsb.edu/data/chirps",About:"CHIRPS incorporates 0.05° resolution satellite imagery with in-situ station data to create gridded rainfall time series for trend analysis and seasonal drought monitoring."},"endpoint-info":{"global-daily":{paramFormat:{year:"String - Year (YYYY)",month:"String - Month (MM) - optional",day:"String - Day (DD) - optional",format:"String - 'tiff' (default) or 'netcdf'",resolution:"String - '0.05' (default) or '0.25'",filename:"String - Optional explicit filename override"},infoSource:"https://data.chc.ucsb.edu/products/CHIRPS-2.0/",example:{year:"2023",month:"01",day:"01",format:"tiff",resolution:"0.05",exampleRequest:"https://data.chc.ucsb.edu/products/CHIRPS-2.0/global_daily/tifs/p05/2023/chirps-v2.0.2023.01.01.tif.gz"}}}},J={"daily-climate":{endpoint:"https://www.longpaddock.qld.gov.au/cgi-bin/silo/PatchedPointDataset.php",params:{station:null,start:null,finish:null,format:"json",username:"guest",password:"guest"},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json, csv",MoreInfo:"https://www.longpaddock.qld.gov.au/silo/",About:"SILO provides daily climate data for Australian locations, including rainfall, temperature, and radiation."},"endpoint-info":{"daily-climate":{paramFormat:{station:"String - Station ID (e.g., '040913')",start:"String - Start date (YYYYMMDD)",finish:"String - End date (YYYYMMDD)",format:"String - Output format (default: 'json')"},infoSource:"https://www.longpaddock.qld.gov.au/silo/point-data/",example:{station:"040913",start:"20230101",finish:"20230131",exampleRequest:"https://www.longpaddock.qld.gov.au/cgi-bin/silo/PatchedPointDataset.php?station=040913&start=20230101&finish=20230131&format=json"}}}},ee={forecast:{endpoint:"https://api.open-meteo.com/v1/forecast",params:{latitude:null,longitude:null,hourly:null,daily:null,models:null,timezone:"auto"},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://open-meteo.com/",About:"Open-Meteo offers free weather forecasts for non-commercial use, with support for various global and regional models."},"endpoint-info":{forecast:{paramFormat:{latitude:"Number - Latitude",longitude:"Number - Longitude",hourly:"String - Comma-separated hourly variables",models:"String - Weather model (e.g., 'bom_access_global')"},infoSource:"https://open-meteo.com/en/docs",example:{latitude:-33.8688,longitude:151.2093,hourly:"temperature_2m",models:"bom_access_global",exampleRequest:"https://api.open-meteo.com/v1/forecast?latitude=-33.8688&longitude=151.2093&hourly=temperature_2m&models=bom_access_global"}}}},te={"city-forecast":{endpoint:"http://servicos.cptec.inpe.br/XML/cidade/{cityCode}/previsao.xml",params:{cityCode:null},methods:{type:"xml",method:"GET"}},"wave-forecast":{endpoint:"http://servicos.cptec.inpe.br/XML/cidade/{cityCode}/dia/{day}/ondas.xml",params:{cityCode:null,day:"0"},methods:{type:"xml",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"xml",MoreInfo:"http://servicos.cptec.inpe.br/XML/",About:"CPTEC/INPE provides weather and wave forecasts for Brazilian cities via XML services."},"endpoint-info":{"city-forecast":{paramFormat:{cityCode:"String - City ID (use city search to find)"},infoSource:"http://servicos.cptec.inpe.br/XML/",example:{cityCode:"244",exampleRequest:"http://servicos.cptec.inpe.br/XML/cidade/244/previsao.xml"}}}},ae={"drought-indices":{endpoint:"https://api.sissa.crc-sas.org/v1/indices",params:{index:null,scale:null,date:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://sissa.crc-sas.org/",About:"SISSA provides drought indices (SPI, SPEI) and monitoring tools for Southern South America."},"endpoint-info":{"drought-indices":{paramFormat:{index:"String - Drought index (spi, spei)",scale:"Number - Time scale (1, 3, 6, 12 months)",date:"String - Date (YYYY-MM-DD)"},infoSource:"https://sissa.crc-sas.org/",example:{index:"spi",scale:"3",date:"2023-01-01",exampleRequest:"https://api.sissa.crc-sas.org/v1/indices?index=spi&scale=3&date=2023-01-01"}}}},re={forecast:{endpoint:"https://ws.smn.gob.ar/map_items/forecast/{days}",params:{days:"1"},methods:{type:"json",method:"GET"}},"current-weather":{endpoint:"https://ws.smn.gob.ar/map_items/weather",params:{},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://www.smn.gob.ar/datos-abiertos",About:"SMN Argentina provides open data for weather forecasts and current conditions."},"endpoint-info":{forecast:{paramFormat:{days:"Number - Forecast days (1, 2, 3)"},infoSource:"https://www.smn.gob.ar/",example:{days:"1",exampleRequest:"https://ws.smn.gob.ar/map_items/forecast/1"}}}},oe={observations:{endpoint:"https://wis.ideam.gov.co/oapi/collections/observations/items",params:{f:"json",limit:10},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"json",MoreInfo:"https://wis.ideam.gov.co/oapi/",About:"IDEAM provides access to station observations via OGC API Features (WIS2)."},"endpoint-info":{observations:{paramFormat:{f:"String - Format (json)",limit:"Number - Limit results"},infoSource:"https://wis.ideam.gov.co/oapi/",example:{limit:10,exampleRequest:"https://wis.ideam.gov.co/oapi/collections/observations/items?f=json&limit=10"}}}},ne={"soil-properties":{endpoint:"https://maps.isric.org/mapserv",params:{map:"/map/{property}.map",service:"WCS",version:"2.0.1",request:"GetCoverage",coverageId:null,subset:[],format:"image/tiff"},methods:{type:"tiff",method:"GET"}},"point-query":{endpoint:"https://rest.isric.org/soilgrids/v2.0/properties/query",params:{lat:null,lon:null,property:null,depth:null,value:null},methods:{type:"json",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"tiff, png (WMS)",MoreInfo:"https://www.isric.org/explore/soilgrids",About:"ISRIC SoilGrids provides global predictions of soil properties at 250m resolution."},"endpoint-info":{"soil-properties":{paramFormat:{property:"String - Soil property (soc, phh2o, clay, sand, silt, bdod, cfvo, nitrogen)",coverageId:"String - Coverage ID (e.g., 'soc_0-5cm_mean')"},infoSource:"https://www.isric.org/explore/soilgrids/faq-soilgrids",example:{property:"soc",coverageId:"soc_0-5cm_mean",exampleRequest:"https://maps.isric.org/mapserv?map=/map/soc.map&service=WCS&version=2.0.1&request=GetCoverage&coverageId=soc_0-5cm_mean&format=image/tiff&subset=Lat(40,41)&subset=Long(-5,-4)"}}}},ie={"fisheries-wms":{endpoint:"https://www.fao.org/fishery/geoserver/wms",params:{service:"WMS",version:"1.3.0",request:"GetMap",layers:null,bbox:null,width:800,height:600,format:"image/png"},methods:{type:"image",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"image/png, json (WFS)",MoreInfo:"https://www.fao.org/fishery/geoserver/web/",About:"FAO provides geospatial data for fisheries, aquaculture, and agriculture via OGC standards."},"endpoint-info":{"fisheries-wms":{paramFormat:{layers:"String - Layer name (e.g., 'fifao:UN_CONTINENT')",bbox:"String - Bounding box"},infoSource:"https://www.fao.org/fishery/geoserver/web/",example:{layers:"fifao:UN_CONTINENT",exampleRequest:"https://www.fao.org/fishery/geoserver/wms?service=WMS&version=1.3.0&request=GetMap&layers=fifao:UN_CONTINENT&bbox=-180,-90,180,90&width=800&height=600&format=image/png"}}}},se={"global-surface-water":{endpoint:"https://global-surface-water.appspot.com/map_v1/2021/change/{z}/{x}/{y}.png",params:{},methods:{type:"tile",method:"GET"}},requirements:{needProxy:!0,requireskey:!1},info:{returnFormats:"png (tiles)",MoreInfo:"https://global-surface-water.appspot.com/",About:"Global Surface Water Explorer provides maps of the location and temporal distribution of surface water."},"endpoint-info":{"global-surface-water":{paramFormat:{},infoSource:"https://global-surface-water.appspot.com/",example:{exampleRequest:"https://global-surface-water.appspot.com/map_v1/2021/change/0/0/0.png"}}}},le={usgs:r,fema:o,noaa:n,worldbank:i,meteostat:s,aemet:l,eauk:d,meteoit:c,ifis:u,clearcreek:m,epa:p,waterOneFlow:h,hydroShare:g,hisCentral:f,proxies:y.A,envelope:b,nws:w,wqp:S,mitigation_dt:x,flooddamage_dt:_,nws_prediction:v,ECMWF:D,hrrr:T.A,drought:M,nasapower:I,nldi:F,nldas:k,nwm:N,mrms:P.default,aorc:R.default,threedep:j,prism:G.Ay,nhdplus:A,bmkg:O,cma:z,dwd:$,imd:L,jma:q,kma:U,knmi:B,meteofrance:Y,metno:V,smhi:H,tmd:W,wbd:K,tamsat:Z,chirps:X,silo:J,openmeteo:ee,cptec:te,sissa:ae,smn_argentina:re,ideam:oe,isric:ne,fao:ie,hydro_geospatial:se}}},__webpack_module_cache__={},installedChunks,installChunk;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var a=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e](a,a.exports,__webpack_require__),a.loaded=!0,a.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.d=(e,t)=>{for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce((t,a)=>(__webpack_require__.f[a](e,t),t),[])),__webpack_require__.u=e=>e+".hydrolang.js",__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},installedChunks={792:0},installChunk=e=>{var t,a,{__webpack_esm_ids__:r,__webpack_esm_modules__:o,__webpack_esm_runtime__:n}=e,i=0;for(t in o)__webpack_require__.o(o,t)&&(__webpack_require__.m[t]=o[t]);for(n&&n(__webpack_require__);i<r.length;i++)a=r[i],__webpack_require__.o(installedChunks,a)&&installedChunks[a]&&installedChunks[a][0](),installedChunks[r[i]]=0},__webpack_require__.f.j=(e,t)=>{var a=__webpack_require__.o(installedChunks,e)?installedChunks[e]:void 0;if(0!==a)if(a)t.push(a[1]);else{var r=import("./"+__webpack_require__.u(e)).then(installChunk,t=>{throw 0!==installedChunks[e]&&(installedChunks[e]=void 0),t});r=Promise.race([r,new Promise(t=>a=installedChunks[e]=[t])]),t.push(a[1]=r)}};var __webpack_exports__={},stats_namespaceObject={};__webpack_require__.r(stats_namespaceObject),__webpack_require__.d(stats_namespaceObject,{A:()=>stats});var datav_12=__webpack_require__(716);class stats{static copydata({params:e,args:t,data:a}={}){return null===a||"object"!=typeof a?a:Array.isArray(a)?[...a]:{...a}}static preprocessData(e){if(!Array.isArray(e)){const t=Number(e);return"number"!=typeof e||isNaN(e)?isNaN(t)?[]:[t]:[e]}let t=e;if(t.length>0&&Array.isArray(t[0])&&t.every(e=>Array.isArray(e))&&t.length<t[0].length&&t.length<20)for(const e of t){const t=e.slice(0,10).filter(e=>"number"==typeof e||"string"==typeof e&&!isNaN(Number(e))).length;if(t>5||e.length<10&&t>0)return e.map(e=>Number(e)).filter(e=>"number"==typeof e&&!isNaN(e))}if(t.length>1&&Array.isArray(t[0])&&Array.isArray(t[1])){const e=t[0].every(e=>"string"==typeof e&&isNaN(Number(e))),a=t[1].some(e=>"number"==typeof e||!isNaN(Number(e)));e&&a&&(t=t.slice(1))}const a=e=>{if("number"==typeof e)return isNaN(e)?null:e;if("string"==typeof e){const t=Number(e);return isNaN(t)?null:t}if("object"==typeof e&&null!==e){const t=["#text","value","val","amount","number"];for(const a of t)if(void 0!==e[a]){const t=Number(e[a]);if(!isNaN(t))return t}if(Array.isArray(e)){if(2===e.length){const t=a(e[1]);if(null!==t)return t;const r=a(e[0]);if(null!==r)return r}for(const t of e){const e=a(t);if(null!==e)return e}}else for(const t in e){const a=Number(e[t]);if(!isNaN(a))return a}}return null},r=[];for(const e of t){const t=a(e);null!==t&&r.push(t)}return r}static onearray({params:e,args:t,data:a}={}){var r=[];return r.push(a[1]),r}static range({params:e={},args:t,data:a}={}){const r=this.min({data:a}),o=this.max({data:a}),n=Number(e.N||a.length),i=(o-r)/n,s=[];for(let e=0;e<=n;e++)s.push(r+e*i);return s}static datagaps({params:e,args:t,data:a}={}){var r,o=a,n=0;r="object"!=typeof o[0]?o.slice():o[1].slice();for(var i=0;i<r.length;i++)(void 0===r[i]||Number.isNaN(r[i])||!1===r[i])&&n++;return console.log(`Total amount of gaps in data: ${n}.`)}static gapremoval({params:e={},args:t={},data:a}={}){let r=e.gapValues||[void 0,null,NaN,!1,-9999,9999];Array.isArray(r)&&(r=r.map(e=>"string"!=typeof e||Number.isNaN(Number(e))?e:Number(e)));const o=t.method||"interpolate",n=e=>r.some(t=>Object.is(t,e)||Number.isNaN(t)&&Number.isNaN(e)),i=e=>{const t=[...e];for(let e=0;e<t.length;e++)if(n(t[e])){let a=e-1,r=e+1;for(;a>=0&&n(t[a]);)a--;for(;r<t.length&&n(t[r]);)r++;a>=0&&r<t.length?t[e]=(t[a]+t[r])/2:a>=0?t[e]=t[a]:r<t.length?t[e]=t[r]:t[e]=0}return t},s=(e,t="mean")=>{const a=(e=>e.filter(e=>!n(e)))(e),r="median"===t?a.sort((e,t)=>e-t)[Math.floor(a.length/2)]:a.reduce((e,t)=>e+t,0)/a.length;return e.map(e=>n(e)?r:e)};if(!Array.isArray(a))return a;if("object"!=typeof a[0])return"interpolate"===o?i(a):s(a,o);let l=a[0],d=a[1];const c=[],u=[];for(let e=0;e<d.length;e++)n(d[e])||(c.push(l[e]),u.push(d[e]));return[l,"interpolate"===o?i(d):s(d,o)]}static timegaps({params:e,args:t,data:a}={}){var r=Number(e.timestep),o=a,n=Array.isArray(o)?o.slice():[];"object"==typeof o[0]&&(n=o[0].slice());for(var i=[],s=0;s<n.length;s++)"string"==typeof n[0]?i.push(Math.abs(Date.parse(n[s])/6e4)):i.push(n[s]);var l=0,d=[],c=r;for(s=1;s<n.length-1;s++)Math.abs(i[s-1]-i[s])==c&&Math.abs(i[s]-i[s+1])==c||(l++,d.push(n[s]));return 0===d.length?void console.log("No gaps in times!"):(console.log(`Number of time gaps: ${l}`),d)}static gapfiller({params:e,args:t,data:a}={}){var r=Array.isArray(a)?a.slice():[],o=[];Array.isArray(a[0])&&(r=a[0].slice());for(var n=0;n<r.length;n++)"string"==typeof r[0]?o.push(Math.abs(Date.parse(r[n])/6e4)):o.push(r[n]);if("time"===e.type){const e=[];for(let t=0;t<o.length;t++)e.push(o[t]),t<o.length-1&&(o[t+1],o[t]);return o}return r}static sum({params:e,args:t,data:a}={}){return this.preprocessData(a),a.reduce((e,t)=>e+t,0)}static mean({params:e,args:t,data:a}={}){const r=a;if(!r.length)return 0;const o=r.reduce((e,t)=>e+t,0),n=o/r.length;return Number.isNaN(n)&&console.warn("stats.mean returned NaN. Data:",a,"Sum:",o),n}static median({params:e,args:t,data:a}={}){const r=this.preprocessData(a);if(!r.length)return 0;const o=r.sort((e,t)=>e-t),n=Math.floor(o.length/2);return o.length%2==0?(o[n-1]+o[n])/2:o[n]}static stddev({params:e,args:t,data:a}={}){const r=this.preprocessData(a);if(!r.length)return 0;for(var o=this.mean({data:r}),n=[],i=0;i<r.length;i+=1)n.push((r[i]-o)*(r[i]-o));return Math.sqrt(this.sum({data:n})/n.length)}static variance({params:e,args:t,data:a}={}){const r=this.preprocessData(a);if(!r.length)return 0;const o=this.mean({data:r});return r.map(e=>(e-o)**2).reduce((e,t)=>e+t,0)/r.length}static sumsqrd({params:e,args:t,data:a}={}){const r=this.preprocessData(a);for(var o=r.length,n=0;--o>=0;)n+=Math.pow(r[o],2);return n}static min({params:e,args:t,data:a}={}){const r=this.preprocessData(a);return Math.min(...r)}static max({params:e,args:t,data:a}={}){const r=this.preprocessData(a);return Math.max(...r)}static unique({params:e,args:t,data:a}={}){return this.preprocessData(a).filter((e,t,a)=>a.indexOf(e)===t)}static frequency({params:e,args:t,data:a}={}){var r=this.preprocessData(a),o={};return r.forEach(e=>{o[e]=(o[e]||0)+1}),o}static standardize({params:e,args:t,data:a}={}){const r=this.preprocessData(a);for(var o=[],n=this.stddev({data:r}),i=this.mean({data:r}),s=0;s<r.length;s++)o[s]=(r[s]-i)/n;return o}static quantile({params:e,args:t,data:a}={}){const r=this.preprocessData(a);r.sort(function(e,t){return e-t});var o=(r.length-1)*Number(e.q);if(o%1==0)return r[o];var n=Math.floor(o),i=o-n;return void 0!==r[n+1]?r[n]+i*(r[n+1]-r[n]):r[n]}static interoutliers({params:e={q1:.25,q2:.75},data:t=[]}={}){const a=t,r=Number(void 0!==e.q1?e.q1:.25),o=Number(void 0!==e.q2?e.q2:.75);var n=this.quantile({params:{q:r},data:a}),i=this.quantile({params:{q:o},data:a}),s=i-n,l=i+1.5*s,d=n-1.5*s;return a.filter(e=>e>=d&&e<=l)}static normoutliers({params:e={},args:t,data:a}={}){const r=this.preprocessData(a),o=this.mean({data:r}),n=this.stddev({data:r});return{min:o-Number(void 0!==e.lowerBound?e.lowerBound:-.5)*n,max:o+Number(void 0!==e.upperBound?e.upperBound:.5)*n}}static outremove({data:e,params:t={}}={}){let{replaceValue:a=0,thresholds:r=[-9999,9999]}=t;"string"!=typeof a||isNaN(Number(a))||(a=Number(a)),Array.isArray(r)&&(r=r.map(Number));const o=e=>"number"==typeof e&&(e<r[0]||e>r[1]);return Array.isArray(e)?e.length>1&&Array.isArray(e[0])&&e.every(t=>Array.isArray(t)&&t.length===e[0].length)?e.map(e=>(e[0],e.slice(1).some(e=>!isNaN(Number(e))&&null!==e&&""!==e)?e.map((e,t)=>{if(0===t)return e;const r=Number(e);return isNaN(r)?e:o(r)?a:r}):e)):Array.isArray(e[0])?e.map(e=>{let t=-1;for(let a=0;a<e.length;a++)if(!isNaN(Number(e[a]))&&null!==e[a]&&""!==e[a]){t=a;break}if(-1!==t){const r=Number(e[t]);if(!isNaN(r)&&o(r)){const r=[...e];return r[t]=a,r}}return e}):e.map(e=>{const t=Number(e);return isNaN(t)?e:o(t)?a:t}):e}static correlation({params:e,args:t,data:a}={}){const{set1:r,set2:o}=a,n=r.length+o.length,i=r.map(Number),s=o.map(Number),l=[],d=[],c=[];for(let e=0;e<i.length;e++)l[e]=i[e]*s[e],d[e]=i[e]**2,c[e]=s[e]**2;return(n*this.sum({data:l})-this.sum({data:i})*this.sum({data:s}))/(Math.sqrt(n*this.sum({data:d})-this.sum({data:i})**2)*Math.sqrt(n*this.sum({data:c})-this.sum({data:s})**2))}static efficiencies({params:e,args:t,data:a}={}){let{type:r}=e,[o,n]=a;const i=o.map(Number),s=n.map(Number),l=this.mean({data:i}),d=this.mean({data:s});if("NSE"===r){const e=s.map((e,t)=>Math.pow(e-i[t],2)),t=i.map(e=>Math.pow(e-l,2));return 1-this.sum({data:e})/this.sum({data:t})}if("determination"===r){const e=[],t=[],a=[];for(let r=0;r<i.length;r++)e[r]=(s[r]-d)*(i[r]-l),t[r]=Math.pow(s[r]-d,2),a[r]=Math.pow(i[r]-l,2);return console.log(`The values are - Upper: ${this.sum({data:e})}, Lower: ${this.sum({data:t})} and ${this.sum({data:a})}`),Math.pow(this.sum({data:e})/(Math.sqrt(this.sum({data:t}))*Math.sqrt(this.sum({data:a}))),2)}if("agreement"===r){const e=i.map((e,t)=>Math.pow(e-s[t],2)),t=i.map((e,t)=>Math.pow(Math.abs(s[t]-l)+Math.abs(e-l),2));return 1-this.sum({data:e})/this.sum({data:t})}if("all"===r)return{NSE:this.efficiencies({params:{type:"NSE"},data:[i,s]}),r2:this.efficiencies({params:{type:"determination"},data:[i,s]}),d:this.efficiencies({params:{type:"agreement"},data:[i,s]})}}static fastFourier({params:e,args:t,data:a}={}){const r=a.map(Number),o=Math.pow(2,Math.ceil(Math.log2(r.length)));let n=tf.pad1d(r,[0,o-r.length]);const i=tf.zerosLike(n),s=tf.complex(n,i);return tf.spectral.fft(s).arraySync()}static skewness({params:e,arg:t,data:a}={}){const r=this.preprocessData(a),o=r.length,n=this.mean({data:r}),i=r.reduce((e,t)=>e+Math.pow(t-n,3),0),s=Math.sqrt(r.reduce((e,t)=>e+Math.pow(t-n,2),0)/o);return o/((o-1)*(o-2))*(i/Math.pow(s,3))}static kurtosis({params:e,args:t,data:a}={}){const r=this.preprocessData(a),o=r.length,n=this.mean({data:r}),i=r.reduce((e,t)=>e+Math.pow(t-n,4),0),s=this.stddev({data:r});return o*(o+1)/((o-1)*(o-2)*(o-3))*(i/Math.pow(s,4))-3*Math.pow(o-1,2)/((o-2)*(o-3))}static forwardFill({params:e,args:t,data:a}={}){let r=null,o=[];return{data:a.map((e,t)=>e>0?(r=e,e):null!==r?(o.push(t),r):null),replaceIndices:o}}static basicstats({params:e,args:t,data:a}={}){a=(a=this.preprocessData(a)).map(e=>(e>99998&&(e=0),e));var r=[],o=[];return o.push("Value"),o.push(a.length),o.push(this.min({data:a})),o.push(this.max({data:a})),o.push(this.sum({data:a})),o.push(this.mean({data:a})),o.push(this.median({data:a})),o.push(this.stddev({data:a})),o.push(this.variance({data:a})),o.push(this.skewness({data:a})),o.push(this.kurtosis({data:a})),r.push(["Metric","Number of values","Minimum Value","Maximum value","Sum","Mean","Median","Standard deviation","Variance","Skewness","Kurtosis"]),r.push(o),r}static MK({params:e,args:t,data:a}){var r,o,n=0,i=0,s=0;const l=(e=e||{}).alpha||.05;for(var d=0;d<a.length;d++)for(var c=d+1;c<a.length;c++)i+=1,a[c]>a[d]?n+=1:a[c]==a[d]&&(s+=1);r=n-(i-n-s);var u,m=a.length;if(m<=10){var p=new Map;for(d=0;d<m;d++)p.has(a[d])?p.set(a[d],p.get(a[d])+1):p.set(a[d],1);var h=0;for(var[f,i]of p)i>1&&(h+=i*(i-1)*(2*i+5));u=Math.sqrt((m*(m-1)*(2*m+5)-h)/18)}else u=Math.sqrt(m*(m-1)*(2*m+5)/18);o=r>0?(r-1)/u:r<0?(r+1)/u:0;var g=2*(1-this.normalcdf({data:[Math.abs(o)]})[0]);return{S:r,z:o,p:g,trend:o>0?"increasing":o<0?"decreasing":"no trend",significant:g<l}}static gammaCDFApprox({params:e={},args:t={},data:a=[]}={}){const{alpha:r,beta:o}=e;if(void 0===a||0===a.length)return 0;const n=a[0],i=1e-8;function s(e){const t=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];let a=e-1,r=a+5.5;r-=(a+.5)*Math.log(r);let o=1.000000000190015;for(let e=0;e<6;e++)a+=1,o+=t[e]/a;return-r+Math.log(2.5066282746310007*o)}const l=n/o;return l<r+1?function(e,t){let a=1/e,r=a,o=e;for(let n=1;n<=100;n++)if(o+=1,r*=t/o,a+=r,Math.abs(r)<Math.abs(a)*i)return a*Math.exp(-t+e*Math.log(t)-s(e));return a*Math.exp(-t+e*Math.log(t)-s(e))}(r,l):1-function(e,t){let a=t+1-e,r=1/1e-30,o=1/a,n=o;for(let t=1;t<=100;t++){let s=-t*(t-e);a+=2,o=s*o+a,Math.abs(o)<i&&(o=i),r=a+s/r,Math.abs(r)<i&&(r=i),o=1/o;let l=o*r;if(n*=l,Math.abs(l-1)<i)break}return Math.exp(-t+e*Math.log(t)-s(e))*n}(r,l)}static normalcdf({params:e,args:t,data:a}){let r=[];for(var o=0;o<a.length;o++){var n=a[o],i=1/(1+.2316419*Math.abs(n)),s=.3989423*Math.exp(-n*n/2)*i*(.3193815+i*(i*(1.781478+i*(1.330274*i-1.821256))-.3565638));n>0&&(s=1-s),r.push(s)}return r}static computeD({params:e,args:t,data:a={}}){var{sampleA:r,sampleB:o}=a;if(!r||!o)return 0;var n=0;this.min({data:r.concat(o)}),this.max({data:r.concat(o)});let i=r.length,s=o.length;for(var l of this.range({params:{N:1e3},data:a})){var d=r.filter(e=>e<=l).length/i,c=o.filter(e=>e<=l).length/s,u=Math.abs(d-c);u>n&&(n=u)}return n}static KS_computePValue({params:e,args:t,data:a}){var r=a[0],o=a[1],n=this.computeD({data:[r,o]}),i=r.length,s=o.length;return[2*Math.exp(-2*n*n*(i*s)/(i+s)),n]}static KS_rejectAtAlpha({params:e,args:t,data:a}){let[r,o]=this.KS_computePValue({data:a});return r<e.alpha}static normalDistribution({params:e,args:t,data:a}){return Math.exp(.5*-(Math.log(2*Math.PI)+e.z*e.z))}static runSimulation({params:e,args:t,data:a}={}){const{multiplier:r}=e||1,o=this.mean({data:a}),n=this.stddev({data:a});var i,s;return i=o-n*r,s=o+n*r,Math.random()*(s-i)+i}static runMonteCarlo({params:e,args:t,data:a}={}){const{iterations:r=100,callback:o}=e||{},n=[];for(let i=0;i<r;i++){let r;if(o)r=o({params:e,args:t,data:a});else{const e=a;r=this.runSimulation({data:e})}n.push(r)}return n}static runVegas({params:e,args:t,data:a}={}){const{iterations:r=100,callback:o}=e||{},n=[];for(let i=0;i<r;i++){let r;if(o)r=o({params:e,args:t,data:a});else for(let e of a){const t=this.runSimulation({data:e});n.push(t)}}return n}static gaussianDist({params:e={},args:t,data:a}={}){const{x:r,mean:o,stddev:n}=e;if(void 0===o||void 0===n||void 0===r)return 0;const i=-((r-o)**2)/(2*n**2);return 1/(n*Math.sqrt(2*Math.PI))*Math.exp(i)}static bernoulliDist({params:e={},args:t,data:a}={}){const{f:r,s:o}=e;return 0===r?1-o:1===r?o:0}static gevDistribution({params:e={},args:t,data:a}={}){const{x:r,mu:o,sigma:n,xi:i}=e;if(void 0===r||void 0===o||void 0===n||void 0===i)return 0;const s=(r-o)/n;if(0===i){const e=-s-Math.exp(-s);return Math.exp(e)/n}return Math.pow(1+i*s,-(1/i+1))*Math.exp((-(1+i*s))**(-1/i))/n}static geometricDist({params:e={},args:t={},data:a}={}){const r=e&&void 0!==e.s?e.s:1,{trials:o}=t||{};return!o||o<1?0:(1-r)**(o-1)*r}static binomialDist({params:e={},args:t={},data:a}={}){const{trials:r,probSuccess:o}=e,{s:n}=t;return void 0===n||void 0===r||void 0===o||n<0||n>r?0:this.binomialCoefficient(r,n)*o**n*(1-o)**(r-n)}static multinomialDistribution({params:e={},args:t,data:a}={}){const{probabilities:r,n:o}=e,n=r.length,i=[],s=[];for(let e=0;e<o;e++){const e=[];let t=1;for(let a=0;a<n-1;a++){const o=r[a],n=Math.random()*t,i=Math.floor(n/o);e.push(i),t-=i*o}const a=Math.floor(t/r[n-1]);e.push(a),i.push(e),s.push(this.frequency({data:e}))}return{samples:i,frequencies:s}}static logSeriesDist({params:e={},args:t={},data:a}={}){const{probSuccess:r}=e,{trials:o}=t;return!o||o<1?0:-Math.log(1-r)*Math.pow(r,o)/o}static lognormalDist({params:e={},args:t={},data:a}={}){const{mu:r,sigma:o}=e,{x:n}=t;if(n<=0)return 0;const i=-((Math.log(n)-r)**2)/(2*o**2);return 1/(n*o*Math.sqrt(2*Math.PI))*Math.exp(i)}static gumbelDist({params:e={},args:t={},data:a}={}){const{mu:r,beta:o}=e,{x:n}=t,i=(n-r)/o;return 1/o*Math.exp(-(i+Math.exp(-i)))}static uniformDist({params:e={},args:t={},data:a}={}){const{a:r,b:o}=e,{x:n}=t;return n>=r&&n<=o?1/(o-r):0}static simpleMovingAverage({params:e,args:t,data:a}={}){const{windowSize:r}=e,o=this.preprocessData(a);if(r<=0||r>o.length)throw new Error("Invalid window size.");const n=[];for(let e=0;e<=o.length-r;e++){const t=o.slice(e,e+r).reduce((e,t)=>e+t,0)/r;n.push(t)}return n}static linearMovingAverage({params:e,args:t,data:a}={}){const{windowSize:r}=e,o=this.preprocessData(a);if(r<=0||r>o.length)throw new Error("Invalid window size.");const n=[];let i=0;for(let e=0;e<r;e++)i+=o[e];n.push(i/r);for(let e=r;e<o.length;e++)i+=o[e]-o[e-r],n.push(i/r);return n}static exponentialMovingAverage({params:e,args:t,data:a}={}){const{alpha:r}=e,o=this.preprocessData(a),n=[];let i=o[0];for(let e=1;e<o.length;e++)i=r*o[e]+(1-r)*i,n.push(i);return n}static seasonalDecompose({params:e={},args:t,data:a}={}){const r=this.preprocessData(a),o=r.length,n=Number(e.period)||12,i="multiplicative"===e.model?"multiplicative":"additive",s=new Array(o).fill(null),l=Math.floor(n/2);for(let e=l;e<o-l;e++)if(n%2==0){let t=0;for(let a=-l;a<l;a++)t+=r[e+a];let a=0;for(let t=1-l;t<=l;t++)a+=r[e+t];s[e]=(t+a)/(2*n)}else{let t=0;for(let a=-l;a<=l;a++)t+=r[e+a];s[e]=t/n}const d=new Array(o).fill(null);for(let e=0;e<o;e++)null!==s[e]&&(d[e]="additive"===i?r[e]-s[e]:0!==s[e]?r[e]/s[e]:null);const c=new Array(n).fill(0),u=new Array(n).fill(0);for(let e=0;e<o;e++)if(null!==d[e]&&!isNaN(d[e])){const t=e%n;c[t]+=d[e],u[t]++}const m=c.map((e,t)=>u[t]>0?e/u[t]:0);if("additive"===i){const e=m.reduce((e,t)=>e+t,0)/n;for(let t=0;t<n;t++)m[t]-=e}else{const e=m.reduce((e,t)=>e+t,0)/n;for(let t=0;t<n;t++)m[t]/=e}const p=new Array(o).fill(0).map((e,t)=>m[t%n]),h=new Array(o).fill(null);for(let e=0;e<o;e++)"additive"===i?h[e]=r[e]-s[e]-p[e]:null!==s[e]&&0!==p[e]&&(h[e]=r[e]/(s[e]*p[e]));return[r,s,p,h]}static poissonProcess({params:e={},args:t={},data:a}={}){const{lambda:r,timeFrame:o,type:n="time"}=e,{rateFunction:i}=t;if("time"===n){const e=[];let t=0;for(;t<o;)t+=-Math.log(Math.random())/r,t<o&&e.push(t);return e}if("count"===n){const e=new Array(Math.ceil(o)).fill(0),t=this.poissonProcess({params:{lambda:r,timeFrame:o,type:"time"}});for(const a of t){const t=Math.floor(a);t<e.length&&e[t]++}return e}throw new Error("Invalid type. Use 'time' or 'count'.")}static returnPeriod({params:e,args:t,data:a}={}){const{probability:r}=e;if(r<=0||r>=1)throw new Error("Probability must be between 0 and 1 (exclusive).");return 1/r}static differencing({params:e,args:t,data:a}={}){const r=e.order,o=a;if(r>=o.length)throw new Error("Invalid order for differencing.");return o.slice(r).map((e,t)=>e-o[t])}static residualVariance({params:e,args:t,data:a}={}){const r=a;if(!Array.isArray(r))throw new Error("Invalid data. Expecting an array of residuals.");if(r.length<2)throw new Error("Insufficient data. Expecting an array of at least 2 residuals.");const o=r.map(e=>e*e);return o.reduce((e,t)=>e+t,0)/o.length}static regression({params:e,args:t,data:a}={}){const r=this.preprocessData(a.y),o=a.X.map(e=>this.preprocessData(e)).map(e=>[1,...e]),n=this.multiplyMatrix({data:{matrix1:this.transposeMatrix({data:o}),matrix2:o}}),i=this.multiplyMatrix({data:{matrix1:this.transposeMatrix({data:o}),matrix2:r}}),s=this.matrixInverse(n);return this.multiplyMatrix({data:{matrix1:s,matrix2:i}})}static multiregression({params:e,args:t,data:a}={}){if(!a||!a.X||!a.Y)return[];const r=a.X.map(e=>this.preprocessData(e)),o=a.Y.map(e=>this.preprocessData(e)),n=[];for(let e=0;e<o.length;e++){const t={X:r,y:o[e]},a=this.regression({data:t});n.push(a)}return n}static whitesTest({params:e,args:t,data:a}={}){const{errors:r,regressors:o}=a,n=this.preprocessData(r),i=o.map(e=>this.preprocessData(e));if(n.length!==i.length)throw new Error("Input arrays must have the same length.");const s=n.length,l=n.map(e=>e*e),d=i.map(e=>{const t=e.map(e=>e*e);return[...e,...t]}),c=this.regression({data:{X:d,y:l}}),u=d.map(e=>{let t=c[0];for(let a=0;a<e.length;a++)t+=c[a+1]*e[a];return t}),m=this.mean({data:l}),p=l.reduce((e,t)=>e+Math.pow(t-m,2),0),h=s*(1-l.reduce((e,t,a)=>e+Math.pow(t-u[a],2),0)/p),f=d[0].length;return{testStatistic:h,pValue:1-this.chisqCDF(h,f)}}static breuschPaganTest({params:e,args:t,data:a}={}){const{errors:r,regressors:o}=a;if(r.length!==o.length)throw new Error("Input arrays must have the same length.");const n=r.length,i=o[0].length;let s=[];for(let e=0;e<n;e++){const t=r[e];s.push(t**2)}let l=0,d=0,c=0;for(let e=0;e<n;e++){const t=o[e],a=s[e],r=this.dotProduct(t,t);l+=r,d+=r*a,c+=a**2}const u=n/2*(Math.log(d)-1/n*Math.log(l));return{testStatistic:u,pValue:1-this.chisqCDF(u,i)}}static goldfeldQuandtTest({params:e,args:t,data:a}={}){const{residuals:r,independentVar:o}=a;if(r.length!==o.length)throw new Error("Input arrays must have the same length.");const n=r.length,i=Math.floor(.4*n),s=o.map((e,t)=>t).sort((e,t)=>o[e]-o[t]),l=s.slice(0,i),d=s.slice(-i),c=l.map(e=>r[e]),u=d.map(e=>r[e]),m=Math.max(...u)**2/Math.min(...c)**2;return{testStatistic:m,pValue:1-this.chisqCDF(m,i-1)}}static runMarkovChainMonteCarlo({params:e,args:t,data:a}={}){const{iterations:r=100,callback:o}=e||{},n=[];let i=a.initialState;for(let s=0;s<r;s++){let r;r=o?o({params:e,args:t,data:a,currentState:i}):this.getNextState(a.transitionMatrix,i),n.push(r),i=r}return n}static joinarray({params:e,arg:t,data:a}={}){for(var r=[],o=1;o<a[0].length;o++)r[o]||(r[o]=[]),r[o]=[a[0],a[1]].reduce((e,t)=>e.map((e,a)=>e+t[a]));return r}static flatenise({params:e,args:t,data:a}={}){for(var r=e.columns,o=a,n=[],i=[],s=0;s<r.length;s++)n.push(r[s]);for(var l=0;l<o.length;l++)i.push(o[l].flat());return[n,i]}static numerise({params:e,args:t,data:a}={}){return a.map(e=>parseFloat(e))}static cleaner({params:e,args:t,data:a}={}){return a.filter(e=>void 0===e||!Number.isNaN(e))}static itemfilter({params:e,args:t,data:a}={}){return a[0].filter(e=>!a[1].includes(e))}static dateparser({params:e,args:t,data:a}={}){for(var r=[],o=0;o<a.length;o++)r.push(new Date(a[o]).toLocaleString());return r}static arrchange({params:e,args:t,data:a}={}){var r;return(r=a)[0].map((e,t)=>r.map(e=>e[t]))}static push({params:e,args:t,data:a}={}){for(var r=0;r<a[1].length;r++)for(var o=0;o<a[0].length;o++)a[0][r].push(a[1][r][o]);return a[0]}static generateRandomData({params:e={},args:t,data:a}={}){const{size:r,range:o=100}=e;let n=[];for(let e=0;e<r;e++)n.push(Math.floor(Math.random()*o));return n}static autocovarianceMatrix({params:e,args:t,data:a}={}){const{lag:r,lags:o}=e||{lag:2,lags:2},n=a.length,i=this.mean({data:a}),s=[],l=[];for(let e=0;e<=r;e++){let t=0;for(let r=e;r<n;r++)t+=(a[r]-i)*(a[r-e]-i);s.push(t/((n-e)*this.variance({data:a})))}for(let e=0;e<=o;e++){const t=[];for(let a=0;a<=o;a++){const r=s[Math.abs(e-a)];t.push(e===a?1:r)}l.push(t)}return{autocorrelation:s,matrix:l}}static binomialCoefficient(e,t){if(0===t||t===e)return 1;if(t>e)return 0;let a=1;for(let r=1;r<=t;r++)a*=(e-r+1)/r;return a}static multiplyMatrix({params:e,args:t,data:a}={}){const{matrix1:r,matrix2:o}=t||a,n=r.length,i=r[0].length,s=o[0].length,l=[];for(let e=0;e<n;e++){l[e]=[];for(let t=0;t<s;t++){let a=0;for(let n=0;n<i;n++)a+=r[e][n]*o[n][t];l[e][t]=a}}return l}static transposeMatrix({params:e,args:t,data:a}={}){const r=t?.matrix||a,o=r.length,n=r[0].length,i=[];for(let e=0;e<n;e++){i[e]=[];for(let t=0;t<o;t++)i[e][t]=r[t][e]}return i}static matrixInverse(e){const t=e.length,a=[],r=[];for(let o=0;o<t;o++){r[o]=[],a[o]=[];for(let n=0;n<t;n++)r[o][n]=o===n?1:0,a[o][n]=e[o][n]}for(let e=0;e<t;e++){const o=a[e][e];for(let n=0;n<t;n++)a[e][n]/=o,r[e][n]/=o;for(let o=0;o<t;o++)if(o!==e){const n=a[o][e];for(let i=0;i<t;i++)a[o][i]-=n*a[e][i],r[o][i]-=n*r[e][i]}}return r}static chisqCDF(e,t){let a,r;if("object"==typeof e&&null!==e&&(e.params||e.args||e.data)){const{args:t={}}=e;a=t.x,r=t.k}else a=e,r=t;let o=Math.exp(-a/2),n=o;for(let e=1;e<r;e++){let t=o;if(o*=a/(2*(e+1)),n+=o,o===t)break}return 1-n}static dotProduct(e,t){if(e.length!=t.length)throw new Error("Input vectors must have the same length.");const a=e.map(Number),r=t.map(Number);let o=0;for(let e=0;e<a.length;e++)o+=a[e]*r[e];return o}static getNextState(e,t){const a=Math.random();let r=0;for(let o=0;o<e[t].length;o++)if(r+=e[t][o],a<=r)return o;return t}static gammaDist({params:e={},args:t={},data:a}={}){const{alpha:r,beta:o}=e,{x:n}=t;if(n<0)return 0;const i=e=>{if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*i(1-e));e-=1;const t=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7];let a=t[0];for(let r=1;r<t.length;r++)a+=t[r]/(e+r);const r=e+t.length-1.5;return Math.sqrt(2*Math.PI)*Math.pow(r,e+.5)*Math.exp(-r)*a};return Math.pow(n,r-1)*Math.exp(-n/o)/(Math.pow(o,r)*i(r))}static weibullDist({params:e={},args:t={},data:a}={}){const{k:r,lambda:o}=e,{x:n}=t;return n<0?0:r/o*Math.pow(n/o,r-1)*Math.exp(-Math.pow(n/o,r))}static exponentialDist({params:e={},args:t={},data:a}={}){const{lambda:r}=e,{x:o}=t;return o<0?0:r*Math.exp(-r*o)}static betaDist({params:e={},args:t={},data:a}={}){const{alpha:r,beta:o}=e,{x:n}=t;if(n<0||n>1)return 0;const i=e=>{if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*i(1-e));e-=1;const t=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7];let a=t[0];for(let r=1;r<t.length;r++)a+=t[r]/(e+r);const r=e+t.length-1.5;return Math.sqrt(2*Math.PI)*Math.pow(r,e+.5)*Math.exp(-r)*a},s=i(r)*i(o)/i(r+o);return Math.pow(n,r-1)*Math.pow(1-n,o-1)/s}static tTest({params:e,args:t,data:a}={}){const{type:r="one",mu:o=0}=e,{sample1:n,sample2:i}=a,s=this.preprocessData(n),l=this.mean({data:s}),d=s.length,c=this.variance({data:s});let u,m;if("one"===r)u=(l-o)/Math.sqrt(c/d),m=d-1;else if("two"===r){const e=this.preprocessData(i),t=this.mean({data:e}),a=e.length,r=this.variance({data:e});u=(l-t)/(Math.sqrt(((d-1)*c+(a-1)*r)/(d+a-2))*Math.sqrt(1/d+1/a)),m=d+a-2}else if("paired"===r){const e=this.preprocessData(i);if(d!==e.length)throw new Error("Samples must have same length for paired t-test");const t=s.map((t,a)=>t-e[a]),a=this.mean({data:t}),r=this.variance({data:t});u=a/Math.sqrt(r/d),m=d-1}return{t:u,df:m}}static fTest({params:e,args:t,data:a}={}){const{sample1:r,sample2:o}=a,n=this.preprocessData(r),i=this.preprocessData(o);return{F:this.variance({data:n})/this.variance({data:i}),df1:n.length-1,df2:i.length-1}}static anova({params:e,args:t,data:a}={}){const r=a.map(e=>this.preprocessData(e)),o=r.length,n=r.reduce((e,t)=>e+t.length,0),i=r.flat(),s=this.mean({data:i});let l=0;r.forEach(e=>{const t=this.mean({data:e});l+=e.length*Math.pow(t-s,2)});let d=0;r.forEach(e=>{const t=this.mean({data:e});e.forEach(e=>{d+=Math.pow(e-t,2)})});const c=o-1,u=n-o;return{F:l/c/(d/u),dfBetween:c,dfWithin:u}}static mannWhitney({params:e,args:t,data:a}={}){const{sample1:r,sample2:o}=a,n=this.preprocessData(r),i=this.preprocessData(o),s=n.length,l=i.length,d=n.map(e=>({val:e,group:1})).concat(i.map(e=>({val:e,group:2})));d.sort((e,t)=>e.val-t.val);const c=new Array(d.length).fill(0);for(let e=0;e<d.length;){let t=e+1;for(;t<d.length&&d[t].val===d[e].val;)t++;const a=(e+1+t)/2;for(let r=e;r<t;r++)c[r]=a;e=t}let u=0;for(let e=0;e<d.length;e++)1===d[e].group&&(u+=c[e]);const m=u-s*(s+1)/2,p=s*l-m,h=Math.min(m,p),f=(h-s*l/2)/Math.sqrt(s*l*(s+l+1)/12);return{U:h,p:2*(1-this.normalcdf({data:[Math.abs(f)]})[0])}}static wilcoxonSignedRank({params:e,args:t,data:a}={}){const{sample1:r,sample2:o}=a,n=this.preprocessData(r),i=this.preprocessData(o);if(n.length!==i.length)throw new Error("Samples must have same length");const s=n.length,l=[];for(let e=0;e<s;e++){const t=n[e]-i[e];0!==t&&l.push(t)}const d=l.map(e=>({val:Math.abs(e),sign:Math.sign(e)}));d.sort((e,t)=>e.val-t.val);const c=new Array(d.length).fill(0);for(let e=0;e<d.length;){let t=e+1;for(;t<d.length&&d[t].val===d[e].val;)t++;const a=(e+1+t)/2;for(let r=e;r<t;r++)c[r]=a;e=t}let u=0,m=0;for(let e=0;e<d.length;e++)d[e].sign>0?u+=c[e]:m+=c[e];const p=Math.min(u,m),h=l.length,f=(p-h*(h+1)/4)/Math.sqrt(h*(h+1)*(2*h+1)/24);return{W:p,p:2*(1-this.normalcdf({data:[Math.abs(f)]})[0])}}static shapiroWilk({params:e,args:t,data:a}={}){const r=a.slice().sort((e,t)=>e-t),o=r.length,n=this.mean({data:r});if(o<3)throw new Error("Sample size must be at least 3 for Shapiro-Wilk test.");o>50&&console.warn("Shapiro-Wilk approximation used here is optimized for n <= 50.");const i=r.reduce((e,t)=>e+Math.pow(t-n,2),0),s=(new Array(Math.floor(o/2)+1).fill(0),Math.floor(o/2),[.72557602,.17584045,.00918207,.0025545,-27135e-8,-469e-7]);let l=0;for(let e=0;e<6;e++)l+=s[e]*Math.pow(o,-e);const d=[];let c=0;for(let e=1;e<=o;e++){const t=(e-.375)/(o+.25),a=t<.5?t:1-t,r=Math.sqrt(-2*Math.log(a));let n=r-((.010328*r+.802853)*r+2.515517)/(((.001308*r+.189269)*r+1.432788)*r+1);t<.5&&(n=-n),d.push(n),c+=n*n}const u=d.map(e=>e/Math.sqrt(c));let m=0;for(let e=0;e<o;e++)m+=u[e]*r[e];return{W:m*m/i,p:"P-value calculation requires extensive tables. W statistic provided."}}static andersonDarling({params:e,args:t,data:a}={}){const r=a.slice().sort((e,t)=>e-t),o=r.length,n=this.mean({data:r}),i=this.stddev({data:r});let s=0;for(let e=0;e<o;e++){const t=e=>{const t=1/(1+.5*Math.abs(e)),a=1-t*Math.exp(-e*e-1.26551223+t*(1.00002368+t*(.37409196+t*(.09678418+t*(t*(.27886807+t*(t*(1.48851587+t*(.17087277*t-.82215223))-1.13520398))-.18628806)))));return e>=0?a:-a},a=.5*(1+t((r[e]-n)/i/Math.sqrt(2))),l=Math.max(1e-15,Math.min(1-1e-15,a)),d=Math.log(l),c=.5*(1+t((r[o-1-e]-n)/i/Math.sqrt(2))),u=Math.max(1e-15,Math.min(1-1e-15,c));s+=(2*(e+1)-1)*(d+Math.log(1-u))}let l=-o-1/o*s;const d=l*(1+.75/o+2.25/(o*o));let c;return c=d>=.6?Math.exp(1.2937-5.709*d+.0186*d*d):d>=.34?Math.exp(.9177-4.279*d-1.38*d*d):d>.2?1-Math.exp(42.796*d-8.318-59.938*d*d):1-Math.exp(101.14*d-13.436-223.73*d*d),{A2:l,A2_adj:d,p:c,significant:c<.05}}static autoCorrelation({params:e,args:t,data:a}={}){const r=Number(e.lag),o=this.preprocessData(a),n=o.length;if(0===n)return 0;const i=this.mean({data:o});let s=0,l=0;for(let e=0;e<n;e++)l+=Math.pow(o[e]-i,2),e<n-r&&(s+=(o[e]-i)*(o[e+r]-i));return 0===l?0:s/l}static partialAutoCorrelation({params:e,args:t,data:a}={}){const{lag:r}=e,o=[];for(let e=0;e<=r;e++)o.push(this.autoCorrelation({params:{lag:e},data:a}));const n=[];n[0]=[0],n[1]=[0,o[1]];for(let e=2;e<=r;e++){n[e]=[];let t=o[e],a=1;for(let r=1;r<e;r++)t-=n[e-1][r]*o[e-r],a-=n[e-1][r]*o[r];n[e][e]=t/a;for(let t=1;t<e;t++)n[e][t]=n[e-1][t]-n[e][e]*n[e-1][e-t]}return n[r][r]}static bootstrap({params:e,args:t,data:a}={}){const{iterations:r=1e3,statistic:o="mean",alpha:n=.05}=e,i=this.preprocessData(a),s=i.length,l=[];let d;d="string"==typeof o?e=>this[o]({data:e}):o;const c=d(i);for(let e=0;e<r;e++){const e=[];for(let t=0;t<s;t++){const t=Math.floor(Math.random()*s);e.push(i[t])}l.push(d(e))}const u=this.mean({data:l}),m=u-c,p=this.stddev({data:l});return l.sort((e,t)=>e-t),{originalStat:c,meanResampled:u,bias:m,stdError:p,ci:[l[Math.floor(n/2*r)],l[Math.floor((1-n/2)*r)]]}}static randomWalk({params:e,args:t,data:a}={}){const{steps:r=100,startValue:o=0,drift:n=0,volatility:i=1}=e,s=[o];for(let e=1;e<r;e++){this.runSimulation({params:{multiplier:1},data:[0]});const t=Math.random(),a=Math.random(),r=Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*a),o=s[e-1]+n+i*r;s.push(o)}return s}static errorMetrics({params:e,args:t,data:a}={}){const{observed:r,modeled:o}=a,n=this.preprocessData(r),i=this.preprocessData(o);if(n.length!==i.length)throw new Error("Arrays must have same length");const s=n.length;let l=0,d=0,c=0;for(let e=0;e<s;e++){const t=n[e]-i[e];l+=t*t,d+=Math.abs(t),0!==n[e]&&(c+=Math.abs(t/n[e]))}const u=l/s;return{MSE:u,RMSE:Math.sqrt(u),MAE:d/s,MAPE:c/s*100}}}class hydro{static arithmetic({params:e,args:t,data:a}={}){for(var r=a,o=[],n=[],i=r.length,s=0;s<r.length;s++)for(var l=0;l<r[0].length;l++)o.push(r[s][l]);for(var d=0;d<o.length;d=+i){var c=o.slice(d,d+i);n[d]=this.totalprec(c)/c.length;var u=n.filter(function(e){return null!=e})}return u}static spiCompute({params:e={},args:t={},data:a=[]}={}){const r=Number(e.scale||12),o=1e-6,n=a.length;if(n<r)return[];const i=n-r+1,s=new Array(i);for(let e=0;e<i;e++){let t=0;for(let o=0;o<r;o++){let r=a[e+o];r<0&&(r=0),t+=r}s[e]=t}const l=s.filter(e=>e>o);if(l.length<10)return s.map(()=>0);const d=stats.mean({data:l}),c=stats.mean({data:l.map(e=>Math.log(e))}),u=Math.log(d)-c,m=(1+Math.sqrt(1+4*u/3))/(4*u),p=d/m;return s.map(e=>{if(e>o){const t=stats.gammaCDFApprox({params:{alpha:m,beta:p},data:[e]});return function(e){const t=Math.sqrt(-2*Math.log(1-e));let a=t-(2.515517+.802853*t+.010328*t*t)/(1+1.432788*t+.189269*t*t+.001308*t*t*t);return e<.5?-a:a}(Math.max(Math.min(t,.999999),o))}return 0})}static thiessen({params:e,args:t,data:a}={}){const r=e.areas.map(e=>Number(e)),o=r.length,n=a.length;if(n<o){const e=Array(o-n).fill([]);a=[...a,...e]}if(r.some(isNaN))throw new Error("Invalid input: areas array contains non-numeric values");const i=this.totalprec({data:r}),s=Math.max(...a.map(e=>e.length)),l=a.map(e=>Array.from({length:s},(t,a)=>e[a]??0)),d=this.matrix({params:{m:l.length,n:r.length,d:0}}),c=Array.from({length:s},(e,t)=>0);for(let e=0;e<l.length;e++)for(let t=0;t<s;t++)d[e][t]=l[e][t]*r[e],c[t]=0!==i?c[t]+d[e][t]/i:c[t];return c}static syntheticalc({params:e,args:t,data:a}={}){var r,o,n,i=e.type,s=Number(t.l),l=Number(t.slope),d=e.unit,c=new Object;if("SCS"===i){var u=0,m=Number(t.cn);switch(d){case"si":u=1e3/m-10;break;case"m":u=25400/m-254;break;default:throw error("Please use a correct unit system!")}o=.7*(r=Math.pow(s,.8)*Math.pow(u+1,.7)/(1140*Math.pow(l,.5))),n=Math.pow(s,.8)*Math.pow(u+1,.7)/(1900*Math.pow(l,.5)),Object.assign(c,{MaxRetention:u,TimeConc:r,TimePeak:o,LagTime:n})}else if("kerby-kirpich"===i){var p=0,h=0,f=Number(t.N);switch(d){case"si":p=.0078,h=1.44;break;case"m":p=.0195,h=.828;break;default:throw error("Please use a correct unit system!")}o=.7*(r=h*(Math.pow(s*f),.467)*Math.pow(l/100,-.235)+p*Math.pow(s,.77)*Math.pow(l/100,-.385)/60),n=.6*r,Object.assign(c,{TimeConc:r,TimePeak:o,LagTime:n})}else if("kerby"===i){var g=Number(t.manning);switch(d){case"si":r=Math.pow(2.2*g*s/Math.pow(l/100,.5),.324)/60;break;case"m":r=1.4394*Math.pow(g*s/Math.pow(l/100,.5),.467)/60;break;default:throw error("Please use a correct unit system!")}o=.7*r,n=.6*r,Object.assign(c,{TimeConc:r,LagTime:n})}return c}static dimunithydro({params:e,args:t,data:a}={}){var r=Number(e.timeStep),o=Number(e.numhours),n=Math.round(o/r)+1,i=Array(n).fill(0),s=Array(n).fill(0),l=0;if("gamma"===t.type){switch(Number(t.prf)){case 101:l=.26;break;case 238:l=1;break;case 349:l=2;break;case 433:l=3;break;case 484:l=3.7;break;case 504:l=4;break;case 566:l=5;break;default:throw Error("Please choose value between 101,238,349,433,484,504,566.")}for(var d=1;d<i.length;d++)i[d]=Number((i[d-1]+r).toFixed(2)),s[d]=Number((Math.exp(l)*Math.pow(i[d],l)*Math.exp(-l*i[d])).toFixed(3));return[i,s]}if("lp3"===t.type){const e=Number(t.lambda),a=Number(t.tpeak);for(d=1;d<i.length;d++)i[d]=Number((i[d-1]+r).toFixed(2)),s[d]=Number(1/e*Math.pow(i[d]/a*1.5,e)*Math.exp(1.5*-Math.pow(i[d]/a,e))).toFixed(3);return[i,s]}if("weibull"===t.type){var c=Number(t.alpha),u=Number(t.beta),m=Number(t.t0),p=u/c*Math.exp(-Math.pow(m/c,u));for(d=1;d<i.length;d++)i[d]=Number((i[d-1]+r).toFixed(2)),s[d]=p*Math.exp(-Math.pow((i[d]-m)/c,u))*(Math.exp(u/c*i[d])-Math.exp(u/c*i[d-1]));return[i,s]}throw Error("Please use available distributions!")}static hyetogen({params:e,args:t,data:a}={}){const r=Number(e.duration);let o,n=[],i=Number(e.timestep);if(a){const e=Array.isArray(a)?a.flat(1/0):[a];e.reduce((e,t)=>e+t,0);for(let t=0;t<e.length;t++)n.push(e[t]/i)}else if(e.intensity){o=Number(e.intensity);const t=r/2,a=r/6,s=Math.round(r/i),l=e=>Math.exp(-Math.pow(e-t,2)/(2*Math.pow(a,2))),d=e=>e/l(t);i=r/s;for(let e=0;e<s;e++){const t=d(l(e*i))*o;n.push(t)}}return{hyetograph:n,timestep:i}}static unithydrocons({params:e,args:t,data:a}={}){var r=Number(e.drainagearea),o=a,n=this.matrix({params:{m:2,n:o[0].length,d:0}});if("dim"==e.type){var i=Number(t.peak),s=Number(t.tconcentration),l=Number((.133*s).toFixed(3))/2+.6*s,d=0;switch(e.units){case"si":case"m":d=i*r*1/l;break;default:alert("Please input a valid unit system!")}for(var c=0;c<n[0].length;c++)n[0][c]=Number((o[0][c]*l).toFixed(3)),n[1][c]=Number((o[1][c]*d).toFixed(3));return n}if("obs"==e.type){var u=Number(t.baseflow),m=this.matrix({params:{m:1,n:o[0].length,d:0}});n[0]=o[0];var p=60*Math.abs(n[0][1]-n[0][0])*60;console.log(n);for(var h=0;h<n[0].length;h++)m[h]=Math.abs(o[1][h]-u);var f=this.totalprec({data:m})*p,g=0;switch(e.units){case"si":g=Math.round(f/r*12);break;case"m":g=Math.round(f/r*100)}for(var y=0;y<n[0].length;y++)n[1][y]=Math.round(m[y]/g);return n[1].reverse(),{unithydro:n,totalvol:g}}}static floodhydro({params:e={},args:t={},data:a=[]}={}){const[r,o]=a;let{baseflow:n=0}=e;if(n=Number(n),"SCS"==t.type){const e=Number(t.cn),a=Number(t.stormduration),v=Number(t.timestep);var i=Math.round(a/v),s=i+o[0].length,l=0,d=this.matrix({params:{m:2,n:r[1].length,d:0}});d[0]=r[0];var c=this.matrix({params:{m:2,n:r[1].length,d:0}});c[0]=r[0];var u=this.matrix({params:{m:2,n:r[1].length,d:0}});u[0]=r[0];var m=this.matrix({params:{m:a,n:s,d:0}}),p=this.matrix({params:{m:2,n:s,d:0}});switch(t.units){case"si":l=1e3/e-10;break;case"m":l=25400/e-254;break;default:alert("Please use a correct unit system!")}var h=.2*l;r[1].slice().reduce((e,t,a)=>d[1][a]=e+t,0);for(var f=0;f<i;f++)d[1][f]>0?c[1][f]=Math.pow(d[1][f]-h,2)/(d[1][f]-h+l):c[1][f]=0,u[1][f]=Number((Math.abs(c[1][f]-c[1][f-1])||0).toFixed(3));for(var g=0;g<m[0].length;g++)m[0][g]=Number((u[1][g]*o[1][g]||0).toFixed(3)),p[0][g]=Number(p[0][g]+v);for(var y=1;y<m.length;y++)for(var b=0;b<m[0].length;b++)m[y][b+y]=Number(m[0][b].toFixed(3)),p[1][b]=Number(m[y][b].toFixed(3))+n;p[0].slice().reduce((e,t,a)=>p[0][a]=Number((e+t).toFixed(2),0));for(var w=0;w<p[1].length;w++)p[1][w]=p[1][w];return p[1].reverse(),p}if("obs"==t.type){m=[];var v=Math.abs(r[0][1]-r[0][0]);for(f=0;f<r[1].length;f++){var S=[];for(g=0;g<o[1].length-1;g++)S.push(o[1][g]*r[1][f]);m.push(S)}var x=this.matrix({params:{m:2,n:o[1].length+m.length,d:0}});for(b=0;b<m.length;b++)new Array(v*m.indexOf(m[b])).fill(0).forEach(e=>m[b].unshift(e)),m[b].shift();for(var _=0;_<m.length;_++){var D=m[m.length-1].length;new Array(D-m[_].length).fill(0).forEach(e=>m[_].push(e))}for(x[1]=m[0].map((e,t)=>m.reduce((e,a)=>e+a[t],n)),w=0;w<x[1].length;w++)x[0][w]=w;return x}}static bucketmodel({params:e,args:t,data:a}={}){const{rainfall:r,evaporation:o}=a;let{baseflow:n,infiltration:i}=e;n=Number(n),i=Number(i);let{agriculture:s,barerock:l,grassland:d,forest:c,urban:u}=t;s=Number(s||0),l=Number(l||0),d=Number(d||0),c=Number(c||0),u=Number(u||0);const m=r.length,p=[s,l,d,c,u];n/=86400;const h=[25,5,25,50,5],f=this.matrix({params:{m:p.length,n:m,d:0}}),g=this.matrix({params:{m:p.length,n:m,d:0}}),y=this.matrix({params:{m:p.length,n:m,d:0}}),b=this.matrix({params:{m:p.length,n:m,d:0}}),w=new Array(m).fill(0);for(let e=0;e<h.length;e++)f[e][0]=h[e]*p[e]+r[0]-o[0];for(let e=0;e<h.length;e++)f[e][0]>h[e]?(y[e][0]=f[e][0]-h[e],f[e][0]=h[e]):y[e][0]=0,f[e][0]>0?g[e][0]=f[e][0]*i:g[e][0]=0;for(let e=0;e<h.length;e++)for(let t=1;t<m;t++)f[e][t]=f[e][t-1]*(1-i)+r[t]-o[t],f[e][t]>h[e]?(y[e][t]=f[e][t]-h[e],f[e][t]=h[e]):y[e][t]=0,f[e][t]>0?g[e][t]=f[e][t]*i:g[e][t]=0;for(let e=0;e<h.length;e++)for(let t=0;t<m;t++)b[e][t]=y[e][t]+g[e][t]+n*p[e];for(var v=0;v<m;v++)w[v]=b[0][v]*p[0]+b[1][v]*p[1]+b[2][v]*p[2]+b[3][v]*p[3]+b[4][v]*p[4];return w}static staticGround1d({params:e,args:t,data:a}={}){const r=Number(e.length),o=Number(e.k),n=Number(e.nodes),i=Number(t.w0||0),s=Number(t.w1||0),l=(Number(t.hL||0),Number(t.q0||0)),d=Number(t.qL||0),c=r/(n-1);let u=this.matrix({params:{m:n,n,d:0}}),m=this.matrix({params:{m:1,n,d:0}}),p=this.matrix({params:{m:1,n,d:0}}),h=o/c;u[0][0]=h,u[0][1]=-h,p[0]=l;var f=n-1;u[f][f]=-h,u[f][f-1]=h,p[f]=d;for(var g=1;g<n-1;g++){var y=o/(c*c);u[g][g]=2*y,u[g][g-1]=-1*y,u[g][g+1]=-1*y,p[g]=i+s*g*c}for(this.equationsystemsolver({data:u,params:{left:m,right:p}}),p[0]=-o*(m[1]-m[0])/c,g=1;g<n-1;g++)p[g]=-o*(m[g+1]-m[g-1])/c*.5;return p[f]=-o*(m[f]-m[f-1])/c,m}static dynamicGround1D({params:e,args:t,data:a}={}){const{length:r,nodes:o,k:n}=e,{dt:i,T:s,h0:l,hL:d,q0:c,qL:u,phi:m,Ss:p,Sy:h}=t,f=r/(o-1),g=n/(m*p),y=h*g/i,b=n/f,w=this.matrix({params:{m:o,n:o,d:0}}),v=this.matrix({params:{m:1,n:o,d:0}}),S=this.matrix({params:{m:1,n:o,d:0}});w[0][0]=1,v[0]=l,w[o-1][o-1]=1,v[o-1]=d;const x=Math.round(s/i);for(let e=0;e<x;e++){for(let e=1;e<o-1;e++){const t=g/f**2,a=y/2,r=b/2,o=(v[e+1]-2*v[e]+v[e-1])*t,n=(h*v[e]+(1-h)*d+y*c-o)/y;w[e][e-1]=-r,w[e][e]=1/i+r+2*t,w[e][e+1]=-r,S[e]=v[e]/i+c*r+o+a*n}this.equationsystemsolver({data:w,params:{left:v,right:S}}),S[0]=c;for(let e=1;e<o-1;e++)S[e]=-n*(v[e+1]-v[e-1])/(2*f);S[o-1]=u}return v}static rainaggr({params:e,args:t,data:a}={}){const r=Array.isArray(a)&&"number"==typeof a[0],o=e.type,n=e.interval;let i;if(r)i=[a.map((e,t)=>t*n*60*1e3),a];else{i=this.matrix({params:{m:a.length,n:a[1].length,d:0}});const e="string"==typeof a[0][0];for(let t=0;t<a[0].length;t++)i[0][t]=e?Date.parse(a[0][t]):a[0][t];for(let e=1;e<a.length;e++)i[e]=a[e]}if("aggr"===o){const e=i[0],t=i[1],a=Math.abs(e[1]-e[0])/6e4,r=Math.round(n/a),o=Math.floor(e.length/r),s=[],l=[];for(let a=0;a<o;a++){const o=a*r,n=o+r,i=e.slice(o,n),d=t.slice(o,n),c=new Date(i[0]).toISOString(),u=this.totalprec({data:d});s.push(c),l.push(u)}return[s,l]}if("disagg"===o){const t=e.method||"uniform",a=e.factor||2,r=i[0],o=i[1],n=[],s=[],l=(e,t,a)=>{const r=t/a;return Array.from({length:a},(t,a)=>new Date(e+a*r).toISOString())},d=(e,t,a)=>{switch(t){case"uniform":return Array(a).fill(e/a);case"normal":{const t=a/2,r=a/6,o=Array.from({length:a},(e,a)=>Math.exp(-.5*Math.pow((a-t)/r,2))),n=o.reduce((e,t)=>e+t,0);return o.map(t=>t/n*e)}case"exponential":{const t=1,r=Array.from({length:a},()=>-Math.log(Math.random())/t),o=r.reduce((e,t)=>e+t,0);return r.map(t=>t/o*e)}case"huff":{const t=[.06,.1,.14,.2,.17,.13,.1,.07,.02,.01],a=Math.min(a,t.length),r=t.slice(0,a),o=r.reduce((e,t)=>e+t,0);return r.map(t=>t/o*e)}case"gumbel":{const t=1,r=0,o=Array.from({length:a},(e,t)=>t+1).map(e=>Math.exp(-Math.exp(-(e-r)/t))),n=o.reduce((e,t)=>e+t,0);return o.map(t=>t/n*e)}default:throw new Error("Unknown disaggregation method: "+t)}};for(let e=0;e<o.length;e++){const i="string"==typeof r[e]?Date.parse(r[e]):r[e],c=l(i,e<r.length-1?Date.parse(r[e+1])-i:r[e]-r[e-1],a),u=d(o[e],t,a);n.push(...c),s.push(...u)}return[n,s]}throw new Error("Invalid aggregation type specified")}static ETPenmanMontheith({params:e,args:t,data:a}={}){const{netRadiation:r,temperature:o,windSpeed:n,saturationVaporPressure:i,actualVaporPressure:s,airPressure:l,psychrometricConstant:d}=e;if(!(o&&r&&n&&i&&s&&l&&d))throw new Error("Missing required parameters: temperature, netRadiation, windSpeed, saturationVaporPressure, actualVaporPressure, airPressure, psychrometricConstant.");const c=[];for(let e=0;e<o.length;e++){const t=(.408*r[e]+56.7*(o[e]+273)*n[e]*(i[e]-s[e]))/(lambda*(.408*(r[e]-0)+rho*(900/(o[e]+273))*n[e]*(i[e]-s[e])))*1e3;c.push(t)}return c}static ETHargreaves({params:e,args:t,data:a}={}){const{latitude:r}=e,{temperature:o,temperatureMax:n,temperatureMin:i,date:s}=a;if(!(o&&n&&i&&s))throw new Error("Missing required parameters: temperature, temperatureMax, temperatureMin, date.");const l=[];for(let e=0;e<o.length;e++){const t=getJulianDay(s[e]),a=4.903*Math.pow(10,-9),d=1+.033*Math.cos(2*Math.PI/365*t),c=.409*Math.sin(2*Math.PI/365*t-1.39),u=n[e]+273,m=i[e]+273,p=1440/Math.PI*a*d*(u+m)*(Math.sin(r*Math.PI/180)*Math.sin(c)+Math.cos(r*Math.PI/180)*Math.cos(c)*Math.sin(0))*.16,h=.0023*(o[e]+17.8)*Math.sqrt(n[e]-i[e])*p;l.push(h)}return l}static ETThornthwaite({params:e,args:t,data:a}={}){const{latitude:r}=e,{temperature:o,monthDays:n}=a;if(!o||!n)throw new Error("Missing required data: temperature, monthDays.");if(!Array.isArray(o)||!Array.isArray(n))throw new Error("Invalid data format. Expected temperature and monthDays to be arrays.");if(o.length!==n.length)throw new Error("Temperature and monthDays arrays must have the same length.");return o.map(e=>{const t=(e/5)**1.514;return t>0?t:0}).map((e,t)=>{const a=n[t];return r/5*.6*Math.pow(10,.514*e)*a})}static ETBlaneyCriddle({params:e,args:t,data:a}={}){const{temperature:r,monthDays:o}=a;if(!r||!o)throw new Error("Missing required data: temperature, monthDays.");if(!Array.isArray(r)||!Array.isArray(o))throw new Error("Invalid data format. Expected temperature and monthDays to be arrays.");if(r.length!==o.length)throw new Error("Temperature and monthDays arrays must have the same length.");return r.map((e,t)=>.02*(e+17.8)*o[t])}static ETPriestelyTaylor({params:e,args:t,data:a}={}){const{netRadiation:r,latentHeatFlux:o}=e;return r/o*1.26}static InfGreenAmpt({params:e,args:t,data:a}={}){const{Ks:r,psi:o,theta_i:n,theta_s:i,t:s}=e;if("number"!=typeof r||"number"!=typeof o||"number"!=typeof n||"number"!=typeof i||"number"!=typeof s)throw new Error("Invalid data inputs. Expected numbers for Ks, psi, theta_i, theta_s, and t.");return(i-(i-(i-n)*Math.exp(-r*s/(o*i))))/s}static InfHorton({params:e,args:t,data:a}={}){const{Ks:r,fc:o,t:n}=e;if("number"!=typeof r||"number"!=typeof o||"number"!=typeof n)throw new Error("Invalid data inputs. Expected numbers for Ks, fc, and t.");return r*Math.pow(1-o/r,n)}static InfPhilip({params:e,args:t,data:a}={}){const{K:r,S:o,t:n}=e;if("number"!=typeof r||"number"!=typeof o||"number"!=typeof n)throw new Error("Invalid data inputs. Expected numbers for K, S, and t.");return r*n/(o+Math.sqrt(o*n))}static InfSmithParlange({params:e}={}){const{K:t,t:a}=e;if("number"!=typeof t||"number"!=typeof a||a<0)throw new Error("Invalid input parameters. Expected positive numbers for K and t.");return t*Math.sqrt(a)}static InfKostiakov({params:e}={}){const{K:t,C:a,t:r}=e;if("number"!=typeof t||"number"!=typeof a||"number"!=typeof r||r<0)throw new Error("Invalid input parameters. Expected positive numbers for K, C, and t.");return t/Math.pow(r,a)}static muskingumCunge({params:e,args:t,data:a}={}){const{K:r,X:o,Dt:n}=e,{inflow:i,initialStorage:s}=a,l=[];let d=s;const c=(e,t,a,r)=>{if(r[a])return r[a];const o=e*t[a];return r[a]=o,o},u=(e,t,a,r,o,n,i)=>{if(i[n])return i[n];const s=e*(a[n]+t*(o-a[n])+t*(r-o));return i[n]=s,s},m={};for(let e=0;e<i.length;e++){const t=d,a=c(r,i,e,m),s=u(r,o,i,t,a,e,m);d=t+(a-s)*n,l.push(s)}return l}static lagAndRoute({params:e,args:t,data:a}={}){const{lagTime:r,routingCoefficients:o}=e,{inflow:n}=a,s=[],l=new Array(o.length).fill(0);for(let e=0;e<n.length;e++){let t=0;for(let a=0;a<o.length;a++){const r=e-a;r>=0&&(t+=o[a]*n[r])}const a=t/(1+r);s.push(a);for(let e=l.length-1;e>=1;e--)l[e]=l[e-1];l[0]=n[e]-a}for(let e=o.length-1;e>=1;e--)l[e]=l[e-1]+o[e-1]*n[i-e];return s}static timeAreaMethod({params:e,args:t,data:a}={}){const{intervals:r}=e,{inflow:o,areas:n}=a;if(o.length!==n.length)throw new Error("Inflow and areas arrays must have the same length");const i=[];let s=0;for(let e=0;e<o.length;e++){const t=r[e],a=n[e],l=s+o[e]*t*a;i.push(l),s=l}return i}static detectPrecipEvents({params:e={},args:t={},data:a}={}){const r=t.threshold??10,o=t.dryGap??2,n=t.responseWindow??5,i=e=>Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&"string"==typeof e[0][0],s=e=>Array.from({length:e},(e,t)=>`day${t}`);let l,d,c=[],u=[];if(Array.isArray(a)&&"number"==typeof a[0])l=a,d=s(a.length);else{if(!Array.isArray(a)||!Array.isArray(a[0]))throw new Error("Unsupported data format.");{const e=a[0];if(i(e))[d,l]=e;else{if("number"!=typeof e[0])throw new Error("Unsupported precipitation input format.");l=e,d=s(e.length)}if(a.length>1){const e=a[1];if(i(e))[u,c]=e;else{if("number"!=typeof e[0])throw new Error("Unsupported streamflow input format.");c=e,u=s(e.length)}}}}const m=[];let p=0;for(;p<l.length;)if(l[p]>=r){let e=p+1,t=0;for(;e<l.length;){if(l[e]<r){if(t++,t>=o)break}else t=0;e++}const a=p,i=e-t,s={startIndex:a,endIndex:i,startDate:d[a],endDate:d[i],precip:l.slice(a,i+1)};c.length&&(s.streamflowWindow=c.slice(a,a+n),s.streamflowDates=u.slice(a,a+n)),m.push(s),p=i+o}else p++;return m}static analyzeCollectionofEvents({params:e={},args:t={},data:a=[]}={}){const{eventStart:r,eventEnd:o,baseflowThreshold:n=0}=t,i=e=>new Date(e),s=e=>e/864e5,l=i(r),d=i(o),c=([e,t])=>e.map((e,a)=>{const r=i(e);return r>=l&&r<=d?{date:r,value:t[a]}:null}).filter(e=>null!==e),u=c(a[0]),m=c(a[1]),p=u.reduce((e,t)=>e+t.value,0),h=u.reduce((e,t)=>e+t.date.getTime()*t.value,0),f=new Date(h/p);let g={value:-1/0,date:null};for(let e of m)e.value>g.value&&(g={value:e.value,date:e.date});const y=s(g.date-f),b=m.reduce((e,t)=>e+Math.max(0,t.value-n),0),w=p>0?b/p:null,v=m.filter(e=>e.date>g.date);let S=null;for(let e of v)if(e.value<=1.05*n){S=e.date;break}return{lagTimeDays:y,runoffRatio:w,recessionDurationDays:S?s(S-g.date):null,peakFlowDate:g.date.toISOString(),precipCenterMassDate:f.toISOString()}}static analyzeEvent({params:e={},args:t={},data:a=[]}={}){let{baseflowThreshold:r=null,streamTimes:o=[],bufferDays:n=10,estimateBaseflow:i=!0}=t;const[s,l]=a,d=e=>new Date(e),c=e=>e/864e5;if(null==r&&i){const e=[...l].sort((e,t)=>e-t);r=e[Math.floor(.1*e.length)],console.log("Estimated baseflowThreshold (10th percentile):",r)}const u=[];for(const e of s){const{startIndex:t,endIndex:a,precip:i}=e;if(null==t||null==a||!Array.isArray(i))continue;const s=Array.from({length:i.length},(e,a)=>new Date(Date.UTC(2e3,0,1+t+a))),m=Math.min(l.length-1,a+n),p=l.slice(t,m+1),h=o.length?o.slice(t,m+1).map(d):Array.from({length:p.length},(e,a)=>new Date(Date.UTC(2e3,0,1+t+a))),f=i.reduce((e,t)=>e+t,0),g=i.reduce((e,t,a)=>e+s[a].getTime()*t,0),y=f>0?new Date(g/f):null;let b={value:-1/0,date:null,index:null};for(let e=0;e<p.length;e++)p[e]>b.value&&(b={value:p[e],date:h[e],index:e});const w=y&&b.date?c(b.date-y):null,v=p.reduce((e,t)=>e+Math.max(0,t-r),0),S=f>0?v/f:null,x=h.map((e,t)=>({date:e,value:p[t]})).filter((e,t)=>t>b.index);let _=null;for(let e of x)if(e.value<=1.05*r){_=e.date;break}!_&&x.length>0&&(_=x[x.length-1].date);const D=_?c(_-b.date):null;u.push({lagTimeDays:w,runoffRatio:S,recessionDurationDays:D,peakFlowDate:b.date?.toISOString()??null,precipCenterMassDate:y?.toISOString()??null,maxPrecip:Math.max(...i)})}const m=e=>{const t=u.map(t=>t[e]).filter(e=>"number"==typeof e);return t.length?{avg:t.reduce((e,t)=>e+t,0)/t.length,min:Math.min(...t),max:Math.max(...t)}:{avg:null,min:null,max:null}},p={lagTimeDays:m("lagTimeDays"),runoffRatio:m("runoffRatio"),recessionDurationDays:m("recessionDurationDays"),totalEvents:u.length};return{results:u,averages:p}}static kinematicWaveRouting({params:e,args:t,data:a}={}){const{C:r,L:o,dt:n,initialDepth:i}=e,{inflow:s}=a,l=[];let d=i;for(let e=0;e<s.length;e++){const t=s[e]/n,a=Math.min(t,r*Math.sqrt(d/o)),i=a*n;d+=(t-a)*n,l.push(i)}return l}static darcysLaw({params:e,args:t,data:a}={}){const{aquiferType:r,hydraulicConductivity:o,porosity:n=0}=e,{hydraulicGradients:i=[],aquiferThickness:s}=a,l=[];for(let t=0;t<i.length;t++){let a;if("confined"===r)a=o*s[t]*i[t];else if("unconfined"===r)a=o*i[t]*s[t]*n;else{if("dynamic"!==r)throw new Error("Invalid aquifer type.");{const{storageCoefficient:r,changeInAquiferThickness:n}=e;a=o*i[t]*s[t]+r*n[t]}}l.push(a)}return l}static dissolvedOxygenDemand({params:e,args:t,data:a}={}){const{temperature:r,biochemicalOxygenDemand:o}=e,{salinity:n,organicMatter:i}=a;return 1.5*o*(1+.02*r-.03*n)*i}static inverseDistanceWeighting({params:e,args:t,data:a}={}){const{totalRainfall:r,basinAreas:o,distances:n}=e;if("number"!=typeof r)throw new Error("Invalid data input. Expected totalRainfall to be a number.");if(!Array.isArray(o)||!Array.isArray(n))throw new Error("Invalid data input. Expected basinAreas and distances to be arrays.");const i=o.length;n&&Array.isArray(n)&&n.length===i||(n=new Array(i).fill(1));const s=n.reduce((e,t)=>e+1/t,0),l=n.map(e=>1/e/s);return o.map((e,t)=>l[t]*r)}static stochasticRainfallGeneration({params:e,args:t,data:a}={}){if(!a||!Array.isArray(a))throw new Error("Invalid data input. observedRainfall must be provided as an array.");const r=a,o=r.length,n=void 0!==e?e.distributionType:"normal",i=stats_namespaceObject.mean({data:r}),s=stats_namespaceObject.stddev({data:r}),l=[];for(let e=0;e<o;e++){const e=this.generateSyntheticValue(i,s,n);l.push(e)}return l}static calibratePH({params:e,args:t,data:a}={}){if(!e.calibration_values||"object"!=typeof e.calibration_values)throw new Error("Invalid data input. Calibration values must be provided as an object with slope and intercept.");if(!Array.isArray(a))throw new Error("Invalid data input. Sensor readings must be provided as an array.");const{slope:r,intercept:o}=e.calibration_values,n=[];for(const e of a){if("number"!=typeof e)throw new Error("Invalid data input. Sensor readings must be numbers.");const t=e*r+o;n.push(t)}return n}static calculateDOSaturation({params:e,args:t,data:a}={}){const{HenryConstant:r,atmosphericPressure:o}=e,n=[],{sensor_reading:i,temperature:s}=a;if(!Array.isArray(i)||!Array.isArray(s)||i.length!==s.length)throw new Error("sensor_reading and temperature should be arrays of the same length.");for(let e=0;e<i.length;e++){const t=i[e]/(r*Math.exp(-r*o*s[e]));n.push(t)}return n}static compensate_ec({params:e,args:t,data:a}){const{compensation_factor:r}=e,o=[],{sensor_reading:n,temperature:i}=a;if(!Array.isArray(n)||!Array.isArray(i)||n.length!==i.length)throw new Error("sensor_reading and temperature should be arrays of the same length.");for(let e=0;e<n.length;e++){const t=n[e]/(1+r*(i[e]-25));o.push(t)}return o}static convertTurbidity({params:e,args:t,data:a}={}){const{from_unit:r,to_unit:o}=e,{sensor_reading:n}=a,i={NTU:{FTU:.98,FNU:1},FTU:{NTU:1.02,FNU:1.04},FNU:{NTU:1,FTU:.96}};if(!i[r]||!i[r][o])throw new Error("Invalid turbidity unit conversion");return n*i[r][o]}static calculate_tds({params:e,args:t,data:a}={}){const{conductivity_factor:r}=e,o=[],{sensor_reading:n,temperature:i}=a;if(!Array.isArray(n)||!Array.isArray(i)||n.length!==i.length)throw new Error("sensor_reading and temperature should be arrays of the same length.");for(let e=0;e<n.length;e++){const t=n[e]*r*i[e];o.push(t)}return o}static calculate_tss({params:e,args:t,data:a}={}){const{conversionFactor:r}=e;return(Array.isArray(a)?a:[a]).map(e=>e*r)}static compensateORP({params:e,args:t,data:a}={}){const{sensor_reading:r,temperature:o}=a,n=[];if(!Array.isArray(r)||!Array.isArray(o)||r.length!==o.length)throw new Error("sensor_reading and temperature should be arrays of the same length.");for(let e=0;e<r.length;e++){const t=r[e]+.02*(o[e]-25);n.push(t)}return n}static calculatePrecipitationMinMax({params:e,args:t,data:a}){if(!Array.isArray(a))throw new Error("Data must be an array of precipitation values.");if(0===a.length)throw new Error("Data array must not be empty.");let r=a[0],o=a[0];for(let e=1;e<a.length;e++)a[e]>r&&(r=a[e]),a[e]<o&&(o=a[e]);return{max:r,min:o}}static precipitationFrequencyAnalysis({params:e,args:t,data:a}){if(!a||!Array.isArray(a))throw new Error("Invalid input data. Expected precipitationData as an array in data.");const{timeDuration:r}=e,o=a;if(0===o.length)throw new Error("Precipitation data array must not be empty.");const n={},i=o.length;for(const e of o)n[e]=(n[e]||0)+1;return Object.keys(n).map(e=>({intensity:Number(e),probability:n[e]/i}))}static rainfallIntensityDurationFrequency({params:e,args:t,data:a}){if(!a||"object"!=typeof a||!Array.isArray(a.precipitationData))throw new Error("Invalid input data. Expected an object with precipitationData (array).");const{precipitationData:r}=a;if(0===r.length)throw new Error("Precipitation data array must not be empty.");return[{intensity:5,duration:5,frequency:.1},{intensity:5,duration:10,frequency:.2},{intensity:5,duration:15,frequency:.1},{intensity:8,duration:5,frequency:.1},{intensity:8,duration:10,frequency:.2},{intensity:8,duration:15,frequency:.1},{intensity:10,duration:5,frequency:.2},{intensity:10,duration:10,frequency:.3},{intensity:10,duration:15,frequency:.1}]}static rainfallThresholdAnalysis({params:e,args:t,data:a}){const{threshold:r}=e,{rainfallData:o}=a;if(!o||!Array.isArray(o)||"number"!=typeof r)throw new Error("Invalid input. Expected data.rainfallData (array) and params.threshold (number).");if(0===o.length)throw new Error("Rainfall data array must not be empty.");return[{duration:1,frequency:.3},{duration:2,frequency:.1},{duration:3,frequency:.05}]}static rainfallErosivityIndex({params:e,args:t,data:a}){if(!a||"object"!=typeof a||!Array.isArray(a.intensity)||!Array.isArray(a.duration))throw new Error("Invalid input data. Expected an object with intensity (array) and duration (array).");const{intensity:r,duration:o}=a;if(r.length!==o.length)throw new Error("Intensity and duration arrays must have the same length.");if(0===r.length)throw new Error("Intensity array must not be empty.");let n=0;for(let e=0;e<r.length;e++)n+=r[e]*(o[e]/60);return n}static rainfallInterceptionModel({params:e,data:t}={}){if(!e||"number"!=typeof e.totalRainfall||"number"!=typeof e.canopyStorageCapacity||"number"!=typeof e.interceptionCoefficient)throw new Error("Invalid input params. Expected totalRainfall, canopyStorageCapacity, and interceptionCoefficient.");const{totalRainfall:a,canopyStorageCapacity:r,interceptionCoefficient:o}=e;if(a<0||r<0||o<0||o>1)throw new Error("Invalid input values.");return Math.min(a,r*o)}static totalprec({params:e,args:t,data:a}={}){const r=Array.isArray(a)?a.flat(1/0):[a];for(var o=0,n=r.length;--n>=0;)o+=r[n];return o}static move({params:e,args:t,data:a}={}){var r=e.from,o=e.to;if(o===r)return a;for(var n=a[r],i=o<r?-1:1,s=r;s!=o;s+=i)a[s]=a[s+i];return a[o]=n,a}static matrix({params:e,args:t,data:a}={}){return void 0===e.d?Array(e.m).map(()=>Array(e.n)):Array(e.m).fill(e.d).map(()=>Array(e.n).fill(e.d))}static equationsystemsolver({params:e,args:t,data:a}={}){var r,o,n=a,i=e.left,s=e.right,l=i.length;for(let e=0;e<l;e++){r=Math.abs(n[e][e]);for(var d=e,c=e+1;c<l;c++)Math.abs(r)<Math.abs(n[c][e])&&(r=n[c][e],d=c);if(d!=e){for(c=e;c<l;c++)o=n[e][c],n[e][c]=n[d][c],n[d][c]=o;o=s[e],s[e]=s[d],s[d]=o}Math.abs(n[e][e])<1e-10&&console.log("Singular matrix"+e+" "+n[e][e]);for(var u=e+1;u<l;u++){for(o=-n[u][e]/n[e][e],c=e;c<l;c++)n[u][c]=n[u][c]+o*n[e][c];s[u]=s[u]+o*s[e]}}for(var m=l-1;m>=0;m--){for(i[m]=s[m],c=m+1;c<l;c++)i[m]-=n[m][c]*i[c];i[m]=i[m]/n[m][m]}}static calculatepH({params:e,args:t,data:a}={}){const{hConcentration:r}=e;return-Math.log10(r)}static generateSyntheticValue({params:e,args:t,data:a}={}){const{mean:r,stdDev:o,distributionType:n}=e;let i;switch(n){case"normal":i=r+o*(Math.sqrt(-2*Math.log(Math.random()))*Math.cos(2*Math.PI*Math.random()));break;case"binomial":i=stats_namespaceObject.binomialDist({params:e,args:t,data:a});break;case"multinomial":i=stats_namespaceObject.multinomialDistribution({params:e,args:t,data:a}).samples;break;default:throw new Error("Invalid distribution type. Supported types: normal, binomial, multinomial")}return i}static convertTemperature({params:e,args:t,data:a}={}){const{sensor_reading:r,from_unit:o,to_unit:n}=e;let i=0;return"Celsius"===o&&"Fahrenheit"===n?i=9*r/5+32:"Fahrenheit"===o&&"Celsius"===n?i=5*(r-32)/9:"Celsius"===o&&"Kelvin"===n?i=r+273.15:"Kelvin"===o&&"Celsius"===n?i=r-273.15:"Fahrenheit"===o&&"Kelvin"===n?i=5*(r+459.67)/9:"Kelvin"===o&&"Fahrenheit"===n?i=9*r/5-459.67:console.log("Unsupported unit conversion"),i}static getJulianDay({params:e,args:t,data:a}={}){const r=e.date;let o;if("string"==typeof r)o=new Date(r);else{if(!(r instanceof Date))throw new Error("Invalid date format. Expected a string or a Date object.");o=r}const n=o.getFullYear(),i=o.getMonth()+1,s=o.getDate(),l=Math.floor((14-i)/12),d=n+4800-l,c=i+12*l-1;return s+Math.floor((153*c+2)/5)+365*d+Math.floor(d/4)-Math.floor(d/100)+Math.floor(d/400)-32045}}class nn{static worker=null;static pending=new Map;static msgId=0;static{if("undefined"!=typeof window&&"undefined"!=typeof Worker){const e=new Blob(['\nimportScripts("https://cdnjs.cloudflare.com/ajax/libs/tensorflow/3.10.0/tf.min.js");\n\n/**\n * Fat Worker for Neural Network operations.\n * Holds all model instances and performs all heavy computation.\n */\n\nconst modelRegistry = new Map();\n\nself.onmessage = async function (e) {\n    const { id, action, payload } = e.data;\n\n    try {\n        let result;\n        switch (action) {\n            case "CREATE":\n                result = await createModel(payload);\n                break;\n            case "TRAIN":\n                result = await trainModel(payload);\n                break;\n            case "PREDICT":\n                result = await predictModel(payload);\n                break;\n            case "SAVE":\n                result = await saveModel(payload);\n                break;\n            case "LOAD":\n                result = await loadModel(payload);\n                break;\n            case "DISPOSE":\n                result = disposeModel(payload);\n                break;\n            default:\n                throw new Error(`Unknown action: ${action}`);\n        }\n\n        // Send success response\n        self.postMessage({ id, status: "SUCCESS", payload: result });\n\n    } catch (error) {\n        self.postMessage({ id, status: "ERROR", payload: error.message });\n    }\n};\n\n// --- Model Creation ---\n\nasync function createModel({ modelId, type, config }) {\n    let model;\n    switch (type.toLowerCase()) {\n        case "cnn":\n            model = createCNN(config);\n            break;\n        case "lstm":\n            model = createLSTM(config);\n            break;\n        case "transformer":\n            model = createTransformer(config);\n            break;\n        case "segmentation":\n            model = createSegmentationModel(config);\n            break;\n        case "dense":\n        default:\n            model = createDense(config);\n            break;\n    }\n\n    modelRegistry.set(modelId, model);\n    return { modelId, type, status: "CREATED" };\n}\n\nfunction createDense(config) {\n    const model = tf.sequential();\n    model.add(tf.layers.dense({\n        inputShape: [config.inputs],\n        units: config.inputs,\n        activation: config.activation || \'relu\'\n    }));\n    model.add(tf.layers.dense({\n        units: config.neurons,\n        activation: config.activation || \'relu\'\n    }));\n    model.add(tf.layers.dense({\n        units: config.outputs,\n        activation: config.outputActivation || \'linear\' // Default to linear for regression\n    }));\n    return model;\n}\n\nfunction createCNN(config) {\n    const model = tf.sequential();\n    model.add(tf.layers.conv2d({\n        inputShape: config.inputShape,\n        kernelSize: config.kernelSize || 3,\n        filters: config.filters || 16,\n        activation: \'relu\'\n    }));\n    model.add(tf.layers.maxPooling2d({ poolSize: [2, 2] }));\n    model.add(tf.layers.flatten());\n    model.add(tf.layers.dense({ units: config.classes || 1, activation: \'softmax\' }));\n    return model;\n}\n\nfunction createSegmentationModel(config) {\n    const model = tf.sequential();\n\n    // Encoder\n    model.add(tf.layers.conv2d({\n        inputShape: config.inputShape, // [height, width, channels]\n        filters: 16,\n        kernelSize: 3,\n        padding: \'same\',\n        activation: \'relu\'\n    }));\n    model.add(tf.layers.conv2d({\n        filters: 32,\n        kernelSize: 3,\n        padding: \'same\',\n        activation: \'relu\'\n    }));\n\n    // Decoder / Output\n    model.add(tf.layers.conv2d({\n        filters: config.classes || 2,\n        kernelSize: 1,\n        padding: \'same\',\n        activation: \'softmax\' // Pixel-wise classification\n    }));\n\n    return model;\n}\n\nfunction createLSTM(config) {\n    const model = tf.sequential();\n    model.add(tf.layers.lstm({\n        units: config.units || 50,\n        inputShape: [config.timeSteps, config.features],\n        returnSequences: false\n    }));\n    model.add(tf.layers.dense({ units: config.outputs || 1 }));\n    return model;\n}\n\nfunction createTransformer(config) {\n    const input = tf.input({ shape: [config.timeSteps, config.features] });\n    const d_model = config.d_model || 64;\n    let x = tf.layers.conv1d({ filters: d_model, kernelSize: 1, padding: \'same\', activation: \'linear\' }).apply(input);\n    const query = tf.layers.dense({ units: d_model }).apply(x);\n    const key = tf.layers.dense({ units: d_model }).apply(x);\n    const value = tf.layers.dense({ units: d_model }).apply(x);\n    x = tf.layers.dense({ units: d_model * 2, activation: \'relu\' }).apply(x);\n    x = tf.layers.dense({ units: d_model }).apply(x);\n    x = tf.layers.globalAveragePooling1d().apply(x);\n    const output = tf.layers.dense({ units: config.outputs || 1 }).apply(x);\n    const model = tf.model({ inputs: input, outputs: output });\n    return model;\n}\n\n// --- Training ---\n\nasync function trainModel({ modelId, data, config }) {\n    const model = modelRegistry.get(modelId);\n    if (!model) throw new Error(`Model ${modelId} not found`);\n\n    const xs = tf.tensor(data.inputs, data.inputShape);\n    const ys = tf.tensor(data.outputs, data.outputShape);\n\n    const { epochs, batchSize, validationSplit } = config;\n\n    model.compile({\n        optimizer: config.optimizer || "adam",\n        loss: config.loss || "meanSquaredError",\n        metrics: config.metrics || ["mse"],\n    });\n\n    await model.fit(xs, ys, {\n        epochs: epochs || 50,\n        batchSize: batchSize || 32,\n        validationSplit: validationSplit || 0.1,\n        callbacks: {\n            onEpochEnd: (epoch, logs) => {\n                self.postMessage({\n                    action: "EPOCH_END",\n                    payload: { modelId, epoch, logs },\n                });\n            },\n        },\n    });\n\n    xs.dispose();\n    ys.dispose();\n\n    return { modelId, status: "TRAINED" };\n}\n\n// --- Prediction ---\n\nasync function predictModel({ modelId, inputs, inputShape }) {\n    const model = modelRegistry.get(modelId);\n    if (!model) throw new Error(`Model ${modelId} not found`);\n\n    const xs = tf.tensor(inputs, inputShape);\n    const prediction = model.predict(xs);\n    const result = await prediction.array();\n\n    xs.dispose();\n    prediction.dispose();\n\n    return result;\n}\n\n// --- Utilities ---\n\nasync function saveModel({ modelId, name }) {\n    const model = modelRegistry.get(modelId);\n    if (!model) throw new Error(`Model ${modelId} not found`);\n    await model.save(`downloads://${name}`);\n    return { status: "SAVED", name };\n}\n\nasync function loadModel({ modelId, url }) {\n    const model = await tf.loadLayersModel(url);\n    modelRegistry.set(modelId, model);\n    return { modelId, status: "LOADED" };\n}\n\nfunction disposeModel({ modelId }) {\n    const model = modelRegistry.get(modelId);\n    if (model) {\n        model.dispose();\n        modelRegistry.delete(modelId);\n    }\n    return { status: "DISPOSED" };\n}\n      '],{type:"application/javascript"});this.worker=new Worker(URL.createObjectURL(e))}}static{this.worker&&(this.worker.onmessage=e=>{const{id:t,status:a,payload:r,action:o}=e.data;if("EPOCH_END"!==o){if(this.pending.has(t)){const{resolve:e,reject:o}=this.pending.get(t);this.pending.delete(t),"SUCCESS"===a?e(r):o(new Error(r))}}else console.log(`[Training] Epoch ${r.epoch}: loss = ${r.logs.loss}`)})}static _send(e,t){const a=this.msgId++;return new Promise((r,o)=>{this.pending.set(a,{resolve:r,reject:o}),this.worker.postMessage({id:a,action:e,payload:t})})}static async createModel({params:e={},args:t={},data:a}={}){const r=`model_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,o=e.type||"dense",n=t;return await this._send("CREATE",{modelId:r,type:o,config:n}),new ModelProxy(r,n)}static async loadModel({params:e={},args:t,data:a}={}){const r=`model_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,o=e.url;if(!o)throw new Error("URL is required to load a model.");return await this._send("LOAD",{modelId:r,url:o}),new ModelProxy(r,{})}}class ModelProxy{constructor(e,t={}){this.id=e,this.config=t}preprocess({params:e={},data:t}={}){const a=e.inputWindow||this.config.timeSteps||1,r=e.outputWindow||1,o=t;if(!Array.isArray(o))throw new Error("Data must be a 1D array.");const n=[],i=[];for(let e=0;e<=o.length-a-r;e++){const t=o.slice(e,e+a).map(e=>[e]),s=o.slice(e+a,e+a+r);n.push(t),i.push(s)}return[n,i]}async train({params:e={},args:t,data:a}={}){let r,o;if(Array.isArray(a)&&2===a.length)r=a[0],o=a[1];else if("object"==typeof a&&a.inputs&&a.outputs)r=a.inputs,o=a.outputs;else if("string"==typeof a){const e=globalThis.hydro?.cache;if(e){const t=await e.get(a);t&&(r=t.data.inputs,o=t.data.outputs)}}if(!r||!o)throw new Error("Invalid data format. Provide [inputs, outputs] or {inputs, outputs}.");return nn._send("TRAIN",{modelId:this.id,data:{inputs:r,outputs:o},config:e})}async predict({params:e={},args:t,data:a}={}){let r=a,o=e.inputShape;return Array.isArray(a)&&!Array.isArray(a[0])&&this.config.timeSteps&&a.length===this.config.timeSteps&&(r=[a.map(e=>[e])]),nn._send("PREDICT",{modelId:this.id,inputs:r,inputShape:o})}async save({params:e={},args:t,data:a}={}){return nn._send("SAVE",{modelId:this.id,name:e.name||"model"})}dispose({params:e,args:t,data:a}={}){nn._send("DISPOSE",{modelId:this.id})}}class geoprocessor{static async _ensureGeoTIFF(){if(void 0!==globalThis.GeoTIFF)return globalThis.GeoTIFF;try{console.log("Loading GeoTIFF from CDN...");const e=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,84));return e&&"function"==typeof e.fromArrayBuffer?globalThis.GeoTIFF=e:e.default&&"function"==typeof e.default.fromArrayBuffer?globalThis.GeoTIFF=e.default:"undefined"!=typeof window&&window.GeoTIFF&&"function"==typeof window.GeoTIFF.fromArrayBuffer?globalThis.GeoTIFF=window.GeoTIFF:globalThis.GeoTIFF=e.default||e,globalThis.GeoTIFF}catch(e){if(console.warn("Dynamic import failed, trying importScripts fallback...",e),"function"!=typeof importScripts)throw new Error("GeoTIFF library not found and cannot be loaded.");try{return importScripts("https://unpkg.com/geotiff/dist-browser/geotiff.min.js"),globalThis.GeoTIFF}catch(e){throw new Error("Failed to load GeoTIFF library: "+e.message)}}}static async _ensureProj4(){if(void 0!==globalThis.proj4)return globalThis.proj4;try{console.log("Loading Proj4 from CDN (ESM)...");const e=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,431));return globalThis.proj4=e.default||e,globalThis.proj4}catch(e){if(console.warn("Dynamic import failed for Proj4, checking environment...",e),"function"==typeof importScripts)try{return importScripts("https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.9.0/proj4.js"),globalThis.proj4}catch(e){throw new Error("Failed to load Proj4 in worker: "+e.message)}else if("undefined"!=typeof document&&document.createElement)return new Promise((e,t)=>{console.log("Loading Proj4 via script tag...");const a=document.createElement("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.9.0/proj4.js",a.onload=()=>{globalThis.proj4?e(globalThis.proj4):t(new Error("Proj4 loaded but global object not found"))},a.onerror=()=>t(new Error("Failed to load Proj4 script")),document.head.appendChild(a)});throw new Error("Proj4 library not found.")}}static async _openFromArrayBuffer(e){const t=await this._ensureGeoTIFF(),a=e&&e.buffer instanceof ArrayBuffer?e.buffer:e;if(!a||"function"!=typeof a.slice)throw new Error("Invalid input to Geoprocessor: Expected ArrayBuffer or Buffer-like object.");const r=await t.fromArrayBuffer(a),o=await r.getImage();return{tiff:r,image:o}}static async _toGeoTIFF(e,t,a){const r=await this._ensureGeoTIFF();try{if("function"==typeof r.writeArrayBuffer)return await r.writeArrayBuffer(e,{width:t,height:a,numberOfRasters:e.length});if(void 0!==r.Writer){const o=r.Writer();return o.writeImage({width:t,height:a,samplesPerPixel:e.length,bitsPerSample:32,sampleFormat:3,data:e}),o.toArrayBuffer()}throw new Error("No GeoTIFF writing method available.")}catch(r){return console.warn("GeoTIFF write failed or not available. returning raw object for fallback.",r),this._toGeorasterObject(e,t,a)}}static _toGeorasterObject(e,t,a){const r=e.map(e=>{const r=[];for(let o=0;o<a;o++){const a=[];for(let r=0;r<t;r++){const n=o*t+r;a.push(e[n])}r.push(a)}return r}),o=[],n=[],i=[];return e.forEach((e,t)=>{let a=1/0,r=-1/0;for(let t of e)Number.isNaN(t)||(t<a&&(a=t),t>r&&(r=t));o[t]=a,n[t]=r,i[t]=r-a}),{width:t,height:a,values:r,numberOfRasters:e.length,mins:o,maxs:n,ranges:i,noDataValue:-9999,_isGeorasterObject:!0}}static _dx(e,t,a,r){const o=new Float32Array(t*a);for(let n=0;n<a;n++)for(let a=0;a<t;a++){const i=n*t+a,s=n*t+Math.max(0,a-1),l=n*t+Math.min(t-1,a+1);o[i]=(e[l]-e[s])/(2*r)}return o}static _dy(e,t,a,r){const o=new Float32Array(t*a);for(let n=0;n<a;n++)for(let i=0;i<t;i++){const s=n*t+i,l=Math.max(0,n-1)*t+i,d=Math.min(a-1,n+1)*t+i;o[s]=(e[d]-e[l])/(2*r)}return o}static async execute({params:e={},args:t={},data:a=[]}){const r=e.action;switch(await this._ensureGeoTIFF(),r){case"info":return this.info({data:a});case"bandMath":return this.bandMath({args:t,data:a});case"algebra":return this.algebra({args:t,data:a});case"slope":return this.slope({args:t,data:a});case"aspect":return this.aspect({args:t,data:a});case"hillshade":return this.hillshade({args:t,data:a});case"mask":return this.mask({args:t,data:a});case"tile":return this.tile({args:t,data:a});case"reproject":return this.reproject({args:t,data:a});case"flowDirection":return this.flowDirection({args:t,data:a});case"flowAccumulation":return this.flowAccumulation({args:t,data:a});case"watershed":return this.watershed({args:t,data:a});case"streamExtract":return this.streamExtract({args:t,data:a});case"pca":return this.pca({args:t,data:a});default:return{ok:!1,error:`Unknown action: ${r}`}}}static async info({data:e}){const t=e[0],{image:a}=await this._openFromArrayBuffer(t);return{ok:!0,result:{width:a.getWidth(),height:a.getHeight(),samples:a.getSamplesPerPixel(),bbox:a.getBoundingBox(),origin:a.getOrigin(),resolution:a.getResolution(),metadata:a.getFileDirectory()}}}static async bandMath({args:e,data:t}){const a=t[0],{image:r}=await this._openFromArrayBuffer(a),o=r.getWidth(),n=r.getHeight(),i=Object.values(e.bands),s=await r.readRasters({samples:i});let l={},d=0;for(const t in e.bands)l[t]=s[d++];const c=new Function(...Object.keys(l),`return ${e.expr};`),u=new Float32Array(o*n);for(let e=0;e<u.length;e++){const t=Object.values(l).map(t=>t[e]);u[e]=c(...t)}return{ok:!0,result:await this._toGeoTIFF([u],o,n)}}static async algebra({args:e,data:t}){const{image:a}=await this._openFromArrayBuffer(t[0]),{image:r}=await this._openFromArrayBuffer(t[1]),o=(await a.readRasters({samples:[0]}))[0],n=(await r.readRasters({samples:[0]}))[0],i=new Float32Array(o.length),s=e.op;switch(s){case"add":for(let e=0;e<o.length;e++)i[e]=o[e]+n[e];break;case"sub":for(let e=0;e<o.length;e++)i[e]=o[e]-n[e];break;case"mul":for(let e=0;e<o.length;e++)i[e]=o[e]*n[e];break;case"div":for(let e=0;e<o.length;e++)i[e]=o[e]/n[e];break;default:return{ok:!1,error:`Invalid algebra op: ${s}`}}const l=a.getWidth(),d=a.getHeight();return{ok:!0,result:await this._toGeoTIFF([i],l,d)}}static async slope({args:e,data:t}){const a=t[0],{image:r}=await this._openFromArrayBuffer(a),o=r.getWidth(),n=r.getHeight(),i=(await r.readRasters({samples:[0]}))[0],s=e.cellSize||r.getResolution()?.[0]||1,l=this._dx(i,o,n,s),d=this._dy(i,o,n,s),c=new Float32Array(i.length);for(let e=0;e<c.length;e++)c[e]=180*Math.atan(Math.sqrt(l[e]**2+d[e]**2))/Math.PI;return{ok:!0,result:await this._toGeoTIFF([c],o,n)}}static async aspect({args:e,data:t}){const a=t[0],{image:r}=await this._openFromArrayBuffer(a),o=r.getWidth(),n=r.getHeight(),i=(await r.readRasters({samples:[0]}))[0],s=e.cellSize||r.getResolution()?.[0]||1,l=this._dx(i,o,n,s),d=this._dy(i,o,n,s),c=new Float32Array(i.length);for(let e=0;e<c.length;e++)c[e]=180*Math.atan2(d[e],-l[e])/Math.PI;return{ok:!0,result:await this._toGeoTIFF([c],o,n)}}static async hillshade({args:e,data:t}){const a=t[0],{image:r}=await this._openFromArrayBuffer(a),o=r.getWidth(),n=r.getHeight(),i=(await r.readRasters({samples:[0]}))[0],s=e.cellSize||r.getResolution()?.[0]||1,l=this._dx(i,o,n,s),d=this._dy(i,o,n,s),c=(e.azimuth||315)*Math.PI/180,u=(e.altitude||45)*Math.PI/180,m=new Float32Array(i.length);for(let e=0;e<m.length;e++){const t=Math.atan(Math.sqrt(l[e]**2+d[e]**2)),a=Math.atan2(d[e],-l[e]);m[e]=255*(Math.cos(u)*Math.cos(t)+Math.sin(u)*Math.sin(t)*Math.cos(c-a))}return{ok:!0,result:await this._toGeoTIFF([m],o,n)}}static async mask({args:e,data:t}){const a=t[0],{image:r}=await this._openFromArrayBuffer(a),o=(await r.readRasters({samples:[0]}))[0],n=new Float32Array(o.length),i=e.min??-1/0,s=e.max??1/0;for(let e=0;e<n.length;e++)n[e]=o[e]>=i&&o[e]<=s?1:0;return{ok:!0,result:await this._toGeoTIFF([n],r.getWidth(),r.getHeight())}}static async tile({args:e,data:t}){const a=t[0],r=e.tileSize||256,{image:o}=await this._openFromArrayBuffer(a),n=o.getWidth(),i=o.getHeight(),s=[];for(let e=0;e<i;e+=r)for(let t=0;t<n;t+=r){const a=Math.min(r,n-t),l=Math.min(r,i-e),d=await o.readRasters({window:[t,e,t+a,e+l]});s.push({x:t,y:e,width:a,height:l,data:d})}return{ok:!0,result:s}}static async flowDirection({args:e,data:t}){const a=t[0],{image:r}=await this._openFromArrayBuffer(a),o=r.getWidth(),n=r.getHeight(),i=(await r.readRasters({samples:[0]}))[0],s=new Uint8Array(o*n),l=[-1,0,1,-1,1,-1,0,1],d=[-1,-1,-1,0,0,1,1,1],c=[32,64,128,16,1,8,4,2];for(let e=0;e<n;e++)for(let t=0;t<o;t++){const a=e*o+t;let r=0,u=0;const m=i[a];for(let a=0;a<8;a++){const s=t+l[a],p=e+d[a];if(s<0||p<0||s>=o||p>=n)continue;const h=m-i[p*o+s];h>r&&(r=h,u=c[a])}s[a]=u}return{ok:!0,result:await this._toGeoTIFF([s],o,n)}}static async flowAccumulation({args:e,data:t}){t[0];const a=(await this.flowDirection({args:{},data:t})).result,{image:r}=await this._openFromArrayBuffer(a),o=r.getWidth(),n=r.getHeight(),i=(await r.readRasters({samples:[0]}))[0],s=new Float32Array(o*n).fill(1),l={1:[1,0],2:[1,1],4:[0,1],8:[-1,1],16:[-1,0],32:[-1,-1],64:[0,-1],128:[1,-1]};let d=!0;for(;d;){d=!1;for(let e=0;e<n;e++)for(let t=0;t<o;t++){const a=e*o+t,r=i[a];if(!l[r])continue;const[c,u]=l[r],m=t+c,p=e+u;if(m<0||p<0||m>=o||p>=n)continue;const h=p*o+m,f=s[h]+s[a];f!==s[h]&&(s[h]=f,d=!0)}}return{ok:!0,result:await this._toGeoTIFF([s],o,n)}}static async watershed({args:e,data:t}){const a=await this.flowAccumulation({args:{},data:t}),{image:r}=await this._openFromArrayBuffer(a.result),o=r.getWidth(),n=r.getHeight(),i=(await r.readRasters({samples:[0]}))[0],s=new Uint8Array(o*n),l=[],d=e.pourPoint.y*o+e.pourPoint.x;for(l.push(d);l.length;){const e=l.pop();if(s[e])continue;s[e]=1;const t=e%o,a=Math.floor(e/o),r=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]];for(const[s,d]of r){const r=t+s,c=a+d;if(r<0||c<0||r>=o||c>=n)continue;const u=c*o+r;i[u]>=i[e]&&l.push(u)}}return{ok:!0,result:await this._toGeoTIFF([s],o,n)}}static async streamExtract({args:e,data:t}){const a=await this.flowAccumulation({args:{},data:t}),{image:r}=await this._openFromArrayBuffer(a.result),o=(await r.readRasters({samples:[0]}))[0],n=r.getWidth(),i=r.getHeight(),s=e.threshold||1e3,l=new Uint8Array(n*i);for(let e=0;e<o.length;e++)l[e]=o[e]>=s?1:0;return{ok:!0,result:await this._toGeoTIFF([l],n,i)}}static async pca({args:e,data:t}){const a=t[0],{image:r}=await this._openFromArrayBuffer(a),o=r.getWidth(),n=r.getHeight(),i=r.getSamplesPerPixel(),s=o*n,l=await r.readRasters(),d=[];for(let e=0;e<i;e++){let t=0;for(let a=0;a<s;a++)t+=l[e][a];d[e]=t/s;for(let t=0;t<s;t++)l[e][t]-=d[e]}const c=Array.from({length:i},()=>Array(i).fill(0));for(let e=0;e<i;e++)for(let t=e;t<i;t++){let a=0;for(let r=0;r<s;r++)a+=l[e][r]*l[t][r];c[e][t]=c[t][e]=a/(s-1)}const{eigenvalues:u,eigenvectors:m}=this._jacobiEigen(c),p=u.map((e,t)=>({v:e,i:t})).sort((e,t)=>t.v-e.v).map(e=>e.i),h=e.components||i,f=[];for(let e=0;e<h;e++){const t=m[p[e]],a=new Float32Array(s);for(let e=0;e<s;e++){let r=0;for(let a=0;a<i;a++)r+=l[a][e]*t[a];a[e]=r}f.push(a)}return{ok:!0,result:await this._toGeoTIFF(f,o,n)}}static _jacobiEigen(e){const t=e.length,a=Array.from({length:t},()=>Array(t).fill(0)),r=e.map(e=>e.slice());for(let e=0;e<t;e++)a[e][e]=1;let o=!0;for(;o;){o=!1;for(let e=0;e<t;e++)for(let n=e+1;n<t;n++){if(Math.abs(r[e][n])<1e-10)continue;const i=.5*Math.atan2(2*r[e][n],r[n][n]-r[e][e]),s=Math.cos(i),l=Math.sin(i),d=s*s*r[e][e]-2*l*s*r[e][n]+l*l*r[n][n],c=l*l*r[e][e]+2*l*s*r[e][n]+s*s*r[n][n];r[e][e]=d,r[n][n]=c,r[e][n]=r[n][e]=0;for(let a=0;a<t;a++){if(a===e||a===n)continue;const t=s*r[a][e]-l*r[a][n],o=l*r[a][e]+s*r[a][n];r[a][e]=r[e][a]=t,r[a][n]=r[n][a]=o}for(let r=0;r<t;r++){const t=s*a[r][e]-l*a[r][n],o=l*a[r][e]+s*a[r][n];a[r][e]=t,a[r][n]=o}o=!0}}return{eigenvalues:r.map((e,t)=>e[t]),eigenvectors:a}}static async clipGeo({args:e,data:t}){const a=t[0],{image:r}=await this._openFromArrayBuffer(a),[o,n]=r.getOrigin(),[i,s]=r.getResolution(),[l,d,c,u]=e.bounds,m=Math.floor((l-o)/i),p=Math.ceil((c-o)/i),h=Math.floor((n-u)/Math.abs(s)),f=Math.ceil((n-d)/Math.abs(s));return this.clip({args:{window:[m,h,p,f]},data:t})}static async reproject({args:e,data:t}){await this._ensureProj4();const a=t[0],{image:r}=await this._openFromArrayBuffer(a),o=e.srcCRS||r.getGeoKeys()?.ProjectedCSTypeGeoKey,n=e.dstCRS,i=e.width,s=e.height,l=e.bounds,d=(e.method,await r.readRasters()),c=d.length,u=Array.from({length:c},()=>new Float32Array(i*s)),[m,p,h,f]=l,g=(h-m)/i,y=(f-p)/s,b=globalThis.proj4;for(let e=0;e<s;e++)for(let t=0;t<i;t++){const a=m+t*g,s=f-e*y,[l,p]=b(n,o,[a,s]),h=r.getOrigin(),w=r.getResolution(),v=Math.floor((l-h[0])/w[0]),S=Math.floor((h[1]-p)/w[1]);if(v<0||S<0||v>=r.getWidth()||S>=r.getHeight())continue;const x=S*r.getWidth()+v,_=e*i+t;for(let e=0;e<c;e++)u[e][_]=d[e][x]}return{ok:!0,result:await this._toGeoTIFF(u,i,s)}}}class Analyze{constructor(e=["stats","hydro","nn","geoprocessor"]){e.includes("stats")&&(this.stats=stats),e.includes("hydro")&&(this.hydro=hydro),e.includes("nn")&&(this.nn=nn),e.includes("geoprocessor")&&(this.geoprocessor=geoprocessor)}async loadFloodDM(){try{const e=await Promise.all([__webpack_require__.e(275),__webpack_require__.e(163),__webpack_require__.e(56)]).then(__webpack_require__.bind(__webpack_require__,205));return this.floodDM=new e.default,this.floodDM}catch(e){throw console.error("Failed to load floodDM module:",e),e}}}class HydroLangCache{constructor(){this.dbName="HydroLang_DataCache",this.version=1,this.db=null,this.maxCacheSize=107374182400,this.maxFileSize=10737418240,this.maxAge=7776e6,this.cleanupInterval=36e5,this.lastCleanup=0}async init(){if(!this.db)return new Promise((e,t)=>{const a=indexedDB.open(this.dbName,this.version);a.onerror=()=>t(a.error),a.onsuccess=()=>{this.db=a.result,console.log("HydroLang cache initialized"),e()},a.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains("files")){const e=t.createObjectStore("files",{keyPath:"cacheKey"});e.createIndex("url","url",{unique:!1}),e.createIndex("source","source",{unique:!1}),e.createIndex("dataset","dataset",{unique:!1}),e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("size","size",{unique:!1}),e.createIndex("format","format",{unique:!1}),e.createIndex("source_dataset",["source","dataset"],{unique:!1}),e.createIndex("lastAccessed","lastAccessed",{unique:!1})}}})}generateCacheKey(e,t={}){const a=t.source||"unknown",r=t.datatype||"data";if(!e||"string"!=typeof e)return console.warn("generateCacheKey called with invalid URL:",e),`${a}-${r}-invalid-url`;let o=e;if(o.includes("/cors/")||o.includes("/simple-proxy/")){const e=o.match(/\/(?:cors|simple-proxy)\/(https?:\/\/.*)$/);e&&(o=e[1])}let n=0;for(let e=0;e<o.length;e++)n=(n<<5)-n+o.charCodeAt(e),n&=n;return`${a}-${r}-${Math.abs(n)}`}generateChunkKey(e,t){return`${e}-chunk-${t}`}async checkPartialDownload(e,t={}){this.db||await this.init();const a=this.generateCacheKey(e,t.params||{}),r=`${a}-manifest`;try{const e=await new Promise((e,t)=>{const a=this.db.transaction(["files"],"readonly").objectStore("files").get(r);a.onsuccess=()=>e(a.result),a.onerror=()=>t(a.error)});if(!e)return null;const t=JSON.parse((new TextDecoder).decode(e.data)),o=[];for(let e=0;e<t.totalChunks;e++){const a=t.chunks[e];try{await new Promise((e,t)=>{const r=this.db.transaction(["files"],"readonly").objectStore("files").get(a);r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)})&&o.push(e)}catch(e){}}return console.log(`Found partial download: ${o.length}/${t.totalChunks} chunks`),{manifest:t,downloadedChunks:o,baseKey:a,manifestKey:r}}catch(e){return null}}async resumeChunkedDownload(e,t={},a=104857600){const{manifest:r,downloadedChunks:o,baseKey:n}=e,{url:i,totalChunks:s,totalSize:l}=r;console.log(`Resuming download: ${o.length}/${s} chunks already downloaded`);const d=[],c=new Set(o);for(let e=0;e<s;e++)if(c.has(e))try{const t=await new Promise((t,a)=>{const o=this.db.transaction(["files"],"readonly").objectStore("files").get(r.chunks[e]);o.onsuccess=()=>t(o.result),o.onerror=()=>a(o.error)});d.push(t.data),console.log(`Using cached chunk ${e+1}/${s}`)}catch(t){throw console.error(`Failed to retrieve cached chunk ${e}:`,t),t}else{const o=e*a,c=Math.min(o+a-1,l-1);try{console.log(`Downloading missing chunk ${e+1}/${s} (bytes ${o}-${c})`);const a=await globalThis._originalFetch(i,{...t,headers:{...t.headers,Range:`bytes=${o}-${c}`}});if(!a.ok)throw new Error(`Range request failed: ${a.status} ${a.statusText}`);const l=await a.arrayBuffer(),u=r.chunks[e];await this.put(u,l,{source:t.source||"unknown",dataset:t.dataset||"unknown",format:"chunk",isChunk:!0,chunkIndex:e,totalChunks:s,chunkStart:o,chunkEnd:c,baseKey:n,originalUrl:i,isChunkData:!0}),console.log(`Downloaded and cached chunk ${e+1}/${s} (${(l.byteLength/1024/1024).toFixed(1)}MB)`),d.push(l)}catch(t){throw console.error(`Failed to download chunk ${e}:`,t),t}}const u=new Uint8Array(l);let m=0;for(const e of d)u.set(new Uint8Array(e),m),m+=e.byteLength;console.log(`Resumed download complete: ${(l/1024/1024).toFixed(1)}MB in ${s} chunks`);const p=t.params?.originalUrl||i,h=this.generateCacheKey(p,{source:t.source||"unknown",datatype:t.dataset||"data"});return await this.put(h,u.buffer,{source:t.source||"unknown",dataset:t.dataset||"unknown",dataType:t.datatype||"data",format:"netcdf",assembledFromChunks:!0,chunkManifest:manifestKey,originalUrl:p,totalSize:l,params:t.params}),{ok:!0,status:200,statusText:"OK",headers:new Headers({"content-type":"application/octet-stream","content-length":l.toString()}),arrayBuffer:async()=>u.buffer,text:async()=>(new TextDecoder).decode(u),json:async()=>JSON.parse((new TextDecoder).decode(u)),blob:async()=>new Blob([u.buffer])}}async downloadChunked(e,t={},a=104857600){this.db||await this.init();const r=await this.checkPartialDownload(e,t);if(r)return console.log("Resuming partial download"),this.resumeChunkedDownload(r,t,a);const o=e.includes("s3.")||e.includes("amazonaws.com")||e.includes("amazon.com");let n=null,i=null;if(!e.includes("noaa.gov")&&!t.params?.skipSizeDetection)try{const a=await globalThis._originalFetch(e,{method:"HEAD",...t});a.ok&&(n=a.headers.get("accept-ranges"),i=parseInt(a.headers.get("content-length")),i&&console.log(`File size detected: ${(i/1024/1024).toFixed(1)}MB via HEAD`))}catch(e){console.warn("HEAD request failed:",e.message)}if(i||!e.includes("noaa.gov")&&!t.params?.skipSizeDetection){if(!i&&(o||context.expectedSize>10485760)&&!e.includes("noaa.gov")&&!t.params?.skipSizeDetection)try{console.log("Trying range request to detect file size...");const a=await globalThis._originalFetch(e,{...t,headers:{...t.headers,Range:"bytes=0-0"}});if(a.ok&&206===a.status){const e=a.headers.get("content-range");if(e){const t=e.match(/\/(\d+)$/);t&&(i=parseInt(t[1]),n="bytes",console.log(`File size detected: ${(i/1024/1024).toFixed(1)}MB via range request`))}}}catch(e){console.warn("Range request failed:",e.message)}}else n="bytes";if(!i&&o)n="bytes";else if(!i&&!e.includes("noaa.gov")&&!t.params?.skipSizeDetection)return console.warn("Could not determine content length, falling back to full download"),globalThis._originalFetch(e,t);if(i&&i<=a)return globalThis._originalFetch(e,t);const s=this.generateCacheKey(e,t.params||{});let l=i?Math.ceil(i/a):null,d=i;const c=[];let u=0,m=0;for(;;){const r=u*a;let o;o=i?Math.min(r+a-1,i-1):r+a-1;try{const n=i?`chunk ${u+1}/${l} (bytes ${r}-${o})`:`chunk ${u+1} (bytes ${r}-${o})`;console.log(`Downloading ${n}`);const p=await globalThis._originalFetch(e,{...t,headers:{...t.headers,Range:`bytes=${r}-${o}`}});if(!p.ok){if(416===p.status){console.log(`Reached end of file at chunk ${u}`);break}throw new Error(`Range request failed: ${p.status} ${p.statusText}`)}const h=await p.arrayBuffer();if(!i){const e=p.headers.get("content-range");if(e){const t=e.match(/\/(\d+)$/);t&&(d=parseInt(t[1]),l=Math.ceil(d/a))}}const f=this.generateChunkKey(s,u);if(await this.put(f,h,{cacheKey:f,source:t.source||"unknown",dataset:t.dataset||"unknown",format:"chunk",isChunk:!0,chunkIndex:u,totalChunks:l||null,chunkStart:r,chunkEnd:r+h.byteLength-1,baseKey:s,originalUrl:e,isChunkData:!0}),c.push(h),m+=h.byteLength,h.byteLength<a)break;if(u++,u>1e3){console.warn("Too many chunks downloaded, stopping to prevent infinite loop");break}}catch(e){throw console.error(`Failed to download chunk ${u}:`,e),e}}const p=d||m,h=new Uint8Array(p);let f=0;for(const e of c)h.set(new Uint8Array(e),f),f+=e.byteLength;const g=t.params?.originalUrl||e,y=this.generateCacheKey(g,{source:t.source||"unknown",datatype:t.dataset||"data"});return await this.put(y,h.buffer,{source:t.source||"unknown",dataset:t.dataset||"unknown",dataType:t.datatype||"data",format:"netcdf",assembledFromChunks:!0,totalSize:p,originalUrl:g,params:t.params}),{ok:!0,status:200,statusText:"OK",headers:new Headers({"content-type":"application/octet-stream","content-length":p.toString()}),arrayBuffer:async()=>h.buffer,text:async()=>(new TextDecoder).decode(h),json:async()=>JSON.parse((new TextDecoder).decode(h))}}async reassembleChunks(e){return this.db||await this.init(),new Promise((t,a)=>{const r=this.db.transaction(["files"],"readonly").objectStore("files"),o=[],n=r.openCursor();n.onsuccess=a=>{const r=a.target.result;if(r){const t=r.value;t.baseKey===e&&t.isChunk&&o.push({index:t.chunkIndex,data:t.data,size:t.data.byteLength}),r.continue()}else{if(0===o.length)return void t(null);o.sort((e,t)=>e.index-t.index);const a=o.reduce((e,t)=>e+t.size,0),r=new Uint8Array(a);let n=0;for(const e of o)r.set(new Uint8Array(e.data),n),n+=e.size;t({data:r.buffer,metadata:{reassembled:!0,totalSize:a,chunkCount:o.length,baseKey:e}})}},n.onerror=()=>a(n.error)})}async get(e){this.db||await this.init();const t=await new Promise((t,a)=>{const r=this.db.transaction(["files"],"readonly"),o=r.objectStore("files").get(e);o.onsuccess=()=>{const a=o.result;a&&!a.isChunk?Date.now()-a.timestamp>this.maxAge?(this.delete(e),t(null)):t({data:a.data,metadata:a}):t(null)},r.onerror=()=>a(r.error)});if(t)return t;return await this.reassembleChunks(e)||null}async put(e,t,a){if(this.db||await this.init(),t.byteLength>this.maxFileSize)return void console.warn(`File too large (${(t.byteLength/1024/1024).toFixed(1)}MB), skipping cache`);const r={cacheKey:e,url:a.originalUrl||a.url||e,data:t,dataType:a.dataType,timestamp:Date.now(),lastAccessed:Date.now(),...a};return await this.cleanupIfNeeded(),new Promise((a,o)=>{const n=this.db.transaction(["files"],"readwrite");n.objectStore("files").put(r),n.oncomplete=()=>{console.log(`Cached: ${e} (${(t.byteLength/1024/1024).toFixed(1)}MB)`),a(e)},n.onerror=()=>o(n.error)})}async putChunked(e,t,a,r=104857600){this.db||await this.init();const o=t.byteLength,n=Math.ceil(o/r),i=e;console.log(`Storing large file as ${n} chunks: ${e}`);for(let e=0;e<n;e++){const s=e*r,l=Math.min(s+r,o),d=t.slice(s,l),c=this.generateChunkKey(i,e);await this.put(c,d,{...a,cacheKey:c,format:"chunk",isChunk:!0,chunkIndex:e,totalChunks:n,chunkStart:s,chunkEnd:l-1,baseKey:i,isChunkData:!0})}return i}async updateLastAccessed(e){return this.db||await this.init(),new Promise((t,a)=>{const r=this.db.transaction(["metadata"],"readwrite").objectStore("metadata"),o=r.get(e);o.onsuccess=()=>{if(o.result){const e=o.result;e.lastAccessed=Date.now(),r.put(e)}t()},o.onerror=()=>a(o.error)})}async cleanupIfNeeded(){this.db||await this.init();const e=Date.now();if(!(e-this.lastCleanup<this.cleanupInterval)){this.lastCleanup=e,console.log("Running cache cleanup...");try{const t=await this.getStats(),a=[];for(const r of t.entries)e-r.timestamp>this.maxAge&&a.push(r.cacheKey);for(const e of a)await this.delete(e);if(t.totalSize>this.maxCacheSize){const e=await this.getStats(),t=e.entries.sort((e,t)=>e.lastAccessed-t.lastAccessed);let a=e.totalSize-this.maxCacheSize;for(const e of t){if(a<=0)break;await this.delete(e.cacheKey),a-=e.size}}console.log("Cache cleanup complete")}catch(e){console.warn("Cache cleanup failed:",e)}}}async delete(e){return this.db||await this.init(),new Promise((t,a)=>{const r=this.db.transaction(["files"],"readwrite");r.objectStore("files").delete(e),r.oncomplete=()=>t(),r.onerror=()=>a(r.error)})}async getStats(){return this.db||await this.init(),new Promise((e,t)=>{const a=this.db.transaction(["files"],"readonly").objectStore("files").getAll();a.onsuccess=()=>{const t=a.result,r=t.reduce((e,t)=>e+(t.data?.byteLength||0),0);e({totalFiles:t.length,totalSize:r,totalSizeMB:(r/1024/1024).toFixed(1),totalSizeGB:(r/1024/1024/1024).toFixed(2),entries:t.map(e=>({cacheKey:e.cacheKey,filename:e.url?.split("/").pop()||"unknown",source:e.source,dataset:e.dataset,format:e.format,size:e.data?.byteLength||0,sizeMB:((e.data?.byteLength||0)/1024/1024).toFixed(1),timestamp:new Date(e.timestamp).toISOString(),lastAccessed:new Date(e.lastAccessed).toISOString(),age:Math.floor((Date.now()-e.timestamp)/864e5)}))})},a.onerror=()=>t(a.error)})}async clear(){return this.db||await this.init(),new Promise((e,t)=>{const a=this.db.transaction(["files"],"readwrite");a.objectStore("files").clear(),a.oncomplete=()=>{console.log("Cleared all cached data"),e()},a.onerror=()=>t(a.error)})}async list(e={}){return this.db||await this.init(),new Promise((t,a)=>{const r=this.db.transaction(["files"],"readonly").objectStore("files").getAll();r.onsuccess=()=>{let a=r.result;e.source&&(a=a.filter(t=>t.source===e.source)),e.dataType&&(a=a.filter(t=>t.dataType===e.dataType)),e.includeVariables||(a=a.filter(e=>!e.cacheKey.startsWith("var_")));const o=a.map(e=>({cacheKey:e.cacheKey,source:e.source,dataType:e.dataType,format:e.format,size:e.size,sizeFormatted:this.formatBytes(e.size),timestamp:e.timestamp,lastAccessed:e.lastAccessed,age:Date.now()-e.timestamp,ageFormatted:this.formatAge(Date.now()-e.timestamp),url:e.url}));o.sort((e,t)=>t.lastAccessed-e.lastAccessed),t(o)},r.onerror=()=>a(r.error)})}async getBySource(e){return this.db||await this.init(),new Promise((t,a)=>{const r=this.db.transaction(["files"],"readonly").objectStore("files").getAll();r.onsuccess=()=>{const a=r.result.filter(t=>t.source===e);t(a)},r.onerror=()=>a(r.error)})}formatBytes(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]}formatAge(e){const t=Math.floor(e/1e3),a=Math.floor(t/60),r=Math.floor(a/60),o=Math.floor(r/24);return o>0?`${o} day${o>1?"s":""} ago`:r>0?`${r} hour${r>1?"s":""} ago`:a>0?`${a} minute${a>1?"s":""} ago`:`${t} second${t>1?"s":""} ago`}async storeVariable(e,t,a={}){this.db||await this.init();const r=`var_${e}`;return new Promise((o,n)=>{const i=this.db.transaction(["files"],"readwrite"),s=i.objectStore("files");let l;if(t instanceof ArrayBuffer)l=t;else if("string"==typeof t)l=(new TextEncoder).encode(t).buffer;else{const e=JSON.stringify(t);l=(new TextEncoder).encode(e).buffer}s.put({cacheKey:r,data:l,url:`variable://${e}`,source:"runtime",dataset:"variables",format:a.format||"json",digestible:!0,filename:e,size:l.byteLength,timestamp:Date.now(),lastAccessed:Date.now(),variableKey:e,variableType:typeof t,...a}),i.oncomplete=()=>{console.log(`Stored runtime variable: ${e} (${l.byteLength} bytes)`),o()},i.onerror=()=>n(i.error)})}async getVariable(e){this.db||await this.init();const t=`var_${e}`;return new Promise((e,a)=>{const r=this.db.transaction(["files"],"readonly"),o=r.objectStore("files").get(t);o.onsuccess=()=>{const a=o.result;if(a){let r;this.updateLastAccessed(t).catch(console.warn);const o=new Uint8Array(a.data);if("string"===a.variableType)r=(new TextDecoder).decode(o);else if("json"===a.format||"object"===a.variableType){const e=(new TextDecoder).decode(o);try{r=JSON.parse(e)}catch(t){r=e}}else r=a.data;e({key:a.variableKey,value:r,metadata:a,timestamp:a.timestamp,lastAccessed:a.lastAccessed})}else e(null)},r.onerror=()=>a(r.error)})}async deleteVariable(e){const t=`var_${e}`;return await this.delete(t)}async listVariables(){return this.db||await this.init(),new Promise((e,t)=>{const a=this.db.transaction(["files"],"readonly").objectStore("files").getAll();a.onsuccess=()=>{const t=a.result.filter(e=>"runtime"===e.source&&"variables"===e.dataset).map(e=>({key:e.variableKey,type:e.variableType,format:e.format,size:e.data?.byteLength||0,timestamp:e.timestamp,lastAccessed:e.lastAccessed}));e(t)},a.onerror=()=>t(a.error)})}async saveDataset(e,t,a={}){const r={data:t,savedAt:(new Date).toISOString(),...a};return await this.storeVariable(`dataset_${e}`,r,{format:"dataset",datasetKey:e})}async loadDataset(e){const t=await this.getVariable(`dataset_${e}`);return t?t.value:null}async listDatasets(){return(await this.listVariables()).filter(e=>e.key.startsWith("dataset_")).map(e=>({...e,datasetKey:e.key.replace("dataset_","")}))}async deleteDataset(e){return await this.deleteVariable(`dataset_${e}`)}async saveRetrievedData(e,t,a,r={}){const o={source:a,params:r,retrievedAt:(new Date).toISOString(),autoSaved:!0};return await this.saveDataset(e,t,o)}async cacheRawFile(e,t,a={}){try{const r=t instanceof ArrayBuffer?t:await t;let o="unknown";e.includes(".nc")||e.includes("netcdf")?o="netcdf":e.includes(".grb")||e.includes(".grib")?o="grib2":e.includes(".json")&&(o="json");const n=this.generateCacheKey(e,{source:a.source||"manual",datatype:a.dataset||"raw-file"});return await this.put(n,r,{source:a.source||"manual",dataset:a.dataset||"raw-file",dataType:a.dataType||"raw-file",format:o,digestible:"json"===o,filename:e.split("/").pop()||"data",size:r.byteLength,manuallyCached:!0,originalUrl:e,...a}),console.log(`Manually cached ${r.byteLength} bytes for: ${e}`),!0}catch(e){return console.error("Failed to manually cache file:",e),!1}}}const hydroLangCache=new HydroLangCache,cacheAPI={getStats:()=>hydroLangCache.getStats(),clear:()=>hydroLangCache.clear(),getBySource:e=>hydroLangCache.getBySource(e),delete:e=>hydroLangCache.delete(e),cleanup:()=>hydroLangCache.cleanupIfNeeded(),storeVariable:(e,t,a)=>hydroLangCache.storeVariable(e,t,a),getVariable:e=>hydroLangCache.getVariable(e),deleteVariable:e=>hydroLangCache.deleteVariable(e),listVariables:()=>hydroLangCache.listVariables(),saveDataset:(e,t,a)=>hydroLangCache.saveDataset(e,t,a),loadDataset:e=>hydroLangCache.loadDataset(e),listDatasets:()=>hydroLangCache.listDatasets(),deleteDataset:e=>hydroLangCache.deleteDataset(e),saveRetrievedData:(e,t,a,r)=>hydroLangCache.saveRetrievedData(e,t,a,r),cacheRawFile:(e,t,a)=>hydroLangCache.cacheRawFile(e,t,a),putChunked:(e,t,a,r)=>hydroLangCache.putChunked(e,t,a,r),getChunked:e=>hydroLangCache.getChunked(e)};function generateSimpleCacheKey(e,t){const a=e.source||"unknown",r=e.dataType||"data";if(e.cacheId){if(t.includes(".zarr/")){const o=t.match(/\.zarr\/(.*)$/);if(o&&o[1])return`${a}/${r}/${e.cacheId}-${o[1].replace(/\//g,"-")}`}return`${a}/${r}/${e.cacheId}`}const o=t;let n=0;for(let e=0;e<o.length;e++)n=(n<<5)-n+o.charCodeAt(e),n&=n;return`${a}/${r}/${Math.abs(n).toString(36).substring(0,4)}`}function detectFormat(e,t){if(t.includes("application/json")||e.includes("outputFormat=application/json"))return"json";if(t.includes("application/xml")||t.includes("text/xml"))return"xml";if(t.includes("application/x-grib"))return"grib2";if(t.includes("application/x-netcdf"))return"netcdf";const a=e.split("?")[0].toLowerCase();if(a.endsWith(".nc"))return"netcdf";if(a.endsWith(".grib2")||a.endsWith(".grb"))return"grib2";if(a.endsWith(".h5")||a.endsWith(".hdf5"))return"hdf5";if(a.endsWith(".tif")||a.endsWith(".tiff"))return"geotiff";if(a.endsWith(".zip"))return"archive";if(e.includes(".zarr/")){const t=e.split(".zarr/")[1];return t&&/^\d+\.\d+\.\d+$/.test(t.split("/")[0])?"zarr-chunk":"zarr"}return"unknown"}async function cachedFetch(e,t={}){const a=globalThis.hydro?.cache,r=globalThis._originalFetch||globalThis.fetch;if(!a)return r(e,t);const o=globalThis._hydroCacheContext||{},n=generateSimpleCacheKey(o,e);if(!1!==o.cache)try{const e=await a.get(n);if(e){console.log(`✓ Cache hit [${n}]`);const t=e.metadata?.format;return"json"===t||"xml"===t?new Response(new Blob([e.data],{type:e.metadata.contentType}),{status:e.metadata.responseStatus||200,headers:{"content-type":e.metadata.contentType}}):e.data}}catch(e){console.warn("Cache read failed:",e.message)}else console.log(`Cache disabled for this request: ${e}`);let i,s;console.log(`Fetching from server: ${e}`);const l=e.includes(".zarr/")&&/\d+\.\d+\.\d+$/.test(e.split(".zarr/")[1]),d=e.includes(".zarray")||e.includes(".zattrs")||e.includes(".zgroup"),c=e.includes("service=WFS")||e.includes("service=WMS")||e.includes("/ows?")||e.includes("/wfs?")||e.includes("outputFormat=application/json")||e.includes("outputFormat=json"),u=e.match(/\.(grib2|grb2|nc|hdf|hdf5)(\?|$)/i)&&(e.includes("nomads.ncep.noaa.gov")||e.includes("amazonaws.com")),m=o.params?.chunked,p=!c&&!l&&!d&&(!0===m||!1!==m&&(o.useChunkedDownload||o.expectedSize&&o.expectedSize>104857600||u));if(!0===t.proxy||!0===t.params?.proxy||!0===o.params?.proxy||e.includes("ncep.noaa.gov")||e.includes("nomads.ncep.noaa.gov")||e.includes("amazonaws.com")||e.includes("nasa.gov"))console.log("Skipping direct fetch for CORS-restricted URL, using proxies");else try{p?(console.log("Using chunked download"),i=await a.downloadChunked(e,{...t,source:o.source||"unknown",expectedSize:o.expectedSize,params:o.params})):i=await globalThis._originalFetch(e,t),i&&i.ok||(i=null)}catch(e){s=e,console.warn("Direct fetch failed, trying proxies:",e.message),i=null}if(!i&&globalThis.hydro?.proxies){const r=globalThis.hydro.proxies;if(r["local-proxy"]?.endpoint){const n=Array.isArray(r["local-proxy"].endpoint)?r["local-proxy"].endpoint:[r["local-proxy"].endpoint];for(const r of n)try{const n=r+e;i=p?await a.downloadChunked(n,{...t,source:o.source||"unknown",expectedSize:e.includes("noaa.gov")?104857600:o.expectedSize,params:{...o.params,source:o.source||"unknown",originalUrl:e,skipSizeDetection:e.includes("noaa.gov")}}):await globalThis._originalFetch(n,t);break}catch(e){s=e}}if(!i&&r.researchverse)try{const n=r.researchverse.endpoint+e;i=p?await a.downloadChunked(n,{...t,source:o.source||"unknown",expectedSize:e.includes("noaa.gov")?104857600:o.expectedSize,params:{...o.params,source:o.source||"unknown",originalUrl:e,skipSizeDetection:e.includes("noaa.gov")}}):await globalThis._originalFetch(n,t),console.log("CORS proxy succeeded")}catch(e){s=e}}if(!i)throw new Error(`All fetch attempts failed: ${s?.message}`);const h=i.headers.get("content-type")||"",f=detectFormat(e,h),g="json"===f||"xml"===f;if(!p&&!1!==o.cache)try{const t=await i.clone().arrayBuffer(),r="zarr-chunk"===f,s=!r&&t.byteLength>5242880,l={source:o.source||"unknown",dataset:o.dataset||o.source||"unknown",dataType:o.dataType||"data",format:f,contentType:h,digestible:g,filename:e.split("/").pop()||"data",size:t.byteLength,responseStatus:i.status,responseOk:i.ok,params:o.params||{},isChunkData:r,originalUrl:e};s?await a.putChunked(n,t,{...l,chunked:!0}):await a.put(n,t,l),console.log(`✓ Cached [${n}]: ${f} (${(t.byteLength/1024).toFixed(0)}KB)`)}catch(e){console.warn("Caching failed:",e.message)}return g?i:await i.arrayBuffer()}var hydro_datasources=__webpack_require__(903);class Hydrolang{constructor(e={includeVisuals:!0}){this.data={...datav_12.Ay},this.analyze=new Analyze(e.analyzeComponents),this.datasources=hydro_datasources.default,!1!==e.cache?(this.cache=new HydroLangCache,this._initCache()):(this.cache={init:async()=>{},get:async()=>null,put:async()=>{},putChunked:async()=>{},downloadChunked:async()=>null,reassembleChunks:async()=>null,delete:async()=>{},clear:async()=>{},keys:async()=>[]},globalThis._originalFetch||(globalThis._originalFetch=globalThis.fetch),globalThis.hydro=this,console.log("HydroLang Cache disabled by configuration.")),e.includeVisuals&&this._loadVisualModules()}async _initCache(){try{await this.cache.init(),globalThis._originalFetch||(globalThis._originalFetch=globalThis.fetch),globalThis.hydro=this}catch(e){console.error("Failed to initialize HydroLang cache:",e),globalThis.hydro=this}}async _loadVisualModules(){try{const[e,t]=await Promise.all([__webpack_require__.e(275).then(__webpack_require__.bind(__webpack_require__,908)),Promise.all([__webpack_require__.e(275),__webpack_require__.e(163)]).then(__webpack_require__.bind(__webpack_require__,823))]);this.visualize={...e.default},this.map={...t.default}}catch(e){console.warn("Visual modules could not be loaded:",e)}}}"undefined"!=typeof window&&(window.Hydrolang=Hydrolang);const hydrolang_hydro=Hydrolang;export{hydrolang_hydro as default};